function countUp(a, b, c, d, e, f) {
    for (var g = 0, h = [ "webkit", "moz", "ms" ], i = 0; i < h.length && !window.requestAnimationFrame; ++i) window.requestAnimationFrame = window[h[i] + "RequestAnimationFrame"], 
    window.cancelAnimationFrame = window[h[i] + "CancelAnimationFrame"] || window[h[i] + "CancelRequestAnimationFrame"];
    window.requestAnimationFrame || (window.requestAnimationFrame = function(a) {
        var c = new Date().getTime(), d = Math.max(0, 16 - (c - g)), e = window.setTimeout(function() {
            a(c + d);
        }, d);
        return g = c + d, e;
    }), window.cancelAnimationFrame || (window.cancelAnimationFrame = function(a) {
        clearTimeout(a);
    }), this.options = f || {
        useEasing: !0,
        useGrouping: !0,
        separator: ",",
        decimal: "."
    }, "" == this.options.separator && (this.options.useGrouping = !1), null == this.options.prefix && (this.options.prefix = ""), 
    null == this.options.suffix && (this.options.suffix = "");
    var j = this;
    this.d = "string" == typeof a ? document.getElementById(a) : a, this.startVal = Number(b), 
    this.endVal = Number(c), this.countDown = this.startVal > this.endVal ? !0 : !1, 
    this.startTime = null, this.timestamp = null, this.remaining = null, this.frameVal = this.startVal, 
    this.rAF = null, this.decimals = Math.max(0, d || 0), this.dec = Math.pow(10, this.decimals), 
    this.duration = 1e3 * e || 2e3, this.version = function() {
        return "1.2.0";
    }, this.easeOutExpo = function(a, b, c, d) {
        return 1024 * c * (-Math.pow(2, -10 * a / d) + 1) / 1023 + b;
    }, this.count = function(a) {
        null === j.startTime && (j.startTime = a), j.timestamp = a;
        var b = a - j.startTime;
        if (j.remaining = j.duration - b, j.options.useEasing) if (j.countDown) {
            var c = j.easeOutExpo(b, 0, j.startVal - j.endVal, j.duration);
            j.frameVal = j.startVal - c;
        } else j.frameVal = j.easeOutExpo(b, j.startVal, j.endVal - j.startVal, j.duration); else if (j.countDown) {
            var c = (j.startVal - j.endVal) * (b / j.duration);
            j.frameVal = j.startVal - c;
        } else j.frameVal = j.startVal + (j.endVal - j.startVal) * (b / j.duration);
        j.frameVal = Math.round(j.frameVal * j.dec) / j.dec, j.frameVal = j.countDown ? j.frameVal < j.endVal ? j.endVal : j.frameVal : j.frameVal > j.endVal ? j.endVal : j.frameVal, 
        j.d.innerHTML = j.formatNumber(j.frameVal.toFixed(j.decimals)), b < j.duration ? j.rAF = requestAnimationFrame(j.count) : null != j.callback && j.callback();
    }, this.start = function(a) {
        return j.callback = a, isNaN(j.endVal) || isNaN(j.startVal) ? (console.log("countUp error: startVal or endVal is not a number"), 
        j.d.innerHTML = "--") : j.rAF = requestAnimationFrame(j.count), !1;
    }, this.stop = function() {
        cancelAnimationFrame(j.rAF);
    }, this.reset = function() {
        j.startTime = null, j.startVal = b, cancelAnimationFrame(j.rAF), j.d.innerHTML = j.formatNumber(j.startVal.toFixed(j.decimals));
    }, this.resume = function() {
        j.startTime = null, j.duration = j.remaining, j.startVal = j.frameVal, requestAnimationFrame(j.count);
    }, this.formatNumber = function(a) {
        a += "";
        var b, c, d, e;
        if (b = a.split("."), c = b[0], d = b.length > 1 ? j.options.decimal + b[1] : "", 
        e = /(\d+)(\d{3})/, j.options.useGrouping) for (;e.test(c); ) c = c.replace(e, "$1" + j.options.separator + "$2");
        return j.options.prefix + c + d + j.options.suffix;
    }, j.d.innerHTML = j.formatNumber(j.startVal.toFixed(j.decimals));
}

!function(e) {
    if ("object" == typeof exports && "undefined" != typeof module) module.exports = e(); else if ("function" == typeof define && define.amd) define([], e); else {
        var t;
        t = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, 
        t.Hls = e();
    }
}(function() {
    return function s(e, t, r) {
        function n(a, d) {
            if (!t[a]) {
                if (!e[a]) {
                    var l = "function" == typeof require && require;
                    if (!d && l) return l(a, !0);
                    if (i) return i(a, !0);
                    var u = new Error("Cannot find module '" + a + "'");
                    throw u.code = "MODULE_NOT_FOUND", u;
                }
                var o = t[a] = {
                    exports: {}
                };
                e[a][0].call(o.exports, function(t) {
                    var r = e[a][1][t];
                    return n(r ? r : t);
                }, o, o.exports, s, e, t, r);
            }
            return t[a].exports;
        }
        for (var i = "function" == typeof require && require, a = 0; a < r.length; a++) n(r[a]);
        return n;
    }({
        1: [ function(s, a, o) {
            function e() {
                this._events = this._events || {}, this._maxListeners = this._maxListeners || void 0;
            }
            function t(e) {
                return "function" == typeof e;
            }
            function i(e) {
                return "number" == typeof e;
            }
            function r(e) {
                return "object" == typeof e && null !== e;
            }
            function n(e) {
                return void 0 === e;
            }
            a.exports = e, e.EventEmitter = e, e.prototype._events = void 0, e.prototype._maxListeners = void 0, 
            e.defaultMaxListeners = 10, e.prototype.setMaxListeners = function(e) {
                if (!i(e) || 0 > e || isNaN(e)) throw TypeError("n must be a positive number");
                return this._maxListeners = e, this;
            }, e.prototype.emit = function(l) {
                var s, e, u, a, i, o;
                if (this._events || (this._events = {}), "error" === l && (!this._events.error || r(this._events.error) && !this._events.error.length)) {
                    if (s = arguments[1], s instanceof Error) throw s;
                    throw TypeError('Uncaught, unspecified "error" event.');
                }
                if (e = this._events[l], n(e)) return !1;
                if (t(e)) switch (arguments.length) {
                  case 1:
                    e.call(this);
                    break;

                  case 2:
                    e.call(this, arguments[1]);
                    break;

                  case 3:
                    e.call(this, arguments[1], arguments[2]);
                    break;

                  default:
                    a = Array.prototype.slice.call(arguments, 1), e.apply(this, a);
                } else if (r(e)) for (a = Array.prototype.slice.call(arguments, 1), o = e.slice(), 
                u = o.length, i = 0; u > i; i++) o[i].apply(this, a);
                return !0;
            }, e.prototype.addListener = function(a, i) {
                var s;
                if (!t(i)) throw TypeError("listener must be a function");
                return this._events || (this._events = {}), this._events.newListener && this.emit("newListener", a, t(i.listener) ? i.listener : i), 
                this._events[a] ? r(this._events[a]) ? this._events[a].push(i) : this._events[a] = [ this._events[a], i ] : this._events[a] = i, 
                r(this._events[a]) && !this._events[a].warned && (s = n(this._maxListeners) ? e.defaultMaxListeners : this._maxListeners, 
                s && s > 0 && this._events[a].length > s && (this._events[a].warned = !0, "function" == typeof console.trace)), 
                this;
            }, e.prototype.on = e.prototype.addListener, e.prototype.once = function(n, e) {
                function r() {
                    this.removeListener(n, r), a || (a = !0, e.apply(this, arguments));
                }
                if (!t(e)) throw TypeError("listener must be a function");
                var a = !1;
                return r.listener = e, this.on(n, r), this;
            }, e.prototype.removeListener = function(a, n) {
                var e, s, o, i;
                if (!t(n)) throw TypeError("listener must be a function");
                if (!this._events || !this._events[a]) return this;
                if (e = this._events[a], o = e.length, s = -1, e === n || t(e.listener) && e.listener === n) delete this._events[a], 
                this._events.removeListener && this.emit("removeListener", a, n); else if (r(e)) {
                    for (i = o; i-- > 0; ) if (e[i] === n || e[i].listener && e[i].listener === n) {
                        s = i;
                        break;
                    }
                    if (0 > s) return this;
                    1 === e.length ? (e.length = 0, delete this._events[a]) : e.splice(s, 1), this._events.removeListener && this.emit("removeListener", a, n);
                }
                return this;
            }, e.prototype.removeAllListeners = function(r) {
                var n, e;
                if (!this._events) return this;
                if (!this._events.removeListener) return 0 === arguments.length ? this._events = {} : this._events[r] && delete this._events[r], 
                this;
                if (0 === arguments.length) {
                    for (n in this._events) "removeListener" !== n && this.removeAllListeners(n);
                    return this.removeAllListeners("removeListener"), this._events = {}, this;
                }
                if (e = this._events[r], t(e)) this.removeListener(r, e); else if (e) for (;e.length; ) this.removeListener(r, e[e.length - 1]);
                return delete this._events[r], this;
            }, e.prototype.listeners = function(e) {
                var r;
                return r = this._events && this._events[e] ? t(this._events[e]) ? [ this._events[e] ] : this._events[e].slice() : [];
            }, e.prototype.listenerCount = function(r) {
                if (this._events) {
                    var e = this._events[r];
                    if (t(e)) return 1;
                    if (e) return e.length;
                }
                return 0;
            }, e.listenerCount = function(e, t) {
                return e.listenerCount(t);
            };
        }, {} ],
        2: [ function(i, n, s) {
            var a = arguments[3], e = arguments[4], r = arguments[5], t = JSON.stringify;
            n.exports = function(l) {
                for (var n, s = Object.keys(r), i = 0, d = s.length; d > i; i++) {
                    var o = s[i], u = r[o].exports;
                    if (u === l || u.default === l) {
                        n = o;
                        break;
                    }
                }
                if (!n) {
                    n = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);
                    for (var f = {}, i = 0, d = s.length; d > i; i++) {
                        var o = s[i];
                        f[o] = o;
                    }
                    e[n] = [ Function([ "require", "module", "exports" ], "(" + l + ")(self)"), f ];
                }
                var h = Math.floor(Math.pow(16, 8) * Math.random()).toString(16), c = {};
                c[n] = n, e[h] = [ Function([ "require" ], "var f = require(" + t(n) + ");(f.default ? f.default : f)(self);"), c ];
                var g = "(" + a + ")({" + Object.keys(e).map(function(r) {
                    return t(r) + ":[" + e[r][0] + "," + t(e[r][1]) + "]";
                }).join(",") + "},{},[" + t(h) + "])", v = window.URL || window.webkitURL || window.mozURL || window.msURL;
                return new Worker(v.createObjectURL(new Blob([ g ], {
                    type: "text/javascript"
                })));
            };
        }, {} ],
        3: [ function(e, h, t) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                };
            }
            function a(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e;
            }
            function f(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
            }
            var o = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var l = e("../events"), u = r(l), d = e("../event-handler"), n = r(d), s = function(t) {
                function e(r) {
                    a(this, e);
                    var t = i(this, Object.getPrototypeOf(e).call(this, r, u.default.FRAG_LOAD_PROGRESS));
                    return t.lastfetchlevel = 0, t._autoLevelCapping = -1, t._nextAutoLevel = -1, t;
                }
                return f(e, t), o(e, [ {
                    key: "destroy",
                    value: function() {
                        n.default.prototype.destroy.call(this);
                    }
                }, {
                    key: "onFragLoadProgress",
                    value: function(e) {
                        var t = e.stats;
                        void 0 === t.aborted && 1 === e.frag.loadCounter && (this.lastfetchduration = (performance.now() - t.trequest) / 1e3, 
                        this.lastfetchlevel = e.frag.level, this.lastbw = 8 * t.loaded / this.lastfetchduration);
                    }
                }, {
                    key: "autoLevelCapping",
                    get: function() {
                        return this._autoLevelCapping;
                    },
                    set: function(e) {
                        this._autoLevelCapping = e;
                    }
                }, {
                    key: "nextAutoLevel",
                    get: function() {
                        var r, e, t, n = this.lastbw, a = this.hls;
                        if (t = -1 === this._autoLevelCapping ? a.levels.length - 1 : this._autoLevelCapping, 
                        -1 !== this._nextAutoLevel) {
                            var i = Math.min(this._nextAutoLevel, t);
                            if (i !== this.lastfetchlevel) return i;
                            this._nextAutoLevel = -1;
                        }
                        for (e = 0; t >= e; e++) if (r = e <= this.lastfetchlevel ? .8 * n : .7 * n, r < a.levels[e].bitrate) return Math.max(0, e - 1);
                        return e - 1;
                    },
                    set: function(e) {
                        this._nextAutoLevel = e;
                    }
                } ]), e;
            }(n.default);
            t.default = s;
        }, {
            "../event-handler": 20,
            "../events": 21
        } ],
        4: [ function(n, g, a) {
            "use strict";
            function i(e) {
                return e && e.__esModule ? e : {
                    "default": e
                };
            }
            function u(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            function f(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e;
            }
            function h(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
            }
            var c = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(a, "__esModule", {
                value: !0
            });
            var l = n("../events"), e = i(l), d = n("../event-handler"), s = i(d), t = n("../utils/logger"), r = n("../errors"), o = function(a) {
                function n(r) {
                    u(this, n);
                    var t = f(this, Object.getPrototypeOf(n).call(this, r, e.default.MEDIA_ATTACHING, e.default.MEDIA_DETACHING, e.default.BUFFER_RESET, e.default.BUFFER_APPENDING, e.default.BUFFER_CODECS, e.default.BUFFER_EOS, e.default.BUFFER_FLUSHING));
                    return t.onsbue = t.onSBUpdateEnd.bind(t), t.onsbe = t.onSBUpdateError.bind(t), 
                    t;
                }
                return h(n, a), c(n, [ {
                    key: "destroy",
                    value: function() {
                        s.default.prototype.destroy.call(this);
                    }
                }, {
                    key: "onMediaAttaching",
                    value: function(t) {
                        var r = this.media = t.media, e = this.mediaSource = new MediaSource();
                        this.onmso = this.onMediaSourceOpen.bind(this), this.onmse = this.onMediaSourceEnded.bind(this), 
                        this.onmsc = this.onMediaSourceClose.bind(this), e.addEventListener("sourceopen", this.onmso), 
                        e.addEventListener("sourceended", this.onmse), e.addEventListener("sourceclose", this.onmsc), 
                        r.src = URL.createObjectURL(e);
                    }
                }, {
                    key: "onMediaDetaching",
                    value: function() {
                        var r = this.mediaSource;
                        if (r) {
                            if ("open" === r.readyState) try {
                                r.endOfStream();
                            } catch (e) {
                                t.logger.warn("onMediaDetaching:" + e.message + " while calling endOfStream");
                            }
                            r.removeEventListener("sourceopen", this.onmso), r.removeEventListener("sourceended", this.onmse), 
                            r.removeEventListener("sourceclose", this.onmsc), this.media.src = "", this.mediaSource = null, 
                            this.media = null, this.pendingTracks = null;
                        }
                        this.onmso = this.onmse = this.onmsc = null, this.hls.trigger(e.default.MEDIA_DETACHED);
                    }
                }, {
                    key: "onMediaSourceOpen",
                    value: function() {
                        t.logger.log("media source opened"), this.hls.trigger(e.default.MEDIA_ATTACHED, {
                            media: this.media
                        }), this.mediaSource.removeEventListener("sourceopen", this.onmso);
                        var r = this.pendingTracks;
                        r && (this.onBufferCodecs(r), this.pendingTracks = null, this.doAppending());
                    }
                }, {
                    key: "onMediaSourceClose",
                    value: function() {
                        t.logger.log("media source closed");
                    }
                }, {
                    key: "onMediaSourceEnded",
                    value: function() {
                        t.logger.log("media source ended");
                    }
                }, {
                    key: "onSBUpdateEnd",
                    value: function() {
                        this._needsFlush && this.doFlush(), this._needsEos && this.onBufferEos(), this.hls.trigger(e.default.BUFFER_APPENDED), 
                        this.doAppending();
                    }
                }, {
                    key: "onSBUpdateError",
                    value: function(n) {
                        t.logger.error("sourceBuffer error:" + n), this.hls.trigger(e.default.ERROR, {
                            type: r.ErrorTypes.MEDIA_ERROR,
                            details: r.ErrorDetails.BUFFER_APPENDING_ERROR,
                            fatal: !1
                        });
                    }
                }, {
                    key: "onBufferReset",
                    value: function() {
                        var e = this.sourceBuffer;
                        if (e) {
                            for (var r in e) {
                                var t = e[r];
                                try {
                                    this.mediaSource.removeSourceBuffer(t), t.removeEventListener("updateend", this.onsbue), 
                                    t.removeEventListener("error", this.onsbe);
                                } catch (e) {}
                            }
                            this.sourceBuffer = null;
                        }
                        this.flushRange = [], this.appended = 0;
                    }
                }, {
                    key: "onBufferCodecs",
                    value: function(r) {
                        var n, a, e, s, i;
                        if (!this.media) return void (this.pendingTracks = r);
                        if (!this.sourceBuffer) {
                            var o = {}, l = this.mediaSource;
                            for (a in r) e = r[a], s = e.levelCodec || e.codec, i = e.container + ";codecs=" + s, 
                            t.logger.log("creating sourceBuffer with mimeType:" + i), n = o[a] = l.addSourceBuffer(i), 
                            n.addEventListener("updateend", this.onsbue), n.addEventListener("error", this.onsbe);
                            this.sourceBuffer = o;
                        }
                    }
                }, {
                    key: "onBufferAppending",
                    value: function(e) {
                        this.segments ? this.segments.push(e) : this.segments = [ e ], this.doAppending();
                    }
                }, {
                    key: "onBufferAppendFail",
                    value: function(n) {
                        t.logger.error("sourceBuffer error:" + n.event), this.hls.trigger(e.default.ERROR, {
                            type: r.ErrorTypes.MEDIA_ERROR,
                            details: r.ErrorDetails.BUFFER_APPENDING_ERROR,
                            fatal: !1,
                            frag: this.fragCurrent
                        });
                    }
                }, {
                    key: "onBufferEos",
                    value: function() {
                        var e = this.sourceBuffer, r = this.mediaSource;
                        r && "open" === r.readyState && (e.audio && e.audio.updating || e.video && e.video.updating ? this._needsEos = !0 : (t.logger.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment"), 
                        r.endOfStream(), this._needsEos = !1));
                    }
                }, {
                    key: "onBufferFlushing",
                    value: function(e) {
                        this.flushRange.push({
                            start: e.startOffset,
                            end: e.endOffset
                        }), this.flushBufferCounter = 0, this.doFlush();
                    }
                }, {
                    key: "doFlush",
                    value: function() {
                        for (;this.flushRange.length; ) {
                            var r = this.flushRange[0];
                            if (!this.flushBuffer(r.start, r.end)) return void (this._needsFlush = !0);
                            this.flushRange.shift(), this.flushBufferCounter = 0;
                        }
                        if (0 === this.flushRange.length) {
                            this._needsFlush = !1;
                            var n = 0, t = this.sourceBuffer;
                            if (t) for (var a in t) n += t[a].buffered.length;
                            this.appended = n, this.hls.trigger(e.default.BUFFER_FLUSHED);
                        }
                    }
                }, {
                    key: "doAppending",
                    value: function() {
                        var i = this.hls, s = this.sourceBuffer, a = this.segments;
                        if (s) {
                            if (this.media.error) return a = [], void t.logger.error("trying to append although a media error occured, flush segment and abort");
                            for (var l in s) if (s[l].updating) return;
                            if (a.length) {
                                var o = a.shift();
                                try {
                                    s[o.type].appendBuffer(o.data), this.appendError = 0, this.appended++;
                                } catch (s) {
                                    t.logger.error("error while trying to append buffer:" + s.message), a.unshift(o);
                                    var n = {
                                        type: r.ErrorTypes.MEDIA_ERROR
                                    };
                                    if (22 !== s.code) {
                                        if (this.appendError ? this.appendError++ : this.appendError = 1, n.details = r.ErrorDetails.BUFFER_APPEND_ERROR, 
                                        n.frag = this.fragCurrent, this.appendError > i.config.appendErrorMaxRetry) return t.logger.log("fail " + i.config.appendErrorMaxRetry + " times to append segment in sourceBuffer"), 
                                        a = [], n.fatal = !0, void i.trigger(e.default.ERROR, n);
                                        n.fatal = !1, i.trigger(e.default.ERROR, n);
                                    } else a = [], n.details = r.ErrorDetails.BUFFER_FULL, i.trigger(e.default.ERROR, n);
                                }
                            }
                        }
                    }
                }, {
                    key: "flushBuffer",
                    value: function(l, s) {
                        var e, r, o, i, n, a;
                        if (this.flushBufferCounter < this.appended && this.sourceBuffer) for (var u in this.sourceBuffer) {
                            if (e = this.sourceBuffer[u], e.updating) return t.logger.warn("cannot flush, sb updating in progress"), 
                            !1;
                            for (r = 0; r < e.buffered.length; r++) if (o = e.buffered.start(r), i = e.buffered.end(r), 
                            -1 !== navigator.userAgent.toLowerCase().indexOf("firefox") && s === Number.POSITIVE_INFINITY ? (n = l, 
                            a = s) : (n = Math.max(o, l), a = Math.min(i, s)), Math.min(a, i) - n > .5) return this.flushBufferCounter++, 
                            t.logger.log("flush " + u + " [" + n + "," + a + "], of [" + o + "," + i + "], pos:" + this.media.currentTime), 
                            e.remove(n, a), !1;
                        } else t.logger.warn("abort flushing too many retries");
                        return t.logger.log("buffer flushed"), !0;
                    }
                } ]), n;
            }(s.default);
            a.default = o;
        }, {
            "../errors": 19,
            "../event-handler": 20,
            "../events": 21,
            "../utils/logger": 34
        } ],
        5: [ function(n, g, a) {
            "use strict";
            function i(e) {
                return e && e.__esModule ? e : {
                    "default": e
                };
            }
            function u(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            function h(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e;
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
            }
            var c = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(a, "__esModule", {
                value: !0
            });
            var l = n("../events"), t = i(l), d = n("../event-handler"), f = i(d), r = n("../utils/logger"), e = n("../errors"), o = function(a) {
                function n(r) {
                    u(this, n);
                    var e = h(this, Object.getPrototypeOf(n).call(this, r, t.default.MANIFEST_LOADED, t.default.LEVEL_LOADED, t.default.ERROR));
                    return e.ontick = e.tick.bind(e), e._manualLevel = e._autoLevelCapping = -1, e;
                }
                return s(n, a), c(n, [ {
                    key: "destroy",
                    value: function() {
                        this.timer && clearInterval(this.timer), this._manualLevel = -1;
                    }
                }, {
                    key: "onManifestLoaded",
                    value: function(l) {
                        var s, a, i = [], n = [], u = {}, d = !1, f = !1, o = this.hls;
                        if (l.levels.forEach(function(e) {
                            e.videoCodec && (d = !0), e.audioCodec && (f = !0);
                            var t = u[e.bitrate];
                            void 0 === t ? (u[e.bitrate] = i.length, e.url = [ e.url ], e.urlId = 0, i.push(e)) : i[t].url.push(e.url);
                        }), d && f ? i.forEach(function(e) {
                            e.videoCodec && n.push(e);
                        }) : n = i, n = n.filter(function(e) {
                            var n = function(e) {
                                return MediaSource.isTypeSupported("audio/mp4;codecs=" + e);
                            }, a = function(e) {
                                return MediaSource.isTypeSupported("video/mp4;codecs=" + e);
                            }, t = e.audioCodec, r = e.videoCodec;
                            return (!t || n(t)) && (!r || a(r));
                        }), n.length) {
                            for (s = n[0].bitrate, n.sort(function(e, t) {
                                return e.bitrate - t.bitrate;
                            }), this._levels = n, a = 0; a < n.length; a++) if (n[a].bitrate === s) {
                                this._firstLevel = a, r.logger.log("manifest loaded," + n.length + " level(s) found, first bitrate:" + s);
                                break;
                            }
                            o.trigger(t.default.MANIFEST_PARSED, {
                                levels: this._levels,
                                firstLevel: this._firstLevel,
                                stats: l.stats
                            });
                        } else o.trigger(t.default.ERROR, {
                            type: e.ErrorTypes.NETWORK_ERROR,
                            details: e.ErrorDetails.MANIFEST_PARSING_ERROR,
                            fatal: !0,
                            url: o.url,
                            reason: "no compatible level found in manifest"
                        });
                    }
                }, {
                    key: "setLevelInternal",
                    value: function(n) {
                        if (n >= 0 && n < this._levels.length) {
                            this.timer && (clearInterval(this.timer), this.timer = null), this._level = n, r.logger.log("switching to level " + n), 
                            this.hls.trigger(t.default.LEVEL_SWITCH, {
                                level: n
                            });
                            var a = this._levels[n];
                            if (void 0 === a.details || a.details.live === !0) {
                                r.logger.log("(re)loading playlist for level " + n);
                                var i = a.urlId;
                                this.hls.trigger(t.default.LEVEL_LOADING, {
                                    url: a.url[i],
                                    level: n,
                                    id: i
                                });
                            }
                        } else this.hls.trigger(t.default.ERROR, {
                            type: e.ErrorTypes.OTHER_ERROR,
                            details: e.ErrorDetails.LEVEL_SWITCH_ERROR,
                            level: n,
                            fatal: !1,
                            reason: "invalid level idx"
                        });
                    }
                }, {
                    key: "onError",
                    value: function(a) {
                        if (!a.fatal) {
                            var i, t, n = a.details, s = this.hls;
                            switch (n) {
                              case e.ErrorDetails.FRAG_LOAD_ERROR:
                              case e.ErrorDetails.FRAG_LOAD_TIMEOUT:
                              case e.ErrorDetails.FRAG_LOOP_LOADING_ERROR:
                              case e.ErrorDetails.KEY_LOAD_ERROR:
                              case e.ErrorDetails.KEY_LOAD_TIMEOUT:
                                i = a.frag.level;
                                break;

                              case e.ErrorDetails.LEVEL_LOAD_ERROR:
                              case e.ErrorDetails.LEVEL_LOAD_TIMEOUT:
                                i = a.level;
                            }
                            if (void 0 !== i) if (t = this._levels[i], t.urlId < t.url.length - 1) t.urlId++, 
                            t.details = void 0, r.logger.warn("level controller," + n + " for level " + i + ": switching to redundant stream id " + t.urlId); else {
                                var o = -1 === this._manualLevel && i;
                                o ? (r.logger.warn("level controller," + n + ": emergency switch-down for next fragment"), 
                                s.abrController.nextAutoLevel = 0) : t && t.details && t.details.live ? r.logger.warn("level controller," + n + " on live stream, discard") : n !== e.ErrorDetails.FRAG_LOAD_ERROR && n !== e.ErrorDetails.FRAG_LOAD_TIMEOUT && (r.logger.error("cannot recover " + n + " error"), 
                                this._level = void 0, this.timer && (clearInterval(this.timer), this.timer = null), 
                                a.fatal = !0, s.trigger(event, a));
                            }
                        }
                    }
                }, {
                    key: "onLevelLoaded",
                    value: function(e) {
                        e.details.live && !this.timer && (this.timer = setInterval(this.ontick, 1e3 * e.details.targetduration)), 
                        !e.details.live && this.timer && (clearInterval(this.timer), this.timer = null);
                    }
                }, {
                    key: "tick",
                    value: function() {
                        var e = this._level;
                        if (void 0 !== e) {
                            var r = this._levels[e], n = r.urlId;
                            this.hls.trigger(t.default.LEVEL_LOADING, {
                                url: r.url[n],
                                level: e,
                                id: n
                            });
                        }
                    }
                }, {
                    key: "nextLoadLevel",
                    value: function() {
                        return -1 !== this._manualLevel ? this._manualLevel : this.hls.abrController.nextAutoLevel;
                    }
                }, {
                    key: "levels",
                    get: function() {
                        return this._levels;
                    }
                }, {
                    key: "level",
                    get: function() {
                        return this._level;
                    },
                    set: function(e) {
                        (this._level !== e || void 0 === this._levels[e].details) && this.setLevelInternal(e);
                    }
                }, {
                    key: "manualLevel",
                    get: function() {
                        return this._manualLevel;
                    },
                    set: function(e) {
                        this._manualLevel = e, -1 !== e && (this.level = e);
                    }
                }, {
                    key: "firstLevel",
                    get: function() {
                        return this._firstLevel;
                    },
                    set: function(e) {
                        this._firstLevel = e;
                    }
                }, {
                    key: "startLevel",
                    get: function() {
                        return void 0 === this._startLevel ? this._firstLevel : this._startLevel;
                    },
                    set: function(e) {
                        this._startLevel = e;
                    }
                } ]), n;
            }(f.default);
            a.default = o;
        }, {
            "../errors": 19,
            "../event-handler": 20,
            "../events": 21,
            "../utils/logger": 34
        } ],
        6: [ function(a, _, o) {
            "use strict";
            function i(e) {
                return e && e.__esModule ? e : {
                    "default": e
                };
            }
            function g(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            function f(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e;
            }
            function c(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
            }
            var m = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(o, "__esModule", {
                value: !0
            });
            var b = a("../demux/demuxer"), u = i(b), d = a("../events"), r = i(d), h = a("../event-handler"), s = i(h), t = a("../utils/logger"), v = a("../utils/binary-search"), p = i(v), y = a("../helper/level-helper"), l = i(y), n = a("../errors"), e = {
                ERROR: "ERROR",
                STARTING: "STARTING",
                IDLE: "IDLE",
                PAUSED: "PAUSED",
                KEY_LOADING: "KEY_LOADING",
                FRAG_LOADING: "FRAG_LOADING",
                FRAG_LOADING_WAITING_RETRY: "FRAG_LOADING_WAITING_RETRY",
                WAITING_LEVEL: "WAITING_LEVEL",
                PARSING: "PARSING",
                PARSED: "PARSED",
                ENDED: "ENDED"
            }, E = function(i) {
                function a(t) {
                    g(this, a);
                    var e = f(this, Object.getPrototypeOf(a).call(this, t, r.default.MEDIA_ATTACHED, r.default.MEDIA_DETACHING, r.default.MANIFEST_PARSED, r.default.LEVEL_LOADED, r.default.KEY_LOADED, r.default.FRAG_LOADED, r.default.FRAG_PARSING_INIT_SEGMENT, r.default.FRAG_PARSING_DATA, r.default.FRAG_PARSED, r.default.ERROR, r.default.BUFFER_APPENDED, r.default.BUFFER_FLUSHED));
                    return e.config = t.config, e.audioCodecSwap = !1, e.ticks = 0, e.ontick = e.tick.bind(e), 
                    e;
                }
                return c(a, i), m(a, [ {
                    key: "destroy",
                    value: function() {
                        this.stop(), s.default.prototype.destroy.call(this), this.state = e.IDLE;
                    }
                }, {
                    key: "startLoad",
                    value: function() {
                        if (this.levels) {
                            var r = this.media, n = this.lastCurrentTime;
                            this.stop(), this.demuxer = new u.default(this.hls), this.timer = setInterval(this.ontick, 100), 
                            this.level = -1, this.fragLoadError = 0, r && n ? (t.logger.log("configure startPosition @" + n), 
                            this.lastPaused || (t.logger.log("resuming video"), r.play()), this.state = e.IDLE) : (this.lastCurrentTime = this.startPosition ? this.startPosition : 0, 
                            this.state = e.STARTING), this.nextLoadPosition = this.startPosition = this.lastCurrentTime, 
                            this.tick();
                        } else t.logger.warn("cannot start loading as manifest not parsed yet");
                    }
                }, {
                    key: "stop",
                    value: function() {
                        this.bufferRange = [], this.stalled = !1;
                        var e = this.fragCurrent;
                        e && (e.loader && e.loader.abort(), this.fragCurrent = null), this.fragPrevious = null, 
                        t.logger.log("trigger BUFFER_RESET"), this.hls.trigger(r.default.BUFFER_RESET), 
                        this.timer && (clearInterval(this.timer), this.timer = null), this.demuxer && (this.demuxer.destroy(), 
                        this.demuxer = null);
                    }
                }, {
                    key: "tick",
                    value: function() {
                        this.ticks++, 1 === this.ticks && (this.doTick(), this.ticks > 1 && setTimeout(this.tick, 1), 
                        this.ticks = 0);
                    }
                }, {
                    key: "doTick",
                    value: function() {
                        var h, o, i, l = this.hls, u = l.config;
                        switch (this.state) {
                          case e.ERROR:
                          case e.PAUSED:
                            break;

                          case e.STARTING:
                            this.startLevel = l.startLevel, -1 === this.startLevel && (this.startLevel = 0, 
                            this.fragBitrateTest = !0), this.level = l.nextLoadLevel = this.startLevel, this.state = e.WAITING_LEVEL, 
                            this.loadedmetadata = !1;
                            break;

                          case e.IDLE:
                            if (!this.media && (this.startFragRequested || !u.startFragPrefetch)) break;
                            h = this.loadedmetadata ? this.media.currentTime : this.nextLoadPosition, o = this.startFragRequested === !1 ? this.startLevel : l.nextLoadLevel;
                            var c, S = this.bufferInfo(h, u.maxBufferHole), x = S.len, f = S.end, g = this.fragPrevious;
                            if (this.levels[o].hasOwnProperty("bitrate") ? (c = Math.max(8 * u.maxBufferSize / this.levels[o].bitrate, u.maxBufferLength), 
                            c = Math.min(c, u.maxMaxBufferLength)) : c = u.maxBufferLength, c > x) {
                                if (l.nextLoadLevel = o, this.level = o, i = this.levels[o].details, "undefined" == typeof i || i.live && this.levelLastLoaded !== o) {
                                    this.state = e.WAITING_LEVEL;
                                    break;
                                }
                                var d = i.fragments, v = d.length, y = d[0].start, L = d[v - 1].start + d[v - 1].duration, a = void 0;
                                if (i.live) {
                                    if (f < Math.max(y, L - u.liveMaxLatencyDurationCount * i.targetduration) && (this.seekAfterBuffered = y + Math.max(0, i.totalduration - u.liveSyncDurationCount * i.targetduration), 
                                    t.logger.log("buffer end: " + f + " is located too far from the end of live sliding playlist, media position will be reseted to: " + this.seekAfterBuffered.toFixed(3)), 
                                    f = this.seekAfterBuffered), this.startFragRequested && !i.PTSKnown) {
                                        if (g) {
                                            var b = g.sn + 1;
                                            b >= i.startSN && b <= i.endSN && (a = d[b - i.startSN], t.logger.log("live playlist, switching playlist, load frag with next SN: " + a.sn));
                                        }
                                        a || (a = d[Math.min(v - 1, Math.round(v / 2))], t.logger.log("live playlist, switching playlist, unknown, load middle frag : " + a.sn));
                                    }
                                } else y > f && (a = d[0]);
                                if (!a) {
                                    var m;
                                    m = L > f ? p.default.search(d, function(e) {
                                        return e.start + e.duration <= f ? 1 : e.start > f ? -1 : 0;
                                    }) : d[v - 1], m && (a = m, y = m.start, g && a.level === g.level && a.sn === g.sn && (a.sn < i.endSN ? (a = d[a.sn + 1 - i.startSN], 
                                    t.logger.log("SN just loaded, load next one: " + a.sn)) : (i.live || (this.hls.trigger(r.default.BUFFER_EOS), 
                                    this.state = e.ENDED), a = null)));
                                }
                                if (a) if (null != a.decryptdata.uri && null == a.decryptdata.key) t.logger.log("Loading key for " + a.sn + " of [" + i.startSN + " ," + i.endSN + "],level " + o), 
                                this.state = e.KEY_LOADING, l.trigger(r.default.KEY_LOADING, {
                                    frag: a
                                }); else {
                                    if (t.logger.log("Loading " + a.sn + " of [" + i.startSN + " ," + i.endSN + "],level " + o + ", currentTime:" + h + ",bufferEnd:" + f.toFixed(3)), 
                                    a.autoLevel = l.autoLevelEnabled, this.levels.length > 1 && (a.expectedLen = Math.round(a.duration * this.levels[o].bitrate / 8), 
                                    a.trequest = performance.now()), void 0 !== this.fragLoadIdx ? this.fragLoadIdx++ : this.fragLoadIdx = 0, 
                                    a.loadCounter) {
                                        a.loadCounter++;
                                        var w = u.fragLoadingLoopThreshold;
                                        if (a.loadCounter > w && Math.abs(this.fragLoadIdx - a.loadIdx) < w) return void l.trigger(r.default.ERROR, {
                                            type: n.ErrorTypes.MEDIA_ERROR,
                                            details: n.ErrorDetails.FRAG_LOOP_LOADING_ERROR,
                                            fatal: !1,
                                            frag: a
                                        });
                                    } else a.loadCounter = 1;
                                    a.loadIdx = this.fragLoadIdx, this.fragCurrent = a, this.startFragRequested = !0, 
                                    l.trigger(r.default.FRAG_LOADING, {
                                        frag: a
                                    }), this.state = e.FRAG_LOADING;
                                }
                            }
                            break;

                          case e.WAITING_LEVEL:
                            o = this.levels[this.level], o && o.details && (this.state = e.IDLE);
                            break;

                          case e.FRAG_LOADING:
                            var E = this.media, s = this.fragCurrent;
                            if (E && (!E.paused || this.loadedmetadata === !1) && s.autoLevel && this.level && this.levels.length > 1) {
                                var A = performance.now() - s.trequest;
                                if (A > 500 * s.duration) {
                                    var T = 1e3 * s.loaded / A;
                                    s.expectedLen < s.loaded && (s.expectedLen = s.loaded), h = E.currentTime;
                                    var _ = (s.expectedLen - s.loaded) / T, R = this.bufferInfo(h, u.maxBufferHole).end - h, O = s.duration * this.levels[l.nextLoadLevel].bitrate / (8 * T);
                                    R < 2 * s.duration && _ > R && _ > O && (t.logger.warn("loading too slow, abort fragment loading"), 
                                    t.logger.log("fragLoadedDelay/bufferStarvationDelay/fragLevelNextLoadedDelay :" + _.toFixed(1) + "/" + R.toFixed(1) + "/" + O.toFixed(1)), 
                                    s.loader.abort(), l.trigger(r.default.FRAG_LOAD_EMERGENCY_ABORTED, {
                                        frag: s
                                    }), this.state = e.IDLE);
                                }
                            }
                            break;

                          case e.FRAG_LOADING_WAITING_RETRY:
                            var P = performance.now(), D = this.retryDate, k = this.media, I = k && k.seeking;
                            (!D || P >= D || I) && (t.logger.log("mediaController: retryDate reached, switch back to IDLE state"), 
                            this.state = e.IDLE);
                            break;

                          case e.PARSING:
                            break;

                          case e.PARSED:
                            break;

                          case e.ENDED:                        }
                        this._checkBuffer(), this._checkFragmentChanged();
                    }
                }, {
                    key: "bufferInfo",
                    value: function(a, i) {
                        var r = this.media;
                        if (r) {
                            var e, t = r.buffered, n = [];
                            for (e = 0; e < t.length; e++) n.push({
                                start: t.start(e),
                                end: t.end(e)
                            });
                            return this.bufferedInfo(n, a, i);
                        }
                        return {
                            len: 0,
                            start: 0,
                            end: 0,
                            nextStart: void 0
                        };
                    }
                }, {
                    key: "bufferedInfo",
                    value: function(r, n, a) {
                        var o, l, i, h, e, t = [];
                        for (r.sort(function(e, t) {
                            var r = e.start - t.start;
                            return r ? r : t.end - e.end;
                        }), e = 0; e < r.length; e++) {
                            var u = t.length;
                            if (u) {
                                var d = t[u - 1].end;
                                r[e].start - d < a ? r[e].end > d && (t[u - 1].end = r[e].end) : t.push(r[e]);
                            } else t.push(r[e]);
                        }
                        for (e = 0, o = 0, l = i = n; e < t.length; e++) {
                            var s = t[e].start, f = t[e].end;
                            if (n + a >= s && f > n) l = s, i = f + a, o = i - n; else if (s > n + a) {
                                h = s;
                                break;
                            }
                        }
                        return {
                            len: o,
                            start: l,
                            end: i,
                            nextStart: h
                        };
                    }
                }, {
                    key: "getBufferRange",
                    value: function(r) {
                        var e, t;
                        for (e = this.bufferRange.length - 1; e >= 0; e--) if (t = this.bufferRange[e], 
                        r >= t.start && r <= t.end) return t;
                        return null;
                    }
                }, {
                    key: "followingBufferRange",
                    value: function(e) {
                        return e ? this.getBufferRange(e.end + .5) : null;
                    }
                }, {
                    key: "isBuffered",
                    value: function(r) {
                        for (var n = this.media, t = n.buffered, e = 0; e < t.length; e++) if (r >= t.start(e) && r <= t.end(e)) return !0;
                        return !1;
                    }
                }, {
                    key: "_checkFragmentChanged",
                    value: function() {
                        var t, e, n = this.media;
                        if (n && n.seeking === !1 && (e = n.currentTime, e > n.playbackRate * this.lastCurrentTime && (this.lastCurrentTime = e), 
                        this.isBuffered(e) ? t = this.getBufferRange(e) : this.isBuffered(e + .1) && (t = this.getBufferRange(e + .1)), 
                        t)) {
                            var a = t.frag;
                            a !== this.fragPlaying && (this.fragPlaying = a, this.hls.trigger(r.default.FRAG_CHANGED, {
                                frag: a
                            }));
                        }
                    }
                }, {
                    key: "immediateLevelSwitch",
                    value: function() {
                        t.logger.log("immediateLevelSwitch"), this.immediateSwitch || (this.immediateSwitch = !0, 
                        this.previouslyPaused = this.media.paused, this.media.pause());
                        var n = this.fragCurrent;
                        n && n.loader && n.loader.abort(), this.fragCurrent = null, this.hls.trigger(r.default.BUFFER_FLUSHING, {
                            startOffset: 0,
                            endOffset: Number.POSITIVE_INFINITY
                        }), this.state = e.PAUSED, this.fragLoadIdx += 2 * this.config.fragLoadingLoopThreshold, 
                        this.tick();
                    }
                }, {
                    key: "immediateLevelSwitchEnd",
                    value: function() {
                        this.immediateSwitch = !1, this.media.currentTime -= 1e-4, this.previouslyPaused || this.media.play();
                    }
                }, {
                    key: "nextLevelSwitch",
                    value: function() {
                        var a, n, t;
                        if (n = this.getBufferRange(this.media.currentTime), n && n.start > 1 && (this.hls.trigger(r.default.BUFFER_FLUSHING, {
                            startOffset: 0,
                            endOffset: n.start - 1
                        }), this.state = e.PAUSED), this.media.paused) a = 0; else {
                            var o = this.hls.nextLoadLevel, l = this.levels[o], s = this.fragLastKbps;
                            a = s && this.fragCurrent ? this.fragCurrent.duration * l.bitrate / (1e3 * s) + 1 : 0;
                        }
                        if (t = this.getBufferRange(this.media.currentTime + a), t && (t = this.followingBufferRange(t))) {
                            this.hls.trigger(r.default.BUFFER_FLUSHING, {
                                startOffset: t.start,
                                endOffset: Number.POSITIVE_INFINITY
                            }), this.state = e.PAUSED;
                            var i = this.fragCurrent;
                            i && i.loader && i.loader.abort(), this.fragCurrent = null, this.fragLoadIdx += 2 * this.config.fragLoadingLoopThreshold;
                        }
                    }
                }, {
                    key: "onMediaAttached",
                    value: function(t) {
                        var e = this.media = t.media;
                        this.onvseeking = this.onMediaSeeking.bind(this), this.onvseeked = this.onMediaSeeked.bind(this), 
                        this.onvended = this.onMediaEnded.bind(this), e.addEventListener("seeking", this.onvseeking), 
                        e.addEventListener("seeked", this.onvseeked), e.addEventListener("ended", this.onvended), 
                        this.levels && this.config.autoStartLoad && this.startLoad();
                    }
                }, {
                    key: "onMediaDetaching",
                    value: function() {
                        var e = this.media;
                        e && e.ended && (t.logger.log("MSE detaching and video ended, reset startPosition"), 
                        this.startPosition = this.lastCurrentTime = 0);
                        var r = this.levels;
                        r && r.forEach(function(e) {
                            e.details && e.details.fragments.forEach(function(e) {
                                e.loadCounter = void 0;
                            });
                        }), e && (e.removeEventListener("seeking", this.onvseeking), e.removeEventListener("seeked", this.onvseeked), 
                        e.removeEventListener("ended", this.onvended), this.onvseeking = this.onvseeked = this.onvended = null), 
                        this.media = null, this.loadedmetadata = !1, this.stop();
                    }
                }, {
                    key: "onMediaSeeking",
                    value: function() {
                        if (this.state === e.FRAG_LOADING) {
                            if (0 === this.bufferInfo(this.media.currentTime, this.config.maxBufferHole).len) {
                                t.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load");
                                var r = this.fragCurrent;
                                r && (r.loader && r.loader.abort(), this.fragCurrent = null), this.fragPrevious = null, 
                                this.state = e.IDLE;
                            }
                        } else this.state === e.ENDED && (this.state = e.IDLE);
                        this.media && (this.lastCurrentTime = this.media.currentTime), void 0 !== this.fragLoadIdx && (this.fragLoadIdx += 2 * this.config.fragLoadingLoopThreshold), 
                        this.tick();
                    }
                }, {
                    key: "onMediaSeeked",
                    value: function() {
                        this.tick();
                    }
                }, {
                    key: "onMediaEnded",
                    value: function() {
                        t.logger.log("media ended"), this.startPosition = this.lastCurrentTime = 0;
                    }
                }, {
                    key: "onManifestParsed",
                    value: function(r) {
                        var e, n = !1, a = !1;
                        r.levels.forEach(function(t) {
                            e = t.audioCodec, e && (-1 !== e.indexOf("mp4a.40.2") && (n = !0), -1 !== e.indexOf("mp4a.40.5") && (a = !0));
                        }), this.audioCodecSwitch = n && a, this.audioCodecSwitch && t.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"), 
                        this.levels = r.levels, this.startLevelLoaded = !1, this.startFragRequested = !1, 
                        this.config.autoStartLoad && this.startLoad();
                    }
                }, {
                    key: "onLevelLoaded",
                    value: function(s) {
                        var n = s.details, a = s.level, o = this.levels[a], u = n.totalduration, i = 0;
                        if (t.logger.log("level " + a + " loaded [" + n.startSN + "," + n.endSN + "],duration:" + u), 
                        this.levelLastLoaded = a, n.live) {
                            var d = o.details;
                            d ? (l.default.mergeDetails(d, n), i = n.fragments[0].start, n.PTSKnown ? t.logger.log("live playlist sliding:" + i.toFixed(3)) : t.logger.log("live playlist - outdated PTS, unknown sliding")) : (n.PTSKnown = !1, 
                            t.logger.log("live playlist - first load, unknown sliding"));
                        } else n.PTSKnown = !1;
                        o.details = n, this.hls.trigger(r.default.LEVEL_UPDATED, {
                            details: n,
                            level: a
                        }), this.startFragRequested === !1 && (n.live && (this.startPosition = Math.max(0, i + u - this.config.liveSyncDurationCount * n.targetduration)), 
                        this.nextLoadPosition = this.startPosition), this.state === e.WAITING_LEVEL && (this.state = e.IDLE), 
                        this.tick();
                    }
                }, {
                    key: "onKeyLoaded",
                    value: function() {
                        this.state === e.KEY_LOADING && (this.state = e.IDLE, this.tick());
                    }
                }, {
                    key: "onFragLoaded",
                    value: function(a) {
                        var n = this.fragCurrent;
                        if (this.state === e.FRAG_LOADING && n && a.frag.level === n.level && a.frag.sn === n.sn) if (this.fragBitrateTest === !0) this.state = e.IDLE, 
                        this.fragBitrateTest = !1, a.stats.tparsed = a.stats.tbuffered = performance.now(), 
                        this.hls.trigger(r.default.FRAG_BUFFERED, {
                            stats: a.stats,
                            frag: n
                        }); else {
                            this.state = e.PARSING, this.stats = a.stats;
                            var s = this.levels[this.level], o = s.details, d = o.totalduration, f = n.start, l = n.level, u = n.sn, i = s.audioCodec || this.config.defaultAudioCodec;
                            this.audioCodecSwap && (t.logger.log("swapping playlist audio codec"), void 0 === i && (i = this.lastAudioCodec), 
                            i && (i = -1 !== i.indexOf("mp4a.40.5") ? "mp4a.40.2" : "mp4a.40.5")), this.pendingAppending = 0, 
                            t.logger.log("Demuxing " + u + " of [" + o.startSN + " ," + o.endSN + "],level " + l), 
                            this.demuxer.push(a.payload, i, s.videoCodec, f, n.cc, l, u, d, n.decryptdata);
                        }
                        this.fragLoadError = 0;
                    }
                }, {
                    key: "onFragParsingInitSegment",
                    value: function(l) {
                        if (this.state === e.PARSING) {
                            var s, n, a = l.tracks;
                            if (n = a.audio) {
                                var o = this.levels[this.level].audioCodec;
                                if (o && this.audioCodecSwap && (t.logger.log("swapping playlist audio codec"), 
                                o = -1 !== o.indexOf("mp4a.40.5") ? "mp4a.40.2" : "mp4a.40.5"), this.audioCodecSwitch) {
                                    var u = navigator.userAgent.toLowerCase();
                                    1 !== n.metadata.channelCount && -1 === u.indexOf("android") && -1 === u.indexOf("firefox") && (o = "mp4a.40.5");
                                }
                                n.levelCodec = o;
                            }
                            if (n = a.video, n && (n.levelCodec = this.levels[this.level].videoCodec), l.unique) {
                                var i = {
                                    codec: "",
                                    levelCodec: ""
                                };
                                for (s in l.tracks) n = a[s], i.container = n.container, i.codec && (i.codec += ",", 
                                i.levelCodec += ","), n.codec && (i.codec += n.codec), n.levelCodec && (i.levelCodec += n.levelCodec);
                                a = {
                                    audiovideo: i
                                };
                            }
                            this.hls.trigger(r.default.BUFFER_CODECS, a);
                            for (s in a) {
                                n = a[s], t.logger.log("track:" + s + ",container:" + n.container + ",codecs[level/parsed]=[" + n.levelCodec + "/" + n.codec + "]");
                                var d = n.initSegment;
                                d && (this.pendingAppending++, this.hls.trigger(r.default.BUFFER_APPENDING, {
                                    type: s,
                                    data: d
                                }));
                            }
                            this.tick();
                        }
                    }
                }, {
                    key: "onFragParsingData",
                    value: function(n) {
                        var o = this;
                        if (this.state === e.PARSING) {
                            this.tparse2 = Date.now();
                            var a = this.levels[this.level], i = this.fragCurrent;
                            t.logger.log("parsed " + n.type + ",PTS:[" + n.startPTS.toFixed(3) + "," + n.endPTS.toFixed(3) + "],DTS:[" + n.startDTS.toFixed(3) + "/" + n.endDTS.toFixed(3) + "],nb:" + n.nb);
                            var u = l.default.updateFragPTS(a.details, i.sn, n.startPTS, n.endPTS), s = this.hls;
                            s.trigger(r.default.LEVEL_PTS_UPDATED, {
                                details: a.details,
                                level: this.level,
                                drift: u
                            }), [ n.data1, n.data2 ].forEach(function(e) {
                                e && (o.pendingAppending++, s.trigger(r.default.BUFFER_APPENDING, {
                                    type: n.type,
                                    data: e
                                }));
                            }), this.nextLoadPosition = n.endPTS, this.bufferRange.push({
                                type: n.type,
                                start: n.startPTS,
                                end: n.endPTS,
                                frag: i
                            }), this.tick();
                        } else t.logger.warn("not in PARSING state but " + this.state + ", ignoring FRAG_PARSING_DATA event");
                    }
                }, {
                    key: "onFragParsed",
                    value: function() {
                        this.state === e.PARSING && (this.stats.tparsed = performance.now(), this.state = e.PARSED, 
                        this._checkAppendedParsed());
                    }
                }, {
                    key: "onBufferAppended",
                    value: function() {
                        switch (this.state) {
                          case e.PARSING:
                          case e.PARSED:
                            this.pendingAppending--, this._checkAppendedParsed();
                        }
                    }
                }, {
                    key: "_checkAppendedParsed",
                    value: function() {
                        if (this.state === e.PARSED && 0 === this.pendingAppending) {
                            var a = this.fragCurrent, n = this.stats;
                            a && (this.fragPrevious = a, n.tbuffered = performance.now(), this.fragLastKbps = Math.round(8 * n.length / (n.tbuffered - n.tfirst)), 
                            this.hls.trigger(r.default.FRAG_BUFFERED, {
                                stats: n,
                                frag: a
                            }), t.logger.log("media buffered : " + this.timeRangesToString(this.media.buffered)), 
                            this.state = e.IDLE), this.tick();
                        }
                    }
                }, {
                    key: "onError",
                    value: function(a) {
                        switch (a.details) {
                          case n.ErrorDetails.FRAG_LOAD_ERROR:
                          case n.ErrorDetails.FRAG_LOAD_TIMEOUT:
                            if (!a.fatal) {
                                var i = this.fragLoadError;
                                if (i ? i++ : i = 1, i <= this.config.fragLoadingMaxRetry) {
                                    this.fragLoadError = i, a.frag.loadCounter = 0;
                                    var s = Math.min(Math.pow(2, i - 1) * this.config.fragLoadingRetryDelay, 64e3);
                                    t.logger.warn("mediaController: frag loading failed, retry in " + s + " ms"), this.retryDate = performance.now() + s, 
                                    this.state = e.FRAG_LOADING_WAITING_RETRY;
                                } else t.logger.error("mediaController: " + a.details + " reaches max retry, redispatch as fatal ..."), 
                                a.fatal = !0, this.hls.trigger(r.default.ERROR, a), this.state = e.ERROR;
                            }
                            break;

                          case n.ErrorDetails.FRAG_LOOP_LOADING_ERROR:
                          case n.ErrorDetails.LEVEL_LOAD_ERROR:
                          case n.ErrorDetails.LEVEL_LOAD_TIMEOUT:
                          case n.ErrorDetails.KEY_LOAD_ERROR:
                          case n.ErrorDetails.KEY_LOAD_TIMEOUT:
                            t.logger.warn("mediaController: " + a.details + " while loading frag,switch to " + (a.fatal ? "ERROR" : "IDLE") + " state ..."), 
                            this.state = a.fatal ? e.ERROR : e.IDLE;
                            break;

                          case n.ErrorDetails.BUFFER_FULL:
                            this.config.maxMaxBufferLength /= 2, t.logger.warn("reduce max buffer length to " + this.config.maxMaxBufferLength + "s and trigger a nextLevelSwitch to flush old buffer and fix QuotaExceededError"), 
                            this.nextLevelSwitch();
                        }
                    }
                }, {
                    key: "_checkBuffer",
                    value: function() {
                        var e = this.media;
                        if (e) {
                            var d = e.readyState;
                            if (d) {
                                var a, i, o = this.seekAfterBuffered;
                                if (o) e.duration >= o && (a = o, this.seekAfterBuffered = void 0); else {
                                    i = e.currentTime;
                                    var g = this.loadedmetadata;
                                    !g && e.buffered.length && (this.loadedmetadata = !0, i || i === this.startPosition || (a = this.startPosition));
                                }
                                a && (i = a, t.logger.log("target seek position:" + a));
                                var l = this.bufferInfo(i, 0), c = !(e.paused || e.ended || e.seeking || 2 > d), u = .2, f = i > e.playbackRate * this.lastCurrentTime;
                                if (this.stalled && f && (this.stalled = !1), l.len <= u) {
                                    if (f || !c ? u = 0 : (t.logger.log("playback seems stuck @" + i), this.stalled || (this.hls.trigger(r.default.ERROR, {
                                        type: n.ErrorTypes.MEDIA_ERROR,
                                        details: n.ErrorDetails.BUFFER_STALLED_ERROR,
                                        fatal: !1
                                    }), this.stalled = !0)), l.len <= u) {
                                        var s = l.nextStart, h = s - i;
                                        s && h < this.config.maxSeekHole && h > .005 && !e.seeking && (t.logger.log("adjust currentTime from " + e.currentTime + " to next buffered @ " + s), 
                                        e.currentTime = s);
                                    }
                                } else a && e.currentTime !== a && (t.logger.log("adjust currentTime from " + e.currentTime + " to " + a), 
                                e.currentTime = a);
                            }
                        }
                    }
                }, {
                    key: "onBufferFlushed",
                    value: function() {
                        var t, r, n = [];
                        for (r = 0; r < this.bufferRange.length; r++) t = this.bufferRange[r], this.isBuffered((t.start + t.end) / 2) && n.push(t);
                        this.bufferRange = n, this.immediateSwitch && this.immediateLevelSwitchEnd(), this.state = e.IDLE, 
                        this.fragPrevious = null;
                    }
                }, {
                    key: "swapAudioCodec",
                    value: function() {
                        this.audioCodecSwap = !this.audioCodecSwap;
                    }
                }, {
                    key: "timeRangesToString",
                    value: function(t) {
                        for (var r = "", n = t.length, e = 0; n > e; e++) r += "[" + t.start(e) + "," + t.end(e) + "]";
                        return r;
                    }
                }, {
                    key: "currentLevel",
                    get: function() {
                        if (this.media) {
                            var e = this.getBufferRange(this.media.currentTime);
                            if (e) return e.frag.level;
                        }
                        return -1;
                    }
                }, {
                    key: "nextBufferRange",
                    get: function() {
                        return this.media ? this.followingBufferRange(this.getBufferRange(this.media.currentTime)) : null;
                    }
                }, {
                    key: "nextLevel",
                    get: function() {
                        var e = this.nextBufferRange;
                        return e ? e.frag.level : -1;
                    }
                } ]), a;
            }(s.default);
            o.default = E;
        }, {
            "../demux/demuxer": 15,
            "../errors": 19,
            "../event-handler": 20,
            "../events": 21,
            "../helper/level-helper": 22,
            "../utils/binary-search": 32,
            "../utils/logger": 34
        } ],
        7: [ function(t, g, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                };
            }
            function f(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            function i(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e;
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
            }
            var c = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var l = t("../events"), e = r(l), d = t("../event-handler"), a = r(d), h = t("../utils/cea-708-interpreter"), o = r(h), u = function(r) {
                function t(n) {
                    f(this, t);
                    var r = i(this, Object.getPrototypeOf(t).call(this, n, e.default.MEDIA_ATTACHING, e.default.MEDIA_DETACHING, e.default.FRAG_PARSING_USERDATA, e.default.MANIFEST_LOADING, e.default.FRAG_LOADED));
                    return r.hls = n, r.config = n.config, r.config.enableCEA708Captions && (r.cea708Interpreter = new o.default()), 
                    r;
                }
                return s(t, r), c(t, [ {
                    key: "destroy",
                    value: function() {
                        a.default.prototype.destroy.call(this);
                    }
                }, {
                    key: "onMediaAttaching",
                    value: function(e) {
                        var t = this.media = e.media;
                        this.cea708Interpreter.attach(t);
                    }
                }, {
                    key: "onMediaDetaching",
                    value: function() {
                        this.cea708Interpreter.detach();
                    }
                }, {
                    key: "onManifestLoading",
                    value: function() {
                        this.lastPts = Number.POSITIVE_INFINITY;
                    }
                }, {
                    key: "onFragLoaded",
                    value: function(t) {
                        var e = t.frag.start;
                        e <= this.lastPts && this.cea708Interpreter.clear(), this.lastPts = e;
                    }
                }, {
                    key: "onFragParsingUserdata",
                    value: function(t) {
                        for (var e = 0; e < t.samples.length; e++) this.cea708Interpreter.push(t.samples[e].pts, t.samples[e].bytes);
                    }
                } ]), t;
            }(a.default);
            n.default = u;
        }, {
            "../event-handler": 20,
            "../events": 21,
            "../utils/cea-708-interpreter": 33
        } ],
        8: [ function(a, i, e) {
            "use strict";
            function t(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            var r = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var n = function() {
                function e(f) {
                    t(this, e), this._tables = [ [ [], [], [], [], [] ], [ [], [], [], [], [] ] ], this._precompute();
                    var n, s, r, o, l, i = this._tables[0][4], u = this._tables[1], a = f.length, d = 1;
                    if (4 !== a && 6 !== a && 8 !== a) throw new Error("Invalid aes key size=" + a);
                    for (o = f.slice(0), l = [], this._key = [ o, l ], n = a; 4 * a + 28 > n; n++) r = o[n - 1], 
                    (n % a === 0 || 8 === a && n % a === 4) && (r = i[r >>> 24] << 24 ^ i[r >> 16 & 255] << 16 ^ i[r >> 8 & 255] << 8 ^ i[255 & r], 
                    n % a === 0 && (r = r << 8 ^ r >>> 24 ^ d << 24, d = d << 1 ^ 283 * (d >> 7))), 
                    o[n] = o[n - a] ^ r;
                    for (s = 0; n; s++, n--) r = o[3 & s ? n : n - 4], 4 >= n || 4 > s ? l[s] = r : l[s] = u[0][i[r >>> 24]] ^ u[1][i[r >> 16 & 255]] ^ u[2][i[r >> 8 & 255]] ^ u[3][i[255 & r]];
                }
                return r(e, [ {
                    key: "_precompute",
                    value: function() {
                        var e, n, r, u, f, d, t, s, l, i = this._tables[0], o = this._tables[1], h = i[4], g = o[4], a = [], c = [];
                        for (e = 0; 256 > e; e++) c[(a[e] = e << 1 ^ 283 * (e >> 7)) ^ e] = e;
                        for (n = r = 0; !h[n]; n ^= u || 1, r = c[r] || 1) for (t = r ^ r << 1 ^ r << 2 ^ r << 3 ^ r << 4, 
                        t = t >> 8 ^ 255 & t ^ 99, h[n] = t, g[t] = n, d = a[f = a[u = a[n]]], l = 16843009 * d ^ 65537 * f ^ 257 * u ^ 16843008 * n, 
                        s = 257 * a[t] ^ 16843008 * t, e = 0; 4 > e; e++) i[e][n] = s = s << 24 ^ s >>> 8, 
                        o[e][t] = l = l << 24 ^ l >>> 8;
                        for (e = 0; 5 > e; e++) i[e] = i[e].slice(0), o[e] = o[e].slice(0);
                    }
                }, {
                    key: "decrypt",
                    value: function(R, p, _, E, b, m) {
                        var h, v, g, i, e = this._key[1], t = R ^ e[0], n = E ^ e[1], a = _ ^ e[2], r = p ^ e[3], y = e.length / 4 - 2, s = 4, o = this._tables[1], f = o[0], d = o[1], u = o[2], l = o[3], c = o[4];
                        for (i = 0; y > i; i++) h = f[t >>> 24] ^ d[n >> 16 & 255] ^ u[a >> 8 & 255] ^ l[255 & r] ^ e[s], 
                        v = f[n >>> 24] ^ d[a >> 16 & 255] ^ u[r >> 8 & 255] ^ l[255 & t] ^ e[s + 1], g = f[a >>> 24] ^ d[r >> 16 & 255] ^ u[t >> 8 & 255] ^ l[255 & n] ^ e[s + 2], 
                        r = f[r >>> 24] ^ d[t >> 16 & 255] ^ u[n >> 8 & 255] ^ l[255 & a] ^ e[s + 3], s += 4, 
                        t = h, n = v, a = g;
                        for (i = 0; 4 > i; i++) b[(3 & -i) + m] = c[t >>> 24] << 24 ^ c[n >> 16 & 255] << 16 ^ c[a >> 8 & 255] << 8 ^ c[255 & r] ^ e[s++], 
                        h = t, t = n, n = a, a = r, r = h;
                    }
                } ]), e;
            }();
            e.default = n;
        }, {} ],
        9: [ function(t, l, e) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                };
            }
            function n(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            var a = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var i = t("./aes"), s = r(i), o = function() {
                function e(t, r) {
                    n(this, e), this.key = t, this.iv = r;
                }
                return a(e, [ {
                    key: "ntoh",
                    value: function(e) {
                        return e << 24 | (65280 & e) << 8 | (16711680 & e) >> 8 | e >>> 24;
                    }
                }, {
                    key: "doDecrypt",
                    value: function(n, v, a) {
                        var u, h, o, f, l, c, d, i, e, r = new Int32Array(n.buffer, n.byteOffset, n.byteLength >> 2), p = new s.default(Array.prototype.slice.call(v)), g = new Uint8Array(n.byteLength), t = new Int32Array(g.buffer);
                        for (u = ~~a[0], h = ~~a[1], o = ~~a[2], f = ~~a[3], e = 0; e < r.length; e += 4) l = ~~this.ntoh(r[e]), 
                        c = ~~this.ntoh(r[e + 1]), d = ~~this.ntoh(r[e + 2]), i = ~~this.ntoh(r[e + 3]), 
                        p.decrypt(l, c, d, i, t, e), t[e] = this.ntoh(t[e] ^ u), t[e + 1] = this.ntoh(t[e + 1] ^ h), 
                        t[e + 2] = this.ntoh(t[e + 2] ^ o), t[e + 3] = this.ntoh(t[e + 3] ^ f), u = l, h = c, 
                        o = d, f = i;
                        return g;
                    }
                }, {
                    key: "localDecrypt",
                    value: function(e, t, r, n) {
                        var a = this.doDecrypt(e, t, r);
                        n.set(a, e.byteOffset);
                    }
                }, {
                    key: "decrypt",
                    value: function(i) {
                        var r = 32e3, t = new Int32Array(i), n = new Uint8Array(i.byteLength), e = 0, s = this.key, a = this.iv;
                        for (this.localDecrypt(t.subarray(e, e + r), s, a, n), e = r; e < t.length; e += r) a = new Uint32Array([ this.ntoh(t[e - 4]), this.ntoh(t[e - 3]), this.ntoh(t[e - 2]), this.ntoh(t[e - 1]) ]), 
                        this.localDecrypt(t.subarray(e, e + r), s, a, n);
                        return n;
                    }
                } ]), e;
            }();
            e.default = o;
        }, {
            "./aes": 8
        } ],
        10: [ function(t, d, r) {
            "use strict";
            function l(e) {
                return e && e.__esModule ? e : {
                    "default": e
                };
            }
            function a(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            var u = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(r, "__esModule", {
                value: !0
            });
            var s = t("./aes128-decrypter"), o = l(s), n = t("../errors"), e = t("../utils/logger"), i = function() {
                function t(r) {
                    a(this, t), this.hls = r;
                    try {
                        var e = window ? window.crypto : crypto;
                        this.subtle = e.subtle || e.webkitSubtle, this.disableWebCrypto = !this.subtle;
                    } catch (e) {
                        this.disableWebCrypto = !0;
                    }
                }
                return u(t, [ {
                    key: "destroy",
                    value: function() {}
                }, {
                    key: "decrypt",
                    value: function(e, t, r, n) {
                        this.disableWebCrypto && this.hls.config.enableSoftwareAES ? this.decryptBySoftware(e, t, r, n) : this.decryptByWebCrypto(e, t, r, n);
                    }
                }, {
                    key: "decryptByWebCrypto",
                    value: function(t, r, n, a) {
                        var i = this;
                        e.logger.log("decrypting by WebCrypto API"), this.subtle.importKey("raw", r, {
                            name: "AES-CBC",
                            length: 128
                        }, !1, [ "decrypt" ]).then(function(e) {
                            i.subtle.decrypt({
                                name: "AES-CBC",
                                iv: n.buffer
                            }, e, t).then(a).catch(function(e) {
                                i.onWebCryptoError(e, t, r, n, a);
                            });
                        }).catch(function(e) {
                            i.onWebCryptoError(e, t, r, n, a);
                        });
                    }
                }, {
                    key: "decryptBySoftware",
                    value: function(r, n, a, i) {
                        e.logger.log("decrypting by JavaScript Implementation");
                        var t = new DataView(n.buffer), s = new Uint32Array([ t.getUint32(0), t.getUint32(4), t.getUint32(8), t.getUint32(12) ]);
                        t = new DataView(a.buffer);
                        var l = new Uint32Array([ t.getUint32(0), t.getUint32(4), t.getUint32(8), t.getUint32(12) ]), u = new o.default(s, l);
                        i(u.decrypt(r).buffer);
                    }
                }, {
                    key: "onWebCryptoError",
                    value: function(t, r, a, i, s) {
                        this.hls.config.enableSoftwareAES ? (e.logger.log("disabling to use WebCrypto API"), 
                        this.disableWebCrypto = !0, this.decryptBySoftware(r, a, i, s)) : (e.logger.error("decrypting error : " + t.message), 
                        this.hls.trigger(Event.ERROR, {
                            type: n.ErrorTypes.MEDIA_ERROR,
                            details: n.ErrorDetails.FRAG_DECRYPT_ERROR,
                            fatal: !0,
                            reason: t.message
                        }));
                    }
                } ]), t;
            }();
            r.default = i;
        }, {
            "../errors": 19,
            "../utils/logger": 34,
            "./aes128-decrypter": 9
        } ],
        11: [ function(e, f, t) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                };
            }
            function a(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            var i = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var d = e("./adts"), o = r(d), l = e("../utils/logger"), u = e("../demux/id3"), n = r(u), s = function() {
                function e(t, r) {
                    a(this, e), this.observer = t, this.remuxerClass = r, this.remuxer = new this.remuxerClass(t), 
                    this._aacTrack = {
                        container: "audio/adts",
                        type: "audio",
                        id: -1,
                        sequenceNumber: 0,
                        samples: [],
                        len: 0
                    };
                }
                return i(e, [ {
                    key: "push",
                    value: function(t, p, R, m, _, E, b, y) {
                        var a, i, v, c, e, s, f, u, g, r = this._aacTrack, d = new n.default(t), h = 90 * d.timeStamp;
                        for (e = d.length, u = t.length; u - 1 > e && (255 !== t[e] || 240 !== (240 & t[e + 1])); e++) ;
                        for (r.audiosamplerate || (a = o.default.getAudioConfig(this.observer, t, e, p), 
                        r.config = a.config, r.audiosamplerate = a.samplerate, r.channelCount = a.channelCount, 
                        r.codec = a.codec, r.timescale = a.samplerate, r.duration = a.samplerate * y, l.logger.log("parsed codec:" + r.codec + ",rate:" + a.samplerate + ",nb channel:" + a.channelCount)), 
                        c = 0, v = 9216e4 / r.audiosamplerate; u > e + 5 && (s = 1 & t[e + 1] ? 7 : 9, i = (3 & t[e + 3]) << 11 | t[e + 4] << 3 | (224 & t[e + 5]) >>> 5, 
                        i -= s, i > 0 && u >= e + s + i); ) for (f = h + c * v, g = {
                            unit: t.subarray(e + s, e + s + i),
                            pts: f,
                            dts: f
                        }, r.samples.push(g), r.len += i, e += i + s, c++; u - 1 > e && (255 !== t[e] || 240 !== (240 & t[e + 1])); e++) ;
                        this.remuxer.remux(this._aacTrack, {
                            samples: []
                        }, {
                            samples: [ {
                                pts: h,
                                dts: h,
                                unit: d.payload
                            } ]
                        }, {
                            samples: []
                        }, m);
                    }
                }, {
                    key: "destroy",
                    value: function() {}
                } ], [ {
                    key: "probe",
                    value: function(t) {
                        var e, r, a = new n.default(t);
                        if (a.hasTimeStamp) for (e = a.length, r = t.length; r - 1 > e; e++) if (255 === t[e] && 240 === (240 & t[e + 1])) return !0;
                        return !1;
                    }
                } ]), e;
            }();
            t.default = s;
        }, {
            "../demux/id3": 17,
            "../utils/logger": 34,
            "./adts": 12
        } ],
        12: [ function(e, o, t) {
            "use strict";
            function n(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            var a = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = e("../utils/logger"), r = e("../errors"), s = function() {
                function e() {
                    n(this, e);
                }
                return a(e, null, [ {
                    key: "getAudioConfig",
                    value: function(h, u, l, a) {
                        var n, e, s, o, t, f = navigator.userAgent.toLowerCase(), d = [ 96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350 ];
                        return n = ((192 & u[l + 2]) >>> 6) + 1, e = (60 & u[l + 2]) >>> 2, e > d.length - 1 ? void h.trigger(Event.ERROR, {
                            type: r.ErrorTypes.MEDIA_ERROR,
                            details: r.ErrorDetails.FRAG_PARSING_ERROR,
                            fatal: !0,
                            reason: "invalid ADTS sampling index:" + e
                        }) : (o = (1 & u[l + 2]) << 2, o |= (192 & u[l + 3]) >>> 6, i.logger.log("manifest codec:" + a + ",ADTS data:type:" + n + ",sampleingIndex:" + e + "[" + d[e] + "Hz],channelConfig:" + o), 
                        -1 !== f.indexOf("firefox") ? e >= 6 ? (n = 5, t = new Array(4), s = e - 3) : (n = 2, 
                        t = new Array(2), s = e) : -1 !== f.indexOf("android") ? (n = 2, t = new Array(2), 
                        s = e) : (n = 5, t = new Array(4), a && (-1 !== a.indexOf("mp4a.40.29") || -1 !== a.indexOf("mp4a.40.5")) || !a && e >= 6 ? s = e - 3 : ((a && -1 !== a.indexOf("mp4a.40.2") && (e >= 6 || 1 === o) || !a && 1 === o) && (n = 2, 
                        t = new Array(2)), s = e)), t[0] = n << 3, t[0] |= (14 & e) >> 1, t[1] |= (1 & e) << 7, 
                        t[1] |= o << 3, 5 === n && (t[1] |= (14 & s) >> 1, t[2] = (1 & s) << 7, t[2] |= 8, 
                        t[3] = 0), {
                            config: t,
                            samplerate: d[e],
                            channelCount: o,
                            codec: "mp4a.40." + n
                        });
                    }
                } ]), e;
            }();
            t.default = s;
        }, {
            "../errors": 19,
            "../utils/logger": 34
        } ],
        13: [ function(e, y, n) {
            "use strict";
            function t(e) {
                return e && e.__esModule ? e : {
                    "default": e
                };
            }
            function d(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            var h = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var g = e("../events"), o = t(g), a = e("../errors"), p = e("../demux/aacdemuxer"), i = t(p), f = e("../demux/tsdemuxer"), r = t(f), c = e("../remux/mp4-remuxer"), s = t(c), v = e("../remux/passthrough-remuxer"), u = t(v), l = function() {
                function e(t, r) {
                    d(this, e), this.hls = t, this.typeSupported = r;
                }
                return h(e, [ {
                    key: "destroy",
                    value: function() {
                        var e = this.demuxer;
                        e && e.destroy();
                    }
                }, {
                    key: "push",
                    value: function(n, l, d, f, h, c, g, v) {
                        var e = this.demuxer;
                        if (!e) {
                            var t = this.hls;
                            if (r.default.probe(n)) e = this.typeSupported.mp2t === !0 ? new r.default(t, u.default) : new r.default(t, s.default); else {
                                if (!i.default.probe(n)) return void t.trigger(o.default.ERROR, {
                                    type: a.ErrorTypes.MEDIA_ERROR,
                                    details: a.ErrorDetails.FRAG_PARSING_ERROR,
                                    fatal: !0,
                                    reason: "no demux matching with content found"
                                });
                                e = new i.default(t, s.default);
                            }
                            this.demuxer = e;
                        }
                        e.push(n, l, d, f, h, c, g, v);
                    }
                } ]), e;
            }();
            n.default = l;
        }, {
            "../demux/aacdemuxer": 11,
            "../demux/tsdemuxer": 18,
            "../errors": 19,
            "../events": 21,
            "../remux/mp4-remuxer": 29,
            "../remux/passthrough-remuxer": 30
        } ],
        14: [ function(t, d, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                };
            }
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var a = t("../demux/demuxer-inline"), u = r(a), s = t("../events"), e = r(s), l = t("events"), i = r(l), o = function(r) {
                var t = new i.default();
                t.trigger = function(n) {
                    for (var r = arguments.length, a = Array(r > 1 ? r - 1 : 0), e = 1; r > e; e++) a[e - 1] = arguments[e];
                    t.emit.apply(t, [ n, n ].concat(a));
                }, t.off = function(a) {
                    for (var r = arguments.length, n = Array(r > 1 ? r - 1 : 0), e = 1; r > e; e++) n[e - 1] = arguments[e];
                    t.removeListener.apply(t, [ a ].concat(n));
                }, r.addEventListener("message", function(n) {
                    var e = n.data;
                    switch (e.cmd) {
                      case "init":
                        r.demuxer = new u.default(t, e.typeSupported);
                        break;

                      case "demux":
                        r.demuxer.push(new Uint8Array(e.data), e.audioCodec, e.videoCodec, e.timeOffset, e.cc, e.level, e.sn, e.duration);
                    }
                }), t.on(e.default.FRAG_PARSING_INIT_SEGMENT, function(t, e) {
                    r.postMessage({
                        event: t,
                        tracks: e.tracks,
                        unique: e.unique
                    });
                }), t.on(e.default.FRAG_PARSING_DATA, function(n, e) {
                    var t = {
                        event: n,
                        type: e.type,
                        startPTS: e.startPTS,
                        endPTS: e.endPTS,
                        startDTS: e.startDTS,
                        endDTS: e.endDTS,
                        data1: e.data1.buffer,
                        data2: e.data2.buffer,
                        nb: e.nb
                    };
                    r.postMessage(t, [ t.data1, t.data2 ]);
                }), t.on(e.default.FRAG_PARSED, function(e) {
                    r.postMessage({
                        event: e
                    });
                }), t.on(e.default.ERROR, function(e, t) {
                    r.postMessage({
                        event: e,
                        data: t
                    });
                }), t.on(e.default.FRAG_PARSING_METADATA, function(e, t) {
                    var n = {
                        event: e,
                        samples: t.samples
                    };
                    r.postMessage(n);
                }), t.on(e.default.FRAG_PARSING_USERDATA, function(e, t) {
                    var n = {
                        event: e,
                        samples: t.samples
                    };
                    r.postMessage(n);
                });
            };
            n.default = o;
        }, {
            "../demux/demuxer-inline": 13,
            "../events": 21,
            events: 1
        } ],
        15: [ function(t, v, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                };
            }
            function u(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            var h = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var s = t("../events"), e = r(s), g = t("../demux/demuxer-inline"), a = r(g), d = t("../demux/demuxer-worker"), f = r(d), i = t("../utils/logger"), c = t("../crypt/decrypter"), l = r(c), o = function() {
                function r(e) {
                    u(this, r), this.hls = e;
                    var n = {
                        mp4: MediaSource.isTypeSupported("video/mp4"),
                        mp2t: e.config.enableMP2TPassThrough && MediaSource.isTypeSupported("video/mp2t")
                    };
                    if (e.config.enableWorker && "undefined" != typeof Worker) {
                        i.logger.log("demuxing in webworker");
                        try {
                            var s = t("webworkify");
                            this.w = s(f.default), this.onwmsg = this.onWorkerMessage.bind(this), this.w.addEventListener("message", this.onwmsg), 
                            this.w.postMessage({
                                cmd: "init",
                                typeSupported: n
                            });
                        } catch (t) {
                            i.logger.error("error while initializing DemuxerWorker, fallback on DemuxerInline"), 
                            this.demuxer = new a.default(e, n);
                        }
                    } else this.demuxer = new a.default(e, n);
                    this.demuxInitialized = !0;
                }
                return h(r, [ {
                    key: "destroy",
                    value: function() {
                        this.w ? (this.w.removeEventListener("message", this.onwmsg), this.w.terminate(), 
                        this.w = null) : (this.demuxer.destroy(), this.demuxer = null), this.decrypter && (this.decrypter.destroy(), 
                        this.decrypter = null);
                    }
                }, {
                    key: "pushDecrypted",
                    value: function(e, t, r, n, a, i, s, o) {
                        this.w ? this.w.postMessage({
                            cmd: "demux",
                            data: e,
                            audioCodec: t,
                            videoCodec: r,
                            timeOffset: n,
                            cc: a,
                            level: i,
                            sn: s,
                            duration: o
                        }, [ e ]) : this.demuxer.push(new Uint8Array(e), t, r, n, a, i, s, o);
                    }
                }, {
                    key: "push",
                    value: function(t, r, n, a, i, s, o, u, e) {
                        if (t.byteLength > 0 && null != e && null != e.key && "AES-128" === e.method) {
                            null == this.decrypter && (this.decrypter = new l.default(this.hls));
                            var d = this;
                            this.decrypter.decrypt(t, e.key, e.iv, function(e) {
                                d.pushDecrypted(e, r, n, a, i, s, o, u);
                            });
                        } else this.pushDecrypted(t, r, n, a, i, s, o, u);
                    }
                }, {
                    key: "onWorkerMessage",
                    value: function(n) {
                        var t = n.data;
                        switch (t.event) {
                          case e.default.FRAG_PARSING_INIT_SEGMENT:
                            var r = {};
                            r.tracks = t.tracks, r.unique = t.unique, this.hls.trigger(e.default.FRAG_PARSING_INIT_SEGMENT, r);
                            break;

                          case e.default.FRAG_PARSING_DATA:
                            this.hls.trigger(e.default.FRAG_PARSING_DATA, {
                                data1: new Uint8Array(t.data1),
                                data2: new Uint8Array(t.data2),
                                startPTS: t.startPTS,
                                endPTS: t.endPTS,
                                startDTS: t.startDTS,
                                endDTS: t.endDTS,
                                type: t.type,
                                nb: t.nb
                            });
                            break;

                          case e.default.FRAG_PARSING_METADATA:
                            this.hls.trigger(e.default.FRAG_PARSING_METADATA, {
                                samples: t.samples
                            });
                            break;

                          case e.default.FRAG_PARSING_USERDATA:
                            this.hls.trigger(e.default.FRAG_PARSING_USERDATA, {
                                samples: t.samples
                            });
                            break;

                          default:
                            this.hls.trigger(t.event, t.data);
                        }
                    }
                } ]), r;
            }();
            n.default = o;
        }, {
            "../crypt/decrypter": 10,
            "../demux/demuxer-inline": 13,
            "../demux/demuxer-worker": 14,
            "../events": 21,
            "../utils/logger": 34,
            webworkify: 2
        } ],
        16: [ function(t, s, e) {
            "use strict";
            function r(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            var n = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var a = t("../utils/logger"), i = function() {
                function e(t) {
                    r(this, e), this.data = t, this.bytesAvailable = this.data.byteLength, this.word = 0, 
                    this.bitsAvailable = 0;
                }
                return n(e, [ {
                    key: "loadWord",
                    value: function() {
                        var t = this.data.byteLength - this.bytesAvailable, r = new Uint8Array(4), e = Math.min(4, this.bytesAvailable);
                        if (0 === e) throw new Error("no bytes available");
                        r.set(this.data.subarray(t, t + e)), this.word = new DataView(r.buffer).getUint32(0), 
                        this.bitsAvailable = 8 * e, this.bytesAvailable -= e;
                    }
                }, {
                    key: "skipBits",
                    value: function(e) {
                        var t;
                        this.bitsAvailable > e ? (this.word <<= e, this.bitsAvailable -= e) : (e -= this.bitsAvailable, 
                        t = e >> 3, e -= t >> 3, this.bytesAvailable -= t, this.loadWord(), this.word <<= e, 
                        this.bitsAvailable -= e);
                    }
                }, {
                    key: "readBits",
                    value: function(t) {
                        var e = Math.min(this.bitsAvailable, t), r = this.word >>> 32 - e;
                        return t > 32 && a.logger.error("Cannot read more than 32 bits at a time"), this.bitsAvailable -= e, 
                        this.bitsAvailable > 0 ? this.word <<= e : this.bytesAvailable > 0 && this.loadWord(), 
                        e = t - e, e > 0 ? r << e | this.readBits(e) : r;
                    }
                }, {
                    key: "skipLZ",
                    value: function() {
                        var e;
                        for (e = 0; e < this.bitsAvailable; ++e) if (0 !== (this.word & 2147483648 >>> e)) return this.word <<= e, 
                        this.bitsAvailable -= e, e;
                        return this.loadWord(), e + this.skipLZ();
                    }
                }, {
                    key: "skipUEG",
                    value: function() {
                        this.skipBits(1 + this.skipLZ());
                    }
                }, {
                    key: "skipEG",
                    value: function() {
                        this.skipBits(1 + this.skipLZ());
                    }
                }, {
                    key: "readUEG",
                    value: function() {
                        var e = this.skipLZ();
                        return this.readBits(e + 1) - 1;
                    }
                }, {
                    key: "readEG",
                    value: function() {
                        var e = this.readUEG();
                        return 1 & e ? 1 + e >>> 1 : -1 * (e >>> 1);
                    }
                }, {
                    key: "readBoolean",
                    value: function() {
                        return 1 === this.readBits(1);
                    }
                }, {
                    key: "readUByte",
                    value: function() {
                        return this.readBits(8);
                    }
                }, {
                    key: "readUShort",
                    value: function() {
                        return this.readBits(16);
                    }
                }, {
                    key: "readUInt",
                    value: function() {
                        return this.readBits(32);
                    }
                }, {
                    key: "skipScalingList",
                    value: function(a) {
                        var t, n, r = 8, e = 8;
                        for (t = 0; a > t; t++) 0 !== e && (n = this.readEG(), e = (r + n + 256) % 256), 
                        r = 0 === e ? r : e;
                    }
                }, {
                    key: "readSPS",
                    value: function() {
                        var t, v, p, l, a, i, n, o, r, s = 0, d = 0, f = 0, h = 0, c = 1;
                        if (this.readUByte(), t = this.readUByte(), v = this.readBits(5), this.skipBits(3), 
                        p = this.readUByte(), this.skipUEG(), 100 === t || 110 === t || 122 === t || 244 === t || 44 === t || 83 === t || 86 === t || 118 === t || 128 === t) {
                            var g = this.readUEG();
                            if (3 === g && this.skipBits(1), this.skipUEG(), this.skipUEG(), this.skipBits(1), 
                            this.readBoolean()) for (o = 3 !== g ? 8 : 12, r = 0; o > r; r++) this.readBoolean() && (6 > r ? this.skipScalingList(16) : this.skipScalingList(64));
                        }
                        this.skipUEG();
                        var u = this.readUEG();
                        if (0 === u) this.readUEG(); else if (1 === u) for (this.skipBits(1), this.skipEG(), 
                        this.skipEG(), l = this.readUEG(), r = 0; l > r; r++) this.skipEG();
                        if (this.skipUEG(), this.skipBits(1), a = this.readUEG(), i = this.readUEG(), n = this.readBits(1), 
                        0 === n && this.skipBits(1), this.skipBits(1), this.readBoolean() && (s = this.readUEG(), 
                        d = this.readUEG(), f = this.readUEG(), h = this.readUEG()), this.readBoolean() && this.readBoolean()) {
                            var e = void 0, y = this.readUByte();
                            switch (y) {
                              case 1:
                                e = [ 1, 1 ];
                                break;

                              case 2:
                                e = [ 12, 11 ];
                                break;

                              case 3:
                                e = [ 10, 11 ];
                                break;

                              case 4:
                                e = [ 16, 11 ];
                                break;

                              case 5:
                                e = [ 40, 33 ];
                                break;

                              case 6:
                                e = [ 24, 11 ];
                                break;

                              case 7:
                                e = [ 20, 11 ];
                                break;

                              case 8:
                                e = [ 32, 11 ];
                                break;

                              case 9:
                                e = [ 80, 33 ];
                                break;

                              case 10:
                                e = [ 18, 11 ];
                                break;

                              case 11:
                                e = [ 15, 11 ];
                                break;

                              case 12:
                                e = [ 64, 33 ];
                                break;

                              case 13:
                                e = [ 160, 99 ];
                                break;

                              case 14:
                                e = [ 4, 3 ];
                                break;

                              case 15:
                                e = [ 3, 2 ];
                                break;

                              case 16:
                                e = [ 2, 1 ];
                                break;

                              case 255:
                                e = [ this.readUByte() << 8 | this.readUByte(), this.readUByte() << 8 | this.readUByte() ];
                            }
                            e && (c = e[0] / e[1]);
                        }
                        return {
                            width: Math.ceil((16 * (a + 1) - 2 * s - 2 * d) * c),
                            height: (2 - n) * (i + 1) * 16 - (n ? 2 : 4) * (f + h)
                        };
                    }
                }, {
                    key: "readSliceType",
                    value: function() {
                        return this.readUByte(), this.readUEG(), this.readUEG();
                    }
                } ]), e;
            }();
            e.default = i;
        }, {
            "../utils/logger": 34
        } ],
        17: [ function(r, s, t) {
            "use strict";
            function n(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            var a = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var e = r("../utils/logger"), i = function() {
                function t(a) {
                    n(this, t), this._hasTimeStamp = !1;
                    for (var l, u, d, f, h, s, o, i, r = 0; ;) if (o = this.readUTF(a, r, 3), r += 3, 
                    "ID3" === o) r += 3, l = 127 & a[r++], u = 127 & a[r++], d = 127 & a[r++], f = 127 & a[r++], 
                    h = (l << 21) + (u << 14) + (d << 7) + f, s = r + h, this._parseID3Frames(a, r, s), 
                    r = s; else {
                        if ("3DI" !== o) return r -= 3, i = r, void (i && (this.hasTimeStamp || e.logger.warn("ID3 tag found, but no timestamp"), 
                        this._length = i, this._payload = a.subarray(0, i)));
                        r += 7, e.logger.log("3DI footer found, end: " + r);
                    }
                }
                return a(t, [ {
                    key: "readUTF",
                    value: function(n, e, a) {
                        var t = "", r = e, i = e + a;
                        do t += String.fromCharCode(n[r++]); while (i > r);
                        return t;
                    }
                }, {
                    key: "_parseID3Frames",
                    value: function(r, t, i) {
                        for (var a, s, o, l, n; i >= t + 8; ) switch (a = this.readUTF(r, t, 4), t += 4, 
                        s = r[t++] << 24 + r[t++] << 16 + r[t++] << 8 + r[t++], l = r[t++] << 8 + r[t++], 
                        o = t, a) {
                          case "PRIV":
                            if ("com.apple.streaming.transportStreamTimestamp" === this.readUTF(r, t, 44)) {
                                t += 44, t += 4;
                                var u = 1 & r[t++];
                                this._hasTimeStamp = !0, n = ((r[t++] << 23) + (r[t++] << 15) + (r[t++] << 7) + r[t++]) / 45, 
                                u && (n += 47721858.84), n = Math.round(n), e.logger.trace("ID3 timestamp found: " + n), 
                                this._timeStamp = n;
                            }
                        }
                    }
                }, {
                    key: "hasTimeStamp",
                    get: function() {
                        return this._hasTimeStamp;
                    }
                }, {
                    key: "timeStamp",
                    get: function() {
                        return this._timeStamp;
                    }
                }, {
                    key: "length",
                    get: function() {
                        return this._length;
                    }
                }, {
                    key: "payload",
                    get: function() {
                        return this._payload;
                    }
                } ]), t;
            }();
            t.default = i;
        }, {
            "../utils/logger": 34
        } ],
        18: [ function(t, g, a) {
            "use strict";
            function n(e) {
                return e && e.__esModule ? e : {
                    "default": e
                };
            }
            function u(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            var f = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(a, "__esModule", {
                value: !0
            });
            var h = t("./adts"), c = n(h), l = t("../events"), i = n(l), d = t("./exp-golomb"), s = n(d), e = t("../utils/logger"), r = t("../errors"), o = function() {
                function t(e, r) {
                    u(this, t), this.observer = e, this.remuxerClass = r, this.lastCC = 0, this.remuxer = new this.remuxerClass(e);
                }
                return f(t, [ {
                    key: "switchLevel",
                    value: function() {
                        this.pmtParsed = !1, this._pmtId = -1, this.lastAacPTS = null, this.aacOverFlow = null, 
                        this._avcTrack = {
                            container: "video/mp2t",
                            type: "video",
                            id: -1,
                            sequenceNumber: 0,
                            samples: [],
                            len: 0,
                            nbNalu: 0
                        }, this._aacTrack = {
                            container: "video/mp2t",
                            type: "audio",
                            id: -1,
                            sequenceNumber: 0,
                            samples: [],
                            len: 0
                        }, this._id3Track = {
                            type: "id3",
                            id: -1,
                            sequenceNumber: 0,
                            samples: [],
                            len: 0
                        }, this._txtTrack = {
                            type: "text",
                            id: -1,
                            sequenceNumber: 0,
                            samples: [],
                            len: 0
                        }, this.remuxer.switchLevel();
                    }
                }, {
                    key: "insertDiscontinuity",
                    value: function() {
                        this.switchLevel(), this.remuxer.insertDiscontinuity();
                    }
                }, {
                    key: "push",
                    value: function(n, R, k, _, p, m, b, A) {
                        var s, o, l, t, d, u, y, a, c = n.length, E = this.remuxer.passthrough;
                        this.audioCodec = R, this.videoCodec = k, this.timeOffset = _, this._duration = A, 
                        this.contiguous = !1, p !== this.lastCC ? (e.logger.log("discontinuity detected"), 
                        this.insertDiscontinuity(), this.lastCC = p) : m !== this.lastLevel ? (e.logger.log("level switch detected"), 
                        this.switchLevel(), this.lastLevel = m) : b === this.lastSN + 1 && (this.contiguous = !0), 
                        this.lastSN = b, this.contiguous || (this.aacOverFlow = null);
                        var v = this.pmtParsed, h = this._avcTrack.id, f = this._aacTrack.id, g = this._id3Track.id;
                        for (c -= c % 188, t = 0; c > t; t += 188) if (71 === n[t]) {
                            if (d = !!(64 & n[t + 1]), u = ((31 & n[t + 1]) << 8) + n[t + 2], y = (48 & n[t + 3]) >> 4, 
                            y > 1) {
                                if (a = t + 5 + n[t + 4], a === t + 188) continue;
                            } else a = t + 4;
                            if (v) if (u === h) {
                                if (d) {
                                    if (s && (this._parseAVCPES(this._parsePES(s)), E && this._avcTrack.codec && (-1 === f || this._aacTrack.codec))) return void this.remux(n);
                                    s = {
                                        data: [],
                                        size: 0
                                    };
                                }
                                s && (s.data.push(n.subarray(a, t + 188)), s.size += t + 188 - a);
                            } else if (u === f) {
                                if (d) {
                                    if (o && (this._parseAACPES(this._parsePES(o)), E && this._aacTrack.codec && (-1 === h || this._avcTrack.codec))) return void this.remux(n);
                                    o = {
                                        data: [],
                                        size: 0
                                    };
                                }
                                o && (o.data.push(n.subarray(a, t + 188)), o.size += t + 188 - a);
                            } else u === g && (d && (l && this._parseID3PES(this._parsePES(l)), l = {
                                data: [],
                                size: 0
                            }), l && (l.data.push(n.subarray(a, t + 188)), l.size += t + 188 - a)); else d && (a += n[a] + 1), 
                            0 === u ? this._parsePAT(n, a) : u === this._pmtId && (this._parsePMT(n, a), v = this.pmtParsed = !0, 
                            h = this._avcTrack.id, f = this._aacTrack.id, g = this._id3Track.id);
                        } else this.observer.trigger(i.default.ERROR, {
                            type: r.ErrorTypes.MEDIA_ERROR,
                            details: r.ErrorDetails.FRAG_PARSING_ERROR,
                            fatal: !1,
                            reason: "TS packet did not start with 0x47"
                        });
                        s && this._parseAVCPES(this._parsePES(s)), o && this._parseAACPES(this._parsePES(o)), 
                        l && this._parseID3PES(this._parsePES(l)), this.remux(null);
                    }
                }, {
                    key: "remux",
                    value: function(e) {
                        this.remuxer.remux(this._aacTrack, this._avcTrack, this._id3Track, this._txtTrack, this.timeOffset, this.contiguous, e);
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this.switchLevel(), this._initPTS = this._initDTS = void 0, this._duration = 0;
                    }
                }, {
                    key: "_parsePAT",
                    value: function(e, t) {
                        this._pmtId = (31 & e[t + 10]) << 8 | e[t + 11];
                    }
                }, {
                    key: "_parsePMT",
                    value: function(r, t) {
                        var a, i, s, n;
                        for (a = (15 & r[t + 1]) << 8 | r[t + 2], i = t + 3 + a - 4, s = (15 & r[t + 10]) << 8 | r[t + 11], 
                        t += 12 + s; i > t; ) {
                            switch (n = (31 & r[t + 1]) << 8 | r[t + 2], r[t]) {
                              case 15:
                                this._aacTrack.id = n;
                                break;

                              case 21:
                                this._id3Track.id = n;
                                break;

                              case 27:
                                this._avcTrack.id = n;
                                break;

                              default:
                                e.logger.log("unkown stream type:" + r[t]);
                            }
                            t += ((15 & r[t + 3]) << 8 | r[t + 4]) + 5;
                        }
                    }
                }, {
                    key: "_parsePES",
                    value: function(o) {
                        var e, i, h, d, u, l, n, r, t, f = 0, s = o.data;
                        if (e = s[0], h = (e[0] << 16) + (e[1] << 8) + e[2], 1 === h) {
                            for (d = (e[4] << 8) + e[5], i = e[7], 192 & i && (n = 536870912 * (14 & e[9]) + 4194304 * (255 & e[10]) + 16384 * (254 & e[11]) + 128 * (255 & e[12]) + (254 & e[13]) / 2, 
                            n > 4294967295 && (n -= 8589934592), 64 & i ? (r = 536870912 * (14 & e[14]) + 4194304 * (255 & e[15]) + 16384 * (254 & e[16]) + 128 * (255 & e[17]) + (254 & e[18]) / 2, 
                            r > 4294967295 && (r -= 8589934592)) : r = n), u = e[8], t = u + 9, o.size -= t, 
                            l = new Uint8Array(o.size); s.length; ) {
                                e = s.shift();
                                var a = e.byteLength;
                                if (t) {
                                    if (t > a) {
                                        t -= a;
                                        continue;
                                    }
                                    e = e.subarray(t), a -= t, t = 0;
                                }
                                l.set(e, f), f += a;
                            }
                            return {
                                data: l,
                                pts: n,
                                dts: r,
                                len: d
                            };
                        }
                        return null;
                    }
                }, {
                    key: "_parseAVCPES",
                    value: function(n) {
                        var t, y, i, l, f = this, r = this._avcTrack, u = r.samples, m = this._parseAVCNALu(n.data), d = [], o = !1, c = !1, g = 0;
                        if (0 === m.length && u.length > 0) {
                            var v = u[u.length - 1], h = v.units.units[v.units.units.length - 1], p = new Uint8Array(h.data.byteLength + n.data.byteLength);
                            p.set(h.data, 0), p.set(n.data, h.data.byteLength), h.data = p, v.units.length += n.data.byteLength, 
                            r.len += n.data.byteLength;
                        }
                        n.data = null;
                        var a = "";
                        m.forEach(function(e) {
                            switch (e.type) {
                              case 1:
                                i = !0, o && (a += "NDR ");
                                break;

                              case 5:
                                i = !0, o && (a += "IDR "), c = !0;
                                break;

                              case 6:
                                i = !0, o && (a += "SEI "), t = new s.default(e.data), t.readUByte();
                                var b = t.readUByte();
                                if (4 === b) {
                                    var p = 0;
                                    do p = t.readUByte(); while (255 === p);
                                    var R = t.readUByte();
                                    if (181 === R) {
                                        var _ = t.readUShort();
                                        if (49 === _) {
                                            var A = t.readUInt();
                                            if (1195456820 === A) {
                                                var L = t.readUByte();
                                                if (3 === L) {
                                                    var v = t.readUByte(), E = t.readUByte(), T = 31 & v, h = [ v, E ];
                                                    for (l = 0; T > l; l++) h.push(t.readUByte()), h.push(t.readUByte()), h.push(t.readUByte());
                                                    f._txtTrack.samples.push({
                                                        type: 3,
                                                        pts: n.pts,
                                                        bytes: h
                                                    });
                                                }
                                            }
                                        }
                                    }
                                }
                                break;

                              case 7:
                                if (i = !0, o && (a += "SPS "), !r.sps) {
                                    t = new s.default(e.data);
                                    var y = t.readSPS();
                                    r.width = y.width, r.height = y.height, r.sps = [ e.data ], r.timescale = f.remuxer.timescale, 
                                    r.duration = f.remuxer.timescale * f._duration;
                                    var k = e.data.subarray(1, 4), m = "avc1.";
                                    for (l = 0; 3 > l; l++) {
                                        var u = k[l].toString(16);
                                        u.length < 2 && (u = "0" + u), m += u;
                                    }
                                    r.codec = m;
                                }
                                break;

                              case 8:
                                i = !0, o && (a += "PPS "), r.pps || (r.pps = [ e.data ]);
                                break;

                              case 9:
                                i = !1, o && (a += "AUD ");
                                break;

                              default:
                                i = !1, a += "unknown NAL " + e.type + " ";
                            }
                            i && (d.push(e), g += e.data.byteLength);
                        }), (o || a.length) && e.logger.log(a), d.length && (c === !0 || r.sps) && (y = {
                            units: {
                                units: d,
                                length: g
                            },
                            pts: n.pts,
                            dts: n.dts,
                            key: c
                        }, u.push(y), r.len += g, r.nbNalu += d.length);
                    }
                }, {
                    key: "_parseAVCNALu",
                    value: function(r) {
                        for (var i, n, s, p, a, l, t = 0, h = r.byteLength, e = 0, d = []; h > t; ) switch (i = r[t++], 
                        e) {
                          case 0:
                            0 === i && (e = 1);
                            break;

                          case 1:
                            e = 0 === i ? 2 : 0;
                            break;

                          case 2:
                          case 3:
                            if (0 === i) e = 3; else if (1 === i && h > t) {
                                if (p = 31 & r[t], a) s = {
                                    data: r.subarray(a, t - e - 1),
                                    type: l
                                }, d.push(s); else if (n = t - e - 1) {
                                    var c = this._avcTrack, f = c.samples;
                                    if (f.length) {
                                        var g = f[f.length - 1], v = g.units.units, o = v[v.length - 1], u = new Uint8Array(o.data.byteLength + n);
                                        u.set(o.data, 0), u.set(r.subarray(0, n), o.data.byteLength), o.data = u, g.units.length += n, 
                                        c.len += n;
                                    }
                                }
                                a = t, l = p, e = 0;
                            } else e = 0;
                        }
                        return a && (s = {
                            data: r.subarray(a, h),
                            type: l
                        }, d.push(s)), d;
                    }
                }, {
                    key: "_parseAACPES",
                    value: function(R) {
                        var s, l, p, b, t, d, h, o, _, a = this._aacTrack, n = R.data, g = R.pts, L = 0, k = this._duration, A = this.audioCodec, u = this.aacOverFlow, E = this.lastAacPTS;
                        if (u) {
                            var m = new Uint8Array(u.byteLength + n.byteLength);
                            m.set(u, 0), m.set(n, u.byteLength), n = m;
                        }
                        for (t = L, o = n.length; o - 1 > t && (255 !== n[t] || 240 !== (240 & n[t + 1])); t++) ;
                        if (t) {
                            var y, f;
                            if (o - 1 > t ? (y = "AAC PES did not start with ADTS header,offset:" + t, f = !1) : (y = "no ADTS header found in AAC PES", 
                            f = !0), this.observer.trigger(i.default.ERROR, {
                                type: r.ErrorTypes.MEDIA_ERROR,
                                details: r.ErrorDetails.FRAG_PARSING_ERROR,
                                fatal: f,
                                reason: y
                            }), f) return;
                        }
                        if (a.audiosamplerate || (s = c.default.getAudioConfig(this.observer, n, t, A), 
                        a.config = s.config, a.audiosamplerate = s.samplerate, a.channelCount = s.channelCount, 
                        a.codec = s.codec, a.timescale = s.samplerate, a.duration = s.samplerate * k, e.logger.log("parsed codec:" + a.codec + ",rate:" + s.samplerate + ",nb channel:" + s.channelCount)), 
                        b = 0, p = 9216e4 / a.audiosamplerate, u && E) {
                            var v = E + p;
                            Math.abs(v - g) > 1 && (e.logger.log("AAC: align PTS for overlapping frames by " + Math.round((v - g) / 90)), 
                            g = v);
                        }
                        for (;o > t + 5 && (d = 1 & n[t + 1] ? 7 : 9, l = (3 & n[t + 3]) << 11 | n[t + 4] << 3 | (224 & n[t + 5]) >>> 5, 
                        l -= d, l > 0 && o >= t + d + l); ) for (h = g + b * p, _ = {
                            unit: n.subarray(t + d, t + d + l),
                            pts: h,
                            dts: h
                        }, a.samples.push(_), a.len += l, t += l + d, b++; o - 1 > t && (255 !== n[t] || 240 !== (240 & n[t + 1])); t++) ;
                        u = o > t ? n.subarray(t, o) : null, this.aacOverFlow = u, this.lastAacPTS = h;
                    }
                }, {
                    key: "_parseID3PES",
                    value: function(e) {
                        this._id3Track.samples.push(e);
                    }
                } ], [ {
                    key: "probe",
                    value: function(e) {
                        return e.length >= 564 && 71 === e[0] && 71 === e[188] && 71 === e[376] ? !0 : !1;
                    }
                } ]), t;
            }();
            a.default = o;
        }, {
            "../errors": 19,
            "../events": 21,
            "../utils/logger": 34,
            "./adts": 12,
            "./exp-golomb": 16
        } ],
        19: [ function(t, r, e) {
            "use strict";
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            e.ErrorTypes = {
                NETWORK_ERROR: "hlsNetworkError",
                MEDIA_ERROR: "hlsMediaError",
                OTHER_ERROR: "hlsOtherError"
            }, e.ErrorDetails = {
                MANIFEST_LOAD_ERROR: "manifestLoadError",
                MANIFEST_LOAD_TIMEOUT: "manifestLoadTimeOut",
                MANIFEST_PARSING_ERROR: "manifestParsingError",
                LEVEL_LOAD_ERROR: "levelLoadError",
                LEVEL_LOAD_TIMEOUT: "levelLoadTimeOut",
                LEVEL_SWITCH_ERROR: "levelSwitchError",
                FRAG_LOAD_ERROR: "fragLoadError",
                FRAG_LOOP_LOADING_ERROR: "fragLoopLoadingError",
                FRAG_LOAD_TIMEOUT: "fragLoadTimeOut",
                FRAG_DECRYPT_ERROR: "fragDecryptError",
                FRAG_PARSING_ERROR: "fragParsingError",
                KEY_LOAD_ERROR: "keyLoadError",
                KEY_LOAD_TIMEOUT: "keyLoadTimeOut",
                BUFFER_APPEND_ERROR: "bufferAppendError",
                BUFFER_APPENDING_ERROR: "bufferAppendingError",
                BUFFER_STALLED_ERROR: "bufferStalledError",
                BUFFER_FULL_ERROR: "bufferFullError"
            };
        }, {} ],
        20: [ function(i, s, e) {
            "use strict";
            function t(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e;
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol ? "symbol" : typeof e;
            }, n = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var a = function() {
                function e(i) {
                    t(this, e), this.hls = i, this.onEvent = this.onEvent.bind(this);
                    for (var n = arguments.length, a = Array(n > 1 ? n - 1 : 0), r = 1; n > r; r++) a[r - 1] = arguments[r];
                    this.handledEvents = a, this.useGenericHandler = !0, this.registerListeners();
                }
                return n(e, [ {
                    key: "destroy",
                    value: function() {
                        this.unregisterListeners();
                    }
                }, {
                    key: "isEventHandler",
                    value: function() {
                        return "object" === r(this.handledEvents) && this.handledEvents.length && "function" == typeof this.onEvent;
                    }
                }, {
                    key: "registerListeners",
                    value: function() {
                        this.isEventHandler() && this.handledEvents.forEach(function(e) {
                            if ("hlsEventGeneric" === e) throw new Error("Forbidden event name: " + e);
                            this.hls.on(e, this.onEvent);
                        }.bind(this));
                    }
                }, {
                    key: "unregisterListeners",
                    value: function() {
                        this.isEventHandler() && this.handledEvents.forEach(function(e) {
                            this.hls.off(e, this.onEvent);
                        }.bind(this));
                    }
                }, {
                    key: "onEvent",
                    value: function(e, t) {
                        this.onEventGeneric(e, t);
                    }
                }, {
                    key: "onEventGeneric",
                    value: function(e, t) {
                        var r = function(t, r) {
                            var e = "on" + t.replace("hls", "");
                            if ("function" != typeof this[e]) throw new Error("Event " + t + " has no generic handler in this " + this.constructor.name + " class (tried " + e + ")");
                            return this[e].bind(this, r);
                        };
                        r.call(this, e, t).call();
                    }
                } ]), e;
            }();
            e.default = a;
        }, {} ],
        21: [ function(t, e, r) {
            "use strict";
            e.exports = {
                MEDIA_ATTACHING: "hlsMediaAttaching",
                MEDIA_ATTACHED: "hlsMediaAttached",
                MEDIA_DETACHING: "hlsMediaDetaching",
                MEDIA_DETACHED: "hlsMediaDetached",
                BUFFER_RESET: "hlsBufferReset",
                BUFFER_CODECS: "hlsBufferCodecs",
                BUFFER_APPENDING: "hlsBufferAppending",
                BUFFER_APPENDED: "hlsBufferAppended",
                BUFFER_EOS: "hlsBufferEos",
                BUFFER_FLUSHING: "hlsBufferFlushing",
                BUFFER_FLUSHED: "hlsBufferFlushed",
                MANIFEST_LOADING: "hlsManifestLoading",
                MANIFEST_LOADED: "hlsManifestLoaded",
                MANIFEST_PARSED: "hlsManifestParsed",
                LEVEL_LOADING: "hlsLevelLoading",
                LEVEL_LOADED: "hlsLevelLoaded",
                LEVEL_UPDATED: "hlsLevelUpdated",
                LEVEL_PTS_UPDATED: "hlsLevelPtsUpdated",
                LEVEL_SWITCH: "hlsLevelSwitch",
                FRAG_LOADING: "hlsFragLoading",
                FRAG_LOAD_PROGRESS: "hlsFragLoadProgress",
                FRAG_LOAD_EMERGENCY_ABORTED: "hlsFragLoadEmergencyAborted",
                FRAG_LOADED: "hlsFragLoaded",
                FRAG_PARSING_INIT_SEGMENT: "hlsFragParsingInitSegment",
                FRAG_PARSING_USERDATA: "hlsFragParsingUserdata",
                FRAG_PARSING_METADATA: "hlsFragParsingMetadata",
                FRAG_PARSING_DATA: "hlsFragParsingData",
                FRAG_PARSED: "hlsFragParsed",
                FRAG_BUFFERED: "hlsFragBuffered",
                FRAG_CHANGED: "hlsFragChanged",
                FPS_DROP: "hlsFpsDrop",
                ERROR: "hlsError",
                DESTROYING: "hlsDestroying",
                KEY_LOADING: "hlsKeyLoading",
                KEY_LOADED: "hlsKeyLoaded"
            };
        }, {} ],
        22: [ function(r, s, t) {
            "use strict";
            function n(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            var a = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var e = r("../utils/logger"), i = function() {
                function t() {
                    n(this, t);
                }
                return a(t, null, [ {
                    key: "mergeDetails",
                    value: function(i, n) {
                        var s, c = Math.max(i.startSN, n.startSN) - n.startSN, d = Math.min(i.endSN, n.endSN) - n.startSN, f = n.startSN - i.startSN, h = i.fragments, o = n.fragments, u = 0;
                        if (c > d) return void (n.PTSKnown = !1);
                        for (var r = c; d >= r; r++) {
                            var l = h[f + r], a = o[r];
                            u = l.cc - a.cc, isNaN(l.startPTS) || (a.start = a.startPTS = l.startPTS, a.endPTS = l.endPTS, 
                            a.duration = l.duration, s = a);
                        }
                        if (u) for (e.logger.log("discontinuity sliding from playlist, take drift into account"), 
                        r = 0; r < o.length; r++) o[r].cc += u;
                        if (s) t.updateFragPTS(n, s.sn, s.startPTS, s.endPTS); else {
                            var g = h[f].start;
                            for (r = 0; r < o.length; r++) o[r].start += g;
                        }
                        n.PTSKnown = i.PTSKnown;
                    }
                }, {
                    key: "updateFragPTS",
                    value: function(n, l, a, s) {
                        var o, i, r, e;
                        if (l < n.startSN || l > n.endSN) return 0;
                        o = l - n.startSN, i = n.fragments, r = i[o], isNaN(r.startPTS) || (a = Math.min(a, r.startPTS), 
                        s = Math.max(s, r.endPTS));
                        var u = a - r.start;
                        for (r.start = r.startPTS = a, r.endPTS = s, r.duration = s - a, e = o; e > 0; e--) t.updatePTS(i, e, e - 1);
                        for (e = o; e < i.length - 1; e++) t.updatePTS(i, e, e + 1);
                        return n.PTSKnown = !0, u;
                    }
                }, {
                    key: "updatePTS",
                    value: function(s, n, a) {
                        var t = s[n], r = s[a], i = r.startPTS;
                        isNaN(i) ? a > n ? r.start = t.start + t.duration : r.start = t.start - r.duration : a > n ? (t.duration = i - t.start, 
                        t.duration < 0 && e.logger.error("negative duration computed for frag " + t.sn + ",level " + t.level + ", there should be some duration drift between playlist and fragment!")) : (r.duration = t.start - i, 
                        r.duration < 0 && e.logger.error("negative duration computed for frag " + r.sn + ",level " + r.level + ", there should be some duration drift between playlist and fragment!"));
                    }
                } ]), t;
            }();
            t.default = i;
        }, {
            "../utils/logger": 34
        } ],
        23: [ function(t, D, a) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                };
            }
            function o(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            var i = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(a, "__esModule", {
                value: !0
            });
            var A = t("./events"), n = r(A), s = t("./errors"), u = t("./loader/playlist-loader"), d = r(u), f = t("./loader/fragment-loader"), h = r(f), c = t("./controller/abr-controller"), g = r(c), O = t("./controller/buffer-controller"), p = r(O), y = t("./controller/stream-controller"), m = r(y), b = t("./controller/level-controller"), E = r(b), _ = t("./controller/timeline-controller"), R = r(_), e = t("./utils/logger"), k = t("./utils/xhr-loader"), L = r(k), T = t("events"), S = r(T), w = t("./loader/key-loader"), v = r(w), l = function() {
                function t() {
                    var n = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                    o(this, t);
                    var i = t.DefaultConfig;
                    for (var a in i) a in n || (n[a] = i[a]);
                    if (void 0 !== n.liveMaxLatencyDurationCount && n.liveMaxLatencyDurationCount <= n.liveSyncDurationCount) throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');
                    (0, e.enableLogs)(n.debug), this.config = n;
                    var r = this.observer = new S.default();
                    r.trigger = function(n) {
                        for (var t = arguments.length, a = Array(t > 1 ? t - 1 : 0), e = 1; t > e; e++) a[e - 1] = arguments[e];
                        r.emit.apply(r, [ n, n ].concat(a));
                    }, r.off = function(a) {
                        for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), e = 1; t > e; e++) n[e - 1] = arguments[e];
                        r.removeListener.apply(r, [ a ].concat(n));
                    }, this.on = r.on.bind(r), this.off = r.off.bind(r), this.trigger = r.trigger.bind(r), 
                    this.playlistLoader = new d.default(this), this.fragmentLoader = new h.default(this), 
                    this.levelController = new E.default(this), this.abrController = new n.abrController(this), 
                    this.bufferController = new n.bufferController(this), this.streamController = new n.streamController(this), 
                    this.timelineController = new n.timelineController(this), this.keyLoader = new v.default(this);
                }
                return i(t, null, [ {
                    key: "isSupported",
                    value: function() {
                        return window.MediaSource && window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"');
                    }
                }, {
                    key: "Events",
                    get: function() {
                        return n.default;
                    }
                }, {
                    key: "ErrorTypes",
                    get: function() {
                        return s.ErrorTypes;
                    }
                }, {
                    key: "ErrorDetails",
                    get: function() {
                        return s.ErrorDetails;
                    }
                }, {
                    key: "DefaultConfig",
                    get: function() {
                        return t.defaultConfig || (t.defaultConfig = {
                            autoStartLoad: !0,
                            debug: !1,
                            maxBufferLength: 30,
                            maxBufferSize: 6e7,
                            maxBufferHole: .5,
                            maxSeekHole: 2,
                            liveSyncDurationCount: 3,
                            liveMaxLatencyDurationCount: 1 / 0,
                            maxMaxBufferLength: 600,
                            enableWorker: !0,
                            enableSoftwareAES: !0,
                            manifestLoadingTimeOut: 1e4,
                            manifestLoadingMaxRetry: 1,
                            manifestLoadingRetryDelay: 1e3,
                            levelLoadingTimeOut: 1e4,
                            levelLoadingMaxRetry: 4,
                            levelLoadingRetryDelay: 1e3,
                            fragLoadingTimeOut: 2e4,
                            fragLoadingMaxRetry: 6,
                            fragLoadingRetryDelay: 1e3,
                            fragLoadingLoopThreshold: 3,
                            startFragPrefetch: !1,
                            appendErrorMaxRetry: 3,
                            loader: L.default,
                            fLoader: void 0,
                            pLoader: void 0,
                            abrController: g.default,
                            bufferController: p.default,
                            streamController: m.default,
                            timelineController: R.default,
                            enableCEA708Captions: !0,
                            enableMP2TPassThrough: !1
                        }), t.defaultConfig;
                    },
                    set: function(e) {
                        t.defaultConfig = e;
                    }
                } ]), i(t, [ {
                    key: "destroy",
                    value: function() {
                        e.logger.log("destroy"), this.trigger(n.default.DESTROYING), this.detachMedia(), 
                        this.playlistLoader.destroy(), this.fragmentLoader.destroy(), this.levelController.destroy(), 
                        this.bufferController.destroy(), this.streamController.destroy(), this.timelineController.destroy(), 
                        this.keyLoader.destroy(), this.url = null, this.observer.removeAllListeners();
                    }
                }, {
                    key: "attachMedia",
                    value: function(t) {
                        e.logger.log("attachMedia"), this.media = t, this.trigger(n.default.MEDIA_ATTACHING, {
                            media: t
                        });
                    }
                }, {
                    key: "detachMedia",
                    value: function() {
                        e.logger.log("detachMedia"), this.trigger(n.default.MEDIA_DETACHING), this.media = null;
                    }
                }, {
                    key: "loadSource",
                    value: function(t) {
                        e.logger.log("loadSource:" + t), this.url = t, this.trigger(n.default.MANIFEST_LOADING, {
                            url: t
                        });
                    }
                }, {
                    key: "startLoad",
                    value: function() {
                        e.logger.log("startLoad"), this.streamController.startLoad();
                    }
                }, {
                    key: "swapAudioCodec",
                    value: function() {
                        e.logger.log("swapAudioCodec"), this.streamController.swapAudioCodec();
                    }
                }, {
                    key: "recoverMediaError",
                    value: function() {
                        e.logger.log("recoverMediaError");
                        var t = this.media;
                        this.detachMedia(), this.attachMedia(t);
                    }
                }, {
                    key: "levels",
                    get: function() {
                        return this.levelController.levels;
                    }
                }, {
                    key: "currentLevel",
                    get: function() {
                        return this.streamController.currentLevel;
                    },
                    set: function(t) {
                        e.logger.log("set currentLevel:" + t), this.loadLevel = t, this.streamController.immediateLevelSwitch();
                    }
                }, {
                    key: "nextLevel",
                    get: function() {
                        return this.streamController.nextLevel;
                    },
                    set: function(t) {
                        e.logger.log("set nextLevel:" + t), this.levelController.manualLevel = t, this.streamController.nextLevelSwitch();
                    }
                }, {
                    key: "loadLevel",
                    get: function() {
                        return this.levelController.level;
                    },
                    set: function(t) {
                        e.logger.log("set loadLevel:" + t), this.levelController.manualLevel = t;
                    }
                }, {
                    key: "nextLoadLevel",
                    get: function() {
                        return this.levelController.nextLoadLevel();
                    },
                    set: function(e) {
                        this.levelController.level = e;
                    }
                }, {
                    key: "firstLevel",
                    get: function() {
                        return this.levelController.firstLevel;
                    },
                    set: function(t) {
                        e.logger.log("set firstLevel:" + t), this.levelController.firstLevel = t;
                    }
                }, {
                    key: "startLevel",
                    get: function() {
                        return this.levelController.startLevel;
                    },
                    set: function(t) {
                        e.logger.log("set startLevel:" + t), this.levelController.startLevel = t;
                    }
                }, {
                    key: "autoLevelCapping",
                    get: function() {
                        return this.abrController.autoLevelCapping;
                    },
                    set: function(t) {
                        e.logger.log("set autoLevelCapping:" + t), this.abrController.autoLevelCapping = t;
                    }
                }, {
                    key: "autoLevelEnabled",
                    get: function() {
                        return -1 === this.levelController.manualLevel;
                    }
                }, {
                    key: "manualLevel",
                    get: function() {
                        return this.levelController.manualLevel;
                    }
                } ]), t;
            }();
            a.default = l;
        }, {
            "./controller/abr-controller": 3,
            "./controller/buffer-controller": 4,
            "./controller/level-controller": 5,
            "./controller/stream-controller": 6,
            "./controller/timeline-controller": 7,
            "./errors": 19,
            "./events": 21,
            "./loader/fragment-loader": 25,
            "./loader/key-loader": 26,
            "./loader/playlist-loader": 27,
            "./utils/logger": 34,
            "./utils/xhr-loader": 36,
            events: 1
        } ],
        24: [ function(e, t, r) {
            "use strict";
            t.exports = e("./hls.js").default;
        }, {
            "./hls.js": 23
        } ],
        25: [ function(r, c, n) {
            "use strict";
            function a(e) {
                return e && e.__esModule ? e : {
                    "default": e
                };
            }
            function u(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            function f(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e;
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
            }
            var h = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var l = r("../events"), e = a(l), d = r("../event-handler"), i = a(d), t = r("../errors"), o = function(n) {
                function r(t) {
                    return u(this, r), f(this, Object.getPrototypeOf(r).call(this, t, e.default.FRAG_LOADING));
                }
                return s(r, n), h(r, [ {
                    key: "destroy",
                    value: function() {
                        this.loader && (this.loader.destroy(), this.loader = null), i.default.prototype.destroy.call(this);
                    }
                }, {
                    key: "onFragLoading",
                    value: function(r) {
                        var t = r.frag;
                        this.frag = t, this.frag.loaded = 0;
                        var e = this.hls.config;
                        t.loader = this.loader = "undefined" != typeof e.fLoader ? new e.fLoader(e) : new e.loader(e), 
                        this.loader.load(t.url, "arraybuffer", this.loadsuccess.bind(this), this.loaderror.bind(this), this.loadtimeout.bind(this), e.fragLoadingTimeOut, 1, 0, this.loadprogress.bind(this), t);
                    }
                }, {
                    key: "loadsuccess",
                    value: function(n, t) {
                        var r = n.currentTarget.response;
                        t.length = r.byteLength, this.frag.loader = void 0, this.hls.trigger(e.default.FRAG_LOADED, {
                            payload: r,
                            frag: this.frag,
                            stats: t
                        });
                    }
                }, {
                    key: "loaderror",
                    value: function(r) {
                        this.loader.abort(), this.hls.trigger(e.default.ERROR, {
                            type: t.ErrorTypes.NETWORK_ERROR,
                            details: t.ErrorDetails.FRAG_LOAD_ERROR,
                            fatal: !1,
                            frag: this.frag,
                            response: r
                        });
                    }
                }, {
                    key: "loadtimeout",
                    value: function() {
                        this.loader.abort(), this.hls.trigger(e.default.ERROR, {
                            type: t.ErrorTypes.NETWORK_ERROR,
                            details: t.ErrorDetails.FRAG_LOAD_TIMEOUT,
                            fatal: !1,
                            frag: this.frag
                        });
                    }
                }, {
                    key: "loadprogress",
                    value: function(r, t) {
                        this.frag.loaded = t.loaded, this.hls.trigger(e.default.FRAG_LOAD_PROGRESS, {
                            frag: this.frag,
                            stats: t
                        });
                    }
                } ]), r;
            }(i.default);
            n.default = o;
        }, {
            "../errors": 19,
            "../event-handler": 20,
            "../events": 21
        } ],
        26: [ function(r, c, n) {
            "use strict";
            function a(e) {
                return e && e.__esModule ? e : {
                    "default": e
                };
            }
            function u(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            function f(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e;
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
            }
            var h = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var l = r("../events"), e = a(l), d = r("../event-handler"), i = a(d), t = r("../errors"), o = function(n) {
                function r(n) {
                    u(this, r);
                    var t = f(this, Object.getPrototypeOf(r).call(this, n, e.default.KEY_LOADING));
                    return t.decryptkey = null, t.decrypturl = null, t;
                }
                return s(r, n), h(r, [ {
                    key: "destroy",
                    value: function() {
                        this.loader && (this.loader.destroy(), this.loader = null), i.default.prototype.destroy.call(this);
                    }
                }, {
                    key: "onKeyLoading",
                    value: function(i) {
                        var t = this.frag = i.frag, a = t.decryptdata, n = a.uri;
                        if (n !== this.decrypturl || null === this.decryptkey) {
                            var r = this.hls.config;
                            t.loader = this.loader = new r.loader(r), this.decrypturl = n, this.decryptkey = null, 
                            t.loader.load(n, "arraybuffer", this.loadsuccess.bind(this), this.loaderror.bind(this), this.loadtimeout.bind(this), r.fragLoadingTimeOut, r.fragLoadingMaxRetry, r.fragLoadingRetryDelay, this.loadprogress.bind(this), t);
                        } else this.decryptkey && (a.key = this.decryptkey, this.hls.trigger(e.default.KEY_LOADED, {
                            frag: t
                        }));
                    }
                }, {
                    key: "loadsuccess",
                    value: function(r) {
                        var t = this.frag;
                        this.decryptkey = t.decryptdata.key = new Uint8Array(r.currentTarget.response), 
                        t.loader = void 0, this.hls.trigger(e.default.KEY_LOADED, {
                            frag: t
                        });
                    }
                }, {
                    key: "loaderror",
                    value: function(r) {
                        this.loader.abort(), this.hls.trigger(e.default.ERROR, {
                            type: t.ErrorTypes.NETWORK_ERROR,
                            details: t.ErrorDetails.KEY_LOAD_ERROR,
                            fatal: !1,
                            frag: this.frag,
                            response: r
                        });
                    }
                }, {
                    key: "loadtimeout",
                    value: function() {
                        this.loader.abort(), this.hls.trigger(e.default.ERROR, {
                            type: t.ErrorTypes.NETWORK_ERROR,
                            details: t.ErrorDetails.KEY_LOAD_TIMEOUT,
                            fatal: !1,
                            frag: this.frag
                        });
                    }
                }, {
                    key: "loadprogress",
                    value: function() {}
                } ]), r;
            }(i.default);
            n.default = o;
        }, {
            "../errors": 19,
            "../event-handler": 20,
            "../events": 21
        } ],
        27: [ function(r, y, s) {
            "use strict";
            function n(e) {
                return e && e.__esModule ? e : {
                    "default": e
                };
            }
            function d(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            function f(t, e) {
                if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e;
            }
            function h(t, e) {
                if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e);
            }
            var o = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(s, "__esModule", {
                value: !0
            });
            var l = r("../events"), t = n(l), p = r("../event-handler"), i = n(p), e = r("../errors"), c = r("../utils/url"), g = n(c), v = r("../utils/attr-list"), a = n(v), u = function(n) {
                function r(e) {
                    return d(this, r), f(this, Object.getPrototypeOf(r).call(this, e, t.default.MANIFEST_LOADING, t.default.LEVEL_LOADING));
                }
                return h(r, n), o(r, [ {
                    key: "destroy",
                    value: function() {
                        this.loader && (this.loader.destroy(), this.loader = null), this.url = this.id = null, 
                        i.default.prototype.destroy.call(this);
                    }
                }, {
                    key: "onManifestLoading",
                    value: function(e) {
                        this.load(e.url, null);
                    }
                }, {
                    key: "onLevelLoading",
                    value: function(e) {
                        this.load(e.url, e.level, e.id);
                    }
                }, {
                    key: "load",
                    value: function(a, i, s) {
                        var t, r, n, e = this.hls.config;
                        this.url = a, this.id = i, this.id2 = s, void 0 === this.id ? (t = e.manifestLoadingMaxRetry, 
                        r = e.manifestLoadingTimeOut, n = e.manifestLoadingRetryDelay) : (t = e.levelLoadingMaxRetry, 
                        r = e.levelLoadingTimeOut, n = e.levelLoadingRetryDelay), this.loader = "undefined" != typeof e.pLoader ? new e.pLoader(e) : new e.loader(e), 
                        this.loader.load(a, "", this.loadsuccess.bind(this), this.loaderror.bind(this), this.loadtimeout.bind(this), r, t, n);
                    }
                }, {
                    key: "resolve",
                    value: function(e, t) {
                        return g.default.buildAbsoluteURL(t, e);
                    }
                }, {
                    key: "parseMasterPlaylist",
                    value: function(f, u) {
                        for (var l = [], n = void 0, d = /#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g; null != (n = d.exec(f)); ) {
                            var e = {}, r = e.attrs = new a.default(n[1]);
                            e.url = this.resolve(n[2], u);
                            var s = r.decimalResolution("RESOLUTION");
                            s && (e.width = s.width, e.height = s.height), e.bitrate = r.decimalInteger("BANDWIDTH"), 
                            e.name = r.NAME;
                            var t = r.CODECS;
                            if (t) {
                                t = t.split(",");
                                for (var o = 0; o < t.length; o++) {
                                    var i = t[o];
                                    -1 !== i.indexOf("avc1") ? e.videoCodec = this.avc1toavcoti(i) : e.audioCodec = i;
                                }
                            }
                            l.push(e);
                        }
                        return l;
                    }
                }, {
                    key: "avc1toavcoti",
                    value: function(r) {
                        var e, t = r.split(".");
                        return t.length > 2 ? (e = t.shift() + ".", e += parseInt(t.shift()).toString(16), 
                        e += ("000" + parseInt(t.shift()).toString(16)).substr(-4)) : e = r, e;
                    }
                }, {
                    key: "cloneObj",
                    value: function(e) {
                        return JSON.parse(JSON.stringify(e));
                    }
                }, {
                    key: "parseLevelPlaylist",
                    value: function(k, l, A) {
                        var e, E, s, i, v = 0, o = 0, n = {
                            url: l,
                            fragments: [],
                            live: !0,
                            startSN: 0
                        }, r = {
                            method: null,
                            key: null,
                            iv: null,
                            uri: null
                        }, b = 0, f = null, t = null;
                        for (E = /(?:#EXT-X-(MEDIA-SEQUENCE):(\d+))|(?:#EXT-X-(TARGETDURATION):(\d+))|(?:#EXT-X-(KEY):(.*))|(?:#EXT(INF):([\d\.]+)[^\r\n]*([\r\n]+[^#|\r\n]+)?)|(?:#EXT-X-(BYTERANGE):([\d]+[@[\d]*)]*[\r\n]+([^#|\r\n]+)?|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(PROGRAM-DATE-TIME):(.*))/g; null !== (e = E.exec(k)); ) switch (e.shift(), 
                        e = e.filter(function(e) {
                            return void 0 !== e;
                        }), e[0]) {
                          case "MEDIA-SEQUENCE":
                            v = n.startSN = parseInt(e[1]);
                            break;

                          case "TARGETDURATION":
                            n.targetduration = parseFloat(e[1]);
                            break;

                          case "ENDLIST":
                            n.live = !1;
                            break;

                          case "DIS":
                            b++;
                            break;

                          case "BYTERANGE":
                            var c = e[1].split("@");
                            i = 1 === c.length ? s : parseInt(c[1]), s = parseInt(c[0]) + i, t && !t.url && (t.byteRangeStartOffset = i, 
                            t.byteRangeEndOffset = s, t.url = this.resolve(e[2], l));
                            break;

                          case "INF":
                            var g = parseFloat(e[1]);
                            if (!isNaN(g)) {
                                var u, m = v++;
                                if (r.method && r.uri && !r.iv) {
                                    u = this.cloneObj(r);
                                    for (var y = new Uint8Array(16), d = 12; 16 > d; d++) y[d] = m >> 8 * (15 - d) & 255;
                                    u.iv = y;
                                } else u = r;
                                var L = e[2] ? this.resolve(e[2], l) : null;
                                t = {
                                    url: L,
                                    duration: g,
                                    start: o,
                                    sn: m,
                                    level: A,
                                    cc: b,
                                    byteRangeStartOffset: i,
                                    byteRangeEndOffset: s,
                                    decryptdata: u,
                                    programDateTime: f
                                }, n.fragments.push(t), o += g, i = null, f = null;
                            }
                            break;

                          case "KEY":
                            var R = e[1], p = new a.default(R), h = p.enumeratedString("METHOD"), _ = p.URI, T = p.hexadecimalInteger("IV");
                            h && (r = {
                                method: null,
                                key: null,
                                iv: null,
                                uri: null
                            }, _ && "AES-128" === h && (r.method = h, r.uri = this.resolve(_, l), r.key = null, 
                            r.iv = T));
                            break;

                          case "PROGRAM-DATE-TIME":
                            f = new Date(Date.parse(e[1]));
                        }
                        return t && !t.url && (n.fragments.pop(), o -= t.duration), n.totalduration = o, 
                        n.endSN = v - 1, n;
                    }
                }, {
                    key: "loadsuccess",
                    value: function(u, n) {
                        var s, o = u.currentTarget, i = o.responseText, r = o.responseURL, l = this.id, d = this.id2, a = this.hls;
                        if (void 0 === r && (r = this.url), n.tload = performance.now(), n.mtime = new Date(o.getResponseHeader("Last-Modified")), 
                        0 === i.indexOf("#EXTM3U")) if (i.indexOf("#EXTINF:") > 0) if (null === this.id) a.trigger(t.default.MANIFEST_LOADED, {
                            levels: [ {
                                url: r
                            } ],
                            url: r,
                            stats: n
                        }); else {
                            var f = this.parseLevelPlaylist(i, r, l);
                            n.tparsed = performance.now(), a.trigger(t.default.LEVEL_LOADED, {
                                details: f,
                                level: l,
                                id: d,
                                stats: n
                            });
                        } else s = this.parseMasterPlaylist(i, r), s.length ? a.trigger(t.default.MANIFEST_LOADED, {
                            levels: s,
                            url: r,
                            stats: n
                        }) : a.trigger(t.default.ERROR, {
                            type: e.ErrorTypes.NETWORK_ERROR,
                            details: e.ErrorDetails.MANIFEST_PARSING_ERROR,
                            fatal: !0,
                            url: r,
                            reason: "no level found in manifest"
                        }); else a.trigger(t.default.ERROR, {
                            type: e.ErrorTypes.NETWORK_ERROR,
                            details: e.ErrorDetails.MANIFEST_PARSING_ERROR,
                            fatal: !0,
                            url: r,
                            reason: "no EXTM3U delimiter"
                        });
                    }
                }, {
                    key: "loaderror",
                    value: function(a) {
                        var r, n;
                        null === this.id ? (r = e.ErrorDetails.MANIFEST_LOAD_ERROR, n = !0) : (r = e.ErrorDetails.LEVEL_LOAD_ERROR, 
                        n = !1), this.loader.abort(), this.hls.trigger(t.default.ERROR, {
                            type: e.ErrorTypes.NETWORK_ERROR,
                            details: r,
                            fatal: n,
                            url: this.url,
                            loader: this.loader,
                            response: a.currentTarget,
                            level: this.id,
                            id: this.id2
                        });
                    }
                }, {
                    key: "loadtimeout",
                    value: function() {
                        var r, n;
                        null === this.id ? (r = e.ErrorDetails.MANIFEST_LOAD_TIMEOUT, n = !0) : (r = e.ErrorDetails.LEVEL_LOAD_TIMEOUT, 
                        n = !1), this.loader.abort(), this.hls.trigger(t.default.ERROR, {
                            type: e.ErrorTypes.NETWORK_ERROR,
                            details: r,
                            fatal: n,
                            url: this.url,
                            loader: this.loader,
                            level: this.id,
                            id: this.id2
                        });
                    }
                } ]), r;
            }(i.default);
            s.default = u;
        }, {
            "../errors": 19,
            "../event-handler": 20,
            "../events": 21,
            "../utils/attr-list": 31,
            "../utils/url": 35
        } ],
        28: [ function(a, i, e) {
            "use strict";
            function t(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            var r = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var n = function() {
                function e() {
                    t(this, e);
                }
                return r(e, null, [ {
                    key: "init",
                    value: function() {
                        e.types = {
                            avc1: [],
                            avcC: [],
                            btrt: [],
                            dinf: [],
                            dref: [],
                            esds: [],
                            ftyp: [],
                            hdlr: [],
                            mdat: [],
                            mdhd: [],
                            mdia: [],
                            mfhd: [],
                            minf: [],
                            moof: [],
                            moov: [],
                            mp4a: [],
                            mvex: [],
                            mvhd: [],
                            sdtp: [],
                            stbl: [],
                            stco: [],
                            stsc: [],
                            stsd: [],
                            stsz: [],
                            stts: [],
                            tfdt: [],
                            tfhd: [],
                            traf: [],
                            trak: [],
                            trun: [],
                            trex: [],
                            tkhd: [],
                            vmhd: [],
                            smhd: []
                        };
                        var t;
                        for (t in e.types) e.types.hasOwnProperty(t) && (e.types[t] = [ t.charCodeAt(0), t.charCodeAt(1), t.charCodeAt(2), t.charCodeAt(3) ]);
                        var n = new Uint8Array([ 0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0 ]), a = new Uint8Array([ 0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0 ]);
                        e.HDLR_TYPES = {
                            video: n,
                            audio: a
                        };
                        var i = new Uint8Array([ 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1 ]), s = new Uint8Array([ 0, 0, 0, 0, 0, 0, 0, 0 ]);
                        e.STTS = e.STSC = e.STCO = s, e.STSZ = new Uint8Array([ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]), 
                        e.VMHD = new Uint8Array([ 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0 ]), e.SMHD = new Uint8Array([ 0, 0, 0, 0, 0, 0, 0, 0 ]), 
                        e.STSD = new Uint8Array([ 0, 0, 0, 0, 0, 0, 0, 1 ]);
                        var r = new Uint8Array([ 105, 115, 111, 109 ]), o = new Uint8Array([ 97, 118, 99, 49 ]), l = new Uint8Array([ 0, 0, 0, 1 ]);
                        e.FTYP = e.box(e.types.ftyp, r, l, r, o), e.DINF = e.box(e.types.dinf, e.box(e.types.dref, i));
                    }
                }, {
                    key: "box",
                    value: function(a) {
                        for (var t, n = Array.prototype.slice.call(arguments, 1), e = 8, r = n.length, i = r; r--; ) e += n[r].byteLength;
                        for (t = new Uint8Array(e), t[0] = e >> 24 & 255, t[1] = e >> 16 & 255, t[2] = e >> 8 & 255, 
                        t[3] = 255 & e, t.set(a, 4), r = 0, e = 8; i > r; r++) t.set(n[r], e), e += n[r].byteLength;
                        return t;
                    }
                }, {
                    key: "hdlr",
                    value: function(t) {
                        return e.box(e.types.hdlr, e.HDLR_TYPES[t]);
                    }
                }, {
                    key: "mdat",
                    value: function(t) {
                        return e.box(e.types.mdat, t);
                    }
                }, {
                    key: "mdhd",
                    value: function(t, r) {
                        return e.box(e.types.mdhd, new Uint8Array([ 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 3, t >> 24 & 255, t >> 16 & 255, t >> 8 & 255, 255 & t, r >> 24, r >> 16 & 255, r >> 8 & 255, 255 & r, 85, 196, 0, 0 ]));
                    }
                }, {
                    key: "mdia",
                    value: function(t) {
                        return e.box(e.types.mdia, e.mdhd(t.timescale, t.duration), e.hdlr(t.type), e.minf(t));
                    }
                }, {
                    key: "mfhd",
                    value: function(t) {
                        return e.box(e.types.mfhd, new Uint8Array([ 0, 0, 0, 0, t >> 24, t >> 16 & 255, t >> 8 & 255, 255 & t ]));
                    }
                }, {
                    key: "minf",
                    value: function(t) {
                        return "audio" === t.type ? e.box(e.types.minf, e.box(e.types.smhd, e.SMHD), e.DINF, e.stbl(t)) : e.box(e.types.minf, e.box(e.types.vmhd, e.VMHD), e.DINF, e.stbl(t));
                    }
                }, {
                    key: "moof",
                    value: function(t, r, n) {
                        return e.box(e.types.moof, e.mfhd(t), e.traf(n, r));
                    }
                }, {
                    key: "moov",
                    value: function(t) {
                        for (var r = t.length, n = []; r--; ) n[r] = e.trak(t[r]);
                        return e.box.apply(null, [ e.types.moov, e.mvhd(t[0].timescale, t[0].duration) ].concat(n).concat(e.mvex(t)));
                    }
                }, {
                    key: "mvex",
                    value: function(r) {
                        for (var t = r.length, n = []; t--; ) n[t] = e.trex(r[t]);
                        return e.box.apply(null, [ e.types.mvex ].concat(n));
                    }
                }, {
                    key: "mvhd",
                    value: function(t, r) {
                        var n = new Uint8Array([ 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, t >> 24 & 255, t >> 16 & 255, t >> 8 & 255, 255 & t, r >> 24 & 255, r >> 16 & 255, r >> 8 & 255, 255 & r, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255 ]);
                        return e.box(e.types.mvhd, n);
                    }
                }, {
                    key: "sdtp",
                    value: function(i) {
                        var r, t, n = i.samples || [], a = new Uint8Array(4 + n.length);
                        for (t = 0; t < n.length; t++) r = n[t].flags, a[t + 4] = r.dependsOn << 4 | r.isDependedOn << 2 | r.hasRedundancy;
                        return e.box(e.types.sdtp, a);
                    }
                }, {
                    key: "stbl",
                    value: function(t) {
                        return e.box(e.types.stbl, e.stsd(t), e.box(e.types.stts, e.STTS), e.box(e.types.stsc, e.STSC), e.box(e.types.stsz, e.STSZ), e.box(e.types.stco, e.STCO));
                    }
                }, {
                    key: "avc1",
                    value: function(t) {
                        var r, a, i, n = [], s = [];
                        for (r = 0; r < t.sps.length; r++) a = t.sps[r], i = a.byteLength, n.push(i >>> 8 & 255), 
                        n.push(255 & i), n = n.concat(Array.prototype.slice.call(a));
                        for (r = 0; r < t.pps.length; r++) a = t.pps[r], i = a.byteLength, s.push(i >>> 8 & 255), 
                        s.push(255 & i), s = s.concat(Array.prototype.slice.call(a));
                        var u = e.box(e.types.avcC, new Uint8Array([ 1, n[3], n[4], n[5], 255, 224 | t.sps.length ].concat(n).concat([ t.pps.length ]).concat(s))), o = t.width, l = t.height;
                        return e.box(e.types.avc1, new Uint8Array([ 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, o >> 8 & 255, 255 & o, l >> 8 & 255, 255 & l, 0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 1, 18, 100, 97, 105, 108, 121, 109, 111, 116, 105, 111, 110, 47, 104, 108, 115, 46, 106, 115, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 17, 17 ]), u, e.box(e.types.btrt, new Uint8Array([ 0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192 ])));
                    }
                }, {
                    key: "esds",
                    value: function(t) {
                        var e = t.config.length;
                        return new Uint8Array([ 0, 0, 0, 0, 3, 23 + e, 0, 1, 0, 4, 15 + e, 64, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5 ].concat([ e ]).concat(t.config).concat([ 6, 1, 2 ]));
                    }
                }, {
                    key: "mp4a",
                    value: function(t) {
                        var r = t.audiosamplerate;
                        return e.box(e.types.mp4a, new Uint8Array([ 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, t.channelCount, 0, 16, 0, 0, 0, 0, r >> 8 & 255, 255 & r, 0, 0 ]), e.box(e.types.esds, e.esds(t)));
                    }
                }, {
                    key: "stsd",
                    value: function(t) {
                        return "audio" === t.type ? e.box(e.types.stsd, e.STSD, e.mp4a(t)) : e.box(e.types.stsd, e.STSD, e.avc1(t));
                    }
                }, {
                    key: "tkhd",
                    value: function(t) {
                        var r = t.id, n = t.duration, a = t.width, i = t.height;
                        return e.box(e.types.tkhd, new Uint8Array([ 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0, r >> 24 & 255, r >> 16 & 255, r >> 8 & 255, 255 & r, 0, 0, 0, 0, n >> 24, n >> 16 & 255, n >> 8 & 255, 255 & n, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, a >> 8 & 255, 255 & a, 0, 0, i >> 8 & 255, 255 & i, 0, 0 ]));
                    }
                }, {
                    key: "traf",
                    value: function(n, t) {
                        var a = e.sdtp(n), r = n.id;
                        return e.box(e.types.traf, e.box(e.types.tfhd, new Uint8Array([ 0, 0, 0, 0, r >> 24, r >> 16 & 255, r >> 8 & 255, 255 & r ])), e.box(e.types.tfdt, new Uint8Array([ 0, 0, 0, 0, t >> 24, t >> 16 & 255, t >> 8 & 255, 255 & t ])), e.trun(n, a.length + 16 + 16 + 8 + 16 + 8 + 8), a);
                    }
                }, {
                    key: "trak",
                    value: function(t) {
                        return t.duration = t.duration || 4294967295, e.box(e.types.trak, e.tkhd(t), e.mdia(t));
                    }
                }, {
                    key: "trex",
                    value: function(r) {
                        var t = r.id;
                        return e.box(e.types.trex, new Uint8Array([ 0, 0, 0, 0, t >> 24, t >> 16 & 255, t >> 8 & 255, 255 & t, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1 ]));
                    }
                }, {
                    key: "trun",
                    value: function(h, o) {
                        var n, a, i, s, t, l, d = h.samples || [], r = d.length, f = 12 + 16 * r, u = new Uint8Array(f);
                        for (o += 8 + f, u.set([ 0, 0, 15, 1, r >>> 24 & 255, r >>> 16 & 255, r >>> 8 & 255, 255 & r, o >>> 24 & 255, o >>> 16 & 255, o >>> 8 & 255, 255 & o ], 0), 
                        n = 0; r > n; n++) a = d[n], i = a.duration, s = a.size, t = a.flags, l = a.cts, 
                        u.set([ i >>> 24 & 255, i >>> 16 & 255, i >>> 8 & 255, 255 & i, s >>> 24 & 255, s >>> 16 & 255, s >>> 8 & 255, 255 & s, t.isLeading << 2 | t.dependsOn, t.isDependedOn << 6 | t.hasRedundancy << 4 | t.paddingValue << 1 | t.isNonSync, 61440 & t.degradPrio, 15 & t.degradPrio, l >>> 24 & 255, l >>> 16 & 255, l >>> 8 & 255, 255 & l ], 12 + 16 * n);
                        return e.box(e.types.trun, u);
                    }
                }, {
                    key: "initSegment",
                    value: function(n) {
                        e.types || e.init();
                        var t, r = e.moov(n);
                        return t = new Uint8Array(e.FTYP.byteLength + r.byteLength), t.set(e.FTYP), t.set(r, e.FTYP.byteLength), 
                        t;
                    }
                } ]), e;
            }();
            e.default = n;
        }, {} ],
        29: [ function(n, h, a) {
            "use strict";
            function i(e) {
                return e && e.__esModule ? e : {
                    "default": e
                };
            }
            function o(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            var l = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(a, "__esModule", {
                value: !0
            });
            var f = n("../events"), e = i(f), t = n("../utils/logger"), u = n("../remux/mp4-generator"), r = i(u), s = n("../errors"), d = function() {
                function n(e) {
                    o(this, n), this.observer = e, this.ISGenerated = !1, this.PES2MP4SCALEFACTOR = 4, 
                    this.PES_TIMESCALE = 9e4, this.MP4_TIMESCALE = this.PES_TIMESCALE / this.PES2MP4SCALEFACTOR;
                }
                return l(n, [ {
                    key: "destroy",
                    value: function() {}
                }, {
                    key: "insertDiscontinuity",
                    value: function() {
                        this._initPTS = this._initDTS = this.nextAacPts = this.nextAvcDts = void 0;
                    }
                }, {
                    key: "switchLevel",
                    value: function() {
                        this.ISGenerated = !1;
                    }
                }, {
                    key: "remux",
                    value: function(r, n, a, i, t, s) {
                        this.ISGenerated || this.generateIS(r, n, t), n.samples.length && this.remuxVideo(n, t, s), 
                        r.samples.length && this.remuxAudio(r, t, s), a.samples.length && this.remuxID3(a, t), 
                        i.samples.length && this.remuxText(i, t), this.observer.trigger(e.default.FRAG_PARSED);
                    }
                }, {
                    key: "generateIS",
                    value: function(n, t, f) {
                        var a, i, h = this.observer, c = n.samples, u = t.samples, d = this.PES_TIMESCALE, o = {}, g = {
                            tracks: o,
                            unique: !1
                        }, l = void 0 === this._initPTS;
                        l && (a = i = 1 / 0), n.config && c.length && (o.audio = {
                            container: "audio/mp4",
                            codec: n.codec,
                            initSegment: r.default.initSegment([ n ]),
                            metadata: {
                                channelCount: n.channelCount
                            }
                        }, l && (a = i = c[0].pts - d * f)), t.sps && t.pps && u.length && (o.video = {
                            container: "video/mp4",
                            codec: t.codec,
                            initSegment: r.default.initSegment([ t ]),
                            metadata: {
                                width: t.width,
                                height: t.height
                            }
                        }, l && (a = Math.min(a, u[0].pts - d * f), i = Math.min(i, u[0].dts - d * f))), 
                        Object.keys(o) ? (h.trigger(e.default.FRAG_PARSING_INIT_SEGMENT, g), this.ISGenerated = !0, 
                        l && (this._initPTS = a, this._initDTS = i)) : h.trigger(e.default.ERROR, {
                            type: s.ErrorTypes.MEDIA_ERROR,
                            details: s.ErrorDetails.FRAG_PARSING_ERROR,
                            fatal: !1,
                            reason: "no audio/video samples found"
                        });
                    }
                }, {
                    key: "remuxVideo",
                    value: function(a, w, S) {
                        var k, l, v, A, g, d, T, L, R, h, _, c, o, n, s, p = 8, b = this.PES_TIMESCALE, f = this.PES2MP4SCALEFACTOR, u = [];
                        for (d = new Uint8Array(a.len + 4 * a.nbNalu + 8), k = new DataView(d.buffer), k.setUint32(0, d.byteLength), 
                        d.set(r.default.types.mdat, 4); a.samples.length; ) {
                            for (l = a.samples.shift(), A = 0; l.units.units.length; ) g = l.units.units.shift(), 
                            k.setUint32(p, g.data.byteLength), p += 4, d.set(g.data, p), p += g.data.byteLength, 
                            A += 4 + g.data.byteLength;
                            if (_ = l.pts - this._initDTS, c = l.dts - this._initDTS, c = Math.min(_, c), void 0 !== h) {
                                o = this._PTSNormalize(_, h), n = this._PTSNormalize(c, h);
                                var y = (n - h) / f;
                                0 >= y && (t.logger.log("invalid sample duration at PTS/DTS: " + l.pts + "/" + l.dts + ":" + y), 
                                y = 1), v.duration = y;
                            } else {
                                var i, m = this.nextAvcDts;
                                o = this._PTSNormalize(_, m), n = this._PTSNormalize(c, m), i = Math.round((n - m) / 90), 
                                (S || Math.abs(i) < 600) && i && (i > 1 ? t.logger.log("AVC:" + i + " ms hole between fragments detected,filling it") : -1 > i && t.logger.log("AVC:" + -i + " ms overlapping between fragments detected"), 
                                n = m, o = Math.max(o - i, n), t.logger.log("Video/PTS/DTS adjusted: " + o + "/" + n + ",delta:" + i)), 
                                L = Math.max(0, o), R = Math.max(0, n);
                            }
                            v = {
                                size: A,
                                duration: 0,
                                cts: (o - n) / f,
                                flags: {
                                    isLeading: 0,
                                    isDependedOn: 0,
                                    hasRedundancy: 0,
                                    degradPrio: 0
                                }
                            }, s = v.flags, l.key === !0 ? (s.dependsOn = 2, s.isNonSync = 0) : (s.dependsOn = 1, 
                            s.isNonSync = 1), u.push(v), h = n;
                        }
                        var E = 0;
                        u.length >= 2 && (E = u[u.length - 2].duration, v.duration = E), this.nextAvcDts = n + E * f, 
                        a.len = 0, a.nbNalu = 0, u.length && navigator.userAgent.toLowerCase().indexOf("chrome") > -1 && (s = u[0].flags, 
                        s.dependsOn = 2, s.isNonSync = 0), a.samples = u, T = r.default.moof(a.sequenceNumber++, R / f, a), 
                        a.samples = [], this.observer.trigger(e.default.FRAG_PARSING_DATA, {
                            data1: T,
                            data2: d,
                            startPTS: L / b,
                            endPTS: (o + f * E) / b,
                            startDTS: R / b,
                            endDTS: this.nextAvcDts / b,
                            type: "video",
                            nb: u.length
                        });
                    }
                }, {
                    key: "remuxAudio",
                    value: function(n, w, S) {
                        var L, y, i, f, o, k, A, b, l, v, _, d, a, R = 8, u = this.PES_TIMESCALE, T = n.timescale, h = u / T, m = [], E = [];
                        for (n.samples.sort(function(e, t) {
                            return e.pts - t.pts;
                        }), E = n.samples; E.length; ) {
                            if (y = E.shift(), f = y.unit, v = y.pts - this._initDTS, _ = y.dts - this._initDTS, 
                            void 0 !== l) d = this._PTSNormalize(v, l), a = this._PTSNormalize(_, l), i.duration = (a - l) / h, 
                            Math.abs(i.duration - 1024) > 10 && t.logger.log("invalid AAC sample duration at PTS " + Math.round(v / 90) + ",should be 1024,found :" + Math.round(i.duration)), 
                            i.duration = 1024, a = 1024 * h + l; else {
                                var s, p = this.nextAacPts;
                                if (d = this._PTSNormalize(v, p), a = this._PTSNormalize(_, p), s = Math.round(1e3 * (d - p) / u), 
                                (S || Math.abs(s) < 600) && s) {
                                    if (s > 0) t.logger.log(s + " ms hole between AAC samples detected,filling it"); else if (-12 > s) {
                                        t.logger.log(-s + " ms overlapping between AAC samples detected, drop frame"), n.len -= f.byteLength;
                                        continue;
                                    }
                                    d = a = p;
                                }
                                if (A = Math.max(0, d), b = Math.max(0, a), !(n.len > 0)) return;
                                o = new Uint8Array(n.len + 8), L = new DataView(o.buffer), L.setUint32(0, o.byteLength), 
                                o.set(r.default.types.mdat, 4);
                            }
                            o.set(f, R), R += f.byteLength, i = {
                                size: f.byteLength,
                                cts: 0,
                                duration: 0,
                                flags: {
                                    isLeading: 0,
                                    isDependedOn: 0,
                                    hasRedundancy: 0,
                                    degradPrio: 0,
                                    dependsOn: 1
                                }
                            }, m.push(i), l = a;
                        }
                        var g = 0, c = m.length;
                        c >= 2 && (g = m[c - 2].duration, i.duration = g), c && (this.nextAacPts = d + h * g, 
                        n.len = 0, n.samples = m, k = r.default.moof(n.sequenceNumber++, b / h, n), n.samples = [], 
                        this.observer.trigger(e.default.FRAG_PARSING_DATA, {
                            data1: k,
                            data2: o,
                            startPTS: A / u,
                            endPTS: this.nextAacPts / u,
                            startDTS: b / u,
                            endDTS: (a + h * g) / u,
                            type: "audio",
                            nb: c
                        }));
                    }
                }, {
                    key: "remuxID3",
                    value: function(r, a) {
                        var t, i = r.samples.length;
                        if (i) {
                            for (var n = 0; i > n; n++) t = r.samples[n], t.pts = (t.pts - this._initPTS) / this.PES_TIMESCALE, 
                            t.dts = (t.dts - this._initDTS) / this.PES_TIMESCALE;
                            this.observer.trigger(e.default.FRAG_PARSING_METADATA, {
                                samples: r.samples
                            });
                        }
                        r.samples = [], a = a;
                    }
                }, {
                    key: "remuxText",
                    value: function(t, a) {
                        t.samples.sort(function(e, t) {
                            return e.pts - t.pts;
                        });
                        var r, i = t.samples.length;
                        if (i) {
                            for (var n = 0; i > n; n++) r = t.samples[n], r.pts = (r.pts - this._initPTS) / this.PES_TIMESCALE;
                            this.observer.trigger(e.default.FRAG_PARSING_USERDATA, {
                                samples: t.samples
                            });
                        }
                        t.samples = [], a = a;
                    }
                }, {
                    key: "_PTSNormalize",
                    value: function(e, t) {
                        var r;
                        if (void 0 === t) return e;
                        for (r = e > t ? -8589934592 : 8589934592; Math.abs(e - t) > 4294967296; ) e += r;
                        return e;
                    }
                }, {
                    key: "passthrough",
                    get: function() {
                        return !1;
                    }
                }, {
                    key: "timescale",
                    get: function() {
                        return this.MP4_TIMESCALE;
                    }
                } ]), n;
            }();
            a.default = d;
        }, {
            "../errors": 19,
            "../events": 21,
            "../remux/mp4-generator": 28,
            "../utils/logger": 34
        } ],
        30: [ function(r, l, e) {
            "use strict";
            function n(e) {
                return e && e.__esModule ? e : {
                    "default": e
                };
            }
            function a(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            var i = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var s = r("../events"), t = n(s), o = function() {
                function e(t) {
                    a(this, e), this.observer = t, this.ISGenerated = !1;
                }
                return i(e, [ {
                    key: "destroy",
                    value: function() {}
                }, {
                    key: "insertDiscontinuity",
                    value: function() {}
                }, {
                    key: "switchLevel",
                    value: function() {
                        this.ISGenerated = !1;
                    }
                }, {
                    key: "remux",
                    value: function(o, s, f, d, a, u) {
                        var i = this.observer;
                        if (!this.ISGenerated) {
                            var l = {}, n = {
                                tracks: l,
                                unique: !0
                            }, e = s, r = e.codec;
                            r && (n.tracks.video = {
                                container: e.container,
                                codec: r,
                                metadata: {
                                    width: e.width,
                                    height: e.height
                                }
                            }), e = o, r = e.codec, r && (n.tracks.audio = {
                                container: e.container,
                                codec: r,
                                metadata: {
                                    channelCount: e.channelCount
                                }
                            }), this.ISGenerated = !0, i.trigger(t.default.FRAG_PARSING_INIT_SEGMENT, n);
                        }
                        i.trigger(t.default.FRAG_PARSING_DATA, {
                            data1: u,
                            startPTS: a,
                            startDTS: a,
                            type: "audiovideo",
                            nb: 1
                        });
                    }
                }, {
                    key: "passthrough",
                    get: function() {
                        return !0;
                    }
                }, {
                    key: "timescale",
                    get: function() {
                        return 0;
                    }
                } ]), e;
            }();
            e.default = o;
        }, {
            "../events": 21
        } ],
        31: [ function(a, i, e) {
            "use strict";
            function t(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            var r = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var n = function() {
                function e(r) {
                    t(this, e), "string" == typeof r && (r = e.parseAttrList(r));
                    for (var n in r) r.hasOwnProperty(n) && (this[n] = r[n]);
                }
                return r(e, [ {
                    key: "decimalInteger",
                    value: function(t) {
                        var e = parseInt(this[t], 10);
                        return e > Number.MAX_SAFE_INTEGER ? 1 / 0 : e;
                    }
                }, {
                    key: "hexadecimalInteger",
                    value: function(r) {
                        if (this[r]) {
                            var e = (this[r] || "0x").slice(2);
                            e = (1 & e.length ? "0" : "") + e;
                            for (var n = new Uint8Array(e.length / 2), t = 0; t < e.length / 2; t++) n[t] = parseInt(e.slice(2 * t, 2 * t + 2), 16);
                            return n;
                        }
                        return null;
                    }
                }, {
                    key: "hexadecimalIntegerAsNumber",
                    value: function(t) {
                        var e = parseInt(this[t], 16);
                        return e > Number.MAX_SAFE_INTEGER ? 1 / 0 : e;
                    }
                }, {
                    key: "decimalFloatingPoint",
                    value: function(e) {
                        return parseFloat(this[e]);
                    }
                }, {
                    key: "enumeratedString",
                    value: function(e) {
                        return this[e];
                    }
                }, {
                    key: "decimalResolution",
                    value: function(t) {
                        var e = /^(\d+)x(\d+)$/.exec(this[t]);
                        if (null !== e) return {
                            width: parseInt(e[1], 10),
                            height: parseInt(e[2], 10)
                        };
                    }
                } ], [ {
                    key: "parseAttrList",
                    value: function(a) {
                        for (var t, i = /\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g, r = {}; null !== (t = i.exec(a)); ) {
                            var e = t[2], n = '"';
                            0 === e.indexOf(n) && e.lastIndexOf(n) === e.length - 1 && (e = e.slice(1, -1)), 
                            r[t[1]] = e;
                        }
                        return r;
                    }
                } ]), e;
            }();
            e.default = n;
        }, {} ],
        32: [ function(r, e, n) {
            "use strict";
            var t = {
                search: function(a, s) {
                    for (var t = 0, r = a.length - 1, e = null, n = null; r >= t; ) {
                        e = (t + r) / 2 | 0, n = a[e];
                        var i = s(n);
                        if (i > 0) t = e + 1; else {
                            if (!(0 > i)) return n;
                            r = e - 1;
                        }
                    }
                    return null;
                }
            };
            e.exports = t;
        }, {} ],
        33: [ function(a, i, e) {
            "use strict";
            function t(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            var r = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(e, "__esModule", {
                value: !0
            });
            var n = function() {
                function e() {
                    t(this, e);
                }
                return r(e, [ {
                    key: "attach",
                    value: function(e) {
                        this.media = e, this.display = [], this.memory = [];
                    }
                }, {
                    key: "detach",
                    value: function() {
                        this.clear();
                    }
                }, {
                    key: "destroy",
                    value: function() {}
                }, {
                    key: "_createCue",
                    value: function() {
                        var t = window.VTTCue || window.TextTrackCue, e = this.cue = new t(-1, -1, "");
                        e.text = "", e.pauseOnExit = !1, e.startTime = Number.MAX_VALUE, e.endTime = Number.MAX_VALUE, 
                        this.memory.push(e);
                    }
                }, {
                    key: "clear",
                    value: function() {
                        var e = this._textTrack;
                        if (e && e.cues) for (;e.cues.length > 0; ) e.removeCue(e.cues[0]);
                    }
                }, {
                    key: "push",
                    value: function(r, n) {
                        this.cue || this._createCue();
                        for (var a, t, e, s, o, u = 31 & n[0], i = 2, l = 0; u > l; l++) if (a = n[i++], 
                        t = 127 & n[i++], e = 127 & n[i++], s = 0 === (4 & a) ? !1 : !0, o = 3 & a, (0 !== t || 0 !== e) && s && 0 === o) {
                            if (32 & t || 64 & t) this.cue.text += this._fromCharCode(t) + this._fromCharCode(e); else if ((17 === t || 25 === t) && e >= 48 && 63 >= e) switch (e) {
                              case 48:
                                this.cue.text += "®";
                                break;

                              case 49:
                                this.cue.text += "°";
                                break;

                              case 50:
                                this.cue.text += "½";
                                break;

                              case 51:
                                this.cue.text += "¿";
                                break;

                              case 52:
                                this.cue.text += "™";
                                break;

                              case 53:
                                this.cue.text += "¢";
                                break;

                              case 54:
                                this.cue.text += "";
                                break;

                              case 55:
                                this.cue.text += "£";
                                break;

                              case 56:
                                this.cue.text += "♪";
                                break;

                              case 57:
                                this.cue.text += " ";
                                break;

                              case 58:
                                this.cue.text += "è";
                                break;

                              case 59:
                                this.cue.text += "â";
                                break;

                              case 60:
                                this.cue.text += "ê";
                                break;

                              case 61:
                                this.cue.text += "î";
                                break;

                              case 62:
                                this.cue.text += "ô";
                                break;

                              case 63:
                                this.cue.text += "û";
                            }
                            if ((17 === t || 25 === t) && e >= 32 && 47 >= e) switch (e) {
                              case 32:
                                break;

                              case 33:
                                break;

                              case 34:
                                break;

                              case 35:
                                break;

                              case 36:
                                break;

                              case 37:
                                break;

                              case 38:
                                break;

                              case 39:
                                break;

                              case 40:
                                break;

                              case 41:
                                break;

                              case 42:
                                break;

                              case 43:
                                break;

                              case 44:
                                break;

                              case 45:
                                break;

                              case 46:
                                break;

                              case 47:                            }
                            if ((20 === t || 28 === t) && e >= 32 && 47 >= e) switch (e) {
                              case 32:
                                this._clearActiveCues(r);
                                break;

                              case 33:
                                this.cue.text = this.cue.text.substr(0, this.cue.text.length - 1);
                                break;

                              case 34:
                                break;

                              case 35:
                                break;

                              case 36:
                                break;

                              case 37:
                                break;

                              case 38:
                                break;

                              case 39:
                                break;

                              case 40:
                                break;

                              case 41:
                                this._clearActiveCues(r);
                                break;

                              case 42:
                                break;

                              case 43:
                                break;

                              case 44:
                                this._clearActiveCues(r);
                                break;

                              case 45:
                                break;

                              case 46:
                                this._text = "";
                                break;

                              case 47:
                                this._flipMemory(r);
                            }
                            if ((23 === t || 31 === t) && e >= 33 && 35 >= e) switch (e) {
                              case 33:
                                break;

                              case 34:
                                break;

                              case 35:                            }
                        }
                    }
                }, {
                    key: "_fromCharCode",
                    value: function(e) {
                        switch (e) {
                          case 42:
                            return "á";

                          case 2:
                            return "á";

                          case 2:
                            return "é";

                          case 4:
                            return "í";

                          case 5:
                            return "ó";

                          case 6:
                            return "ú";

                          case 3:
                            return "ç";

                          case 4:
                            return "÷";

                          case 5:
                            return "Ñ";

                          case 6:
                            return "ñ";

                          case 7:
                            return "█";

                          default:
                            return String.fromCharCode(e);
                        }
                    }
                }, {
                    key: "_flipMemory",
                    value: function(e) {
                        this._clearActiveCues(e), this._flushCaptions(e);
                    }
                }, {
                    key: "_flushCaptions",
                    value: function(s) {
                        this._has708 || (this._textTrack = this.media.addTextTrack("captions", "English", "en"), 
                        this._has708 = !0);
                        var e = !0, n = !1, a = void 0;
                        try {
                            for (var i, t = this.memory[Symbol.iterator](); !(e = (i = t.next()).done); e = !0) {
                                var r = i.value;
                                r.startTime = s, this._textTrack.addCue(r), this.display.push(r);
                            }
                        } catch (e) {
                            n = !0, a = e;
                        } finally {
                            try {
                                !e && t.return && t.return();
                            } finally {
                                if (n) throw a;
                            }
                        }
                        this.memory = [], this.cue = null;
                    }
                }, {
                    key: "_clearActiveCues",
                    value: function(i) {
                        var e = !0, r = !1, n = void 0;
                        try {
                            for (var a, t = this.display[Symbol.iterator](); !(e = (a = t.next()).done); e = !0) {
                                var s = a.value;
                                s.endTime = i;
                            }
                        } catch (e) {
                            r = !0, n = e;
                        } finally {
                            try {
                                !e && t.return && t.return();
                            } finally {
                                if (r) throw n;
                            }
                        }
                        this.display = [];
                    }
                }, {
                    key: "_clearBufferedCues",
                    value: function() {}
                } ]), e;
            }();
            e.default = n;
        }, {} ],
        34: [ function(l, u, r) {
            "use strict";
            function e() {}
            function a(t, e) {
                return e = "[" + t + "] > " + e;
            }
            function i(t) {
                var r = window.console[t];
                return r ? function() {
                    for (var i = arguments.length, e = Array(i), n = 0; i > n; n++) e[n] = arguments[n];
                    e[0] && (e[0] = a(t, e[0])), r.apply(window.console, e);
                } : e;
            }
            function s(r) {
                for (var n = arguments.length, a = Array(n > 1 ? n - 1 : 0), e = 1; n > e; e++) a[e - 1] = arguments[e];
                a.forEach(function(e) {
                    t[e] = r[e] ? r[e].bind(r) : i(e);
                });
            }
            var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e;
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol ? "symbol" : typeof e;
            };
            Object.defineProperty(r, "__esModule", {
                value: !0
            });
            var n = {
                trace: e,
                debug: e,
                log: e,
                warn: e,
                info: e,
                error: e
            }, t = n;
            r.enableLogs = function(e) {
                if (e === !0 || "object" === ("undefined" == typeof e ? "undefined" : o(e))) {
                    s(e, "debug", "log", "info", "warn", "error");
                    try {
                        t.log();
                    } catch (e) {
                        t = n;
                    }
                } else t = n;
            }, r.logger = t;
        }, {} ],
        35: [ function(r, t, n) {
            "use strict";
            var e = {
                buildAbsoluteURL: function(r, t) {
                    if (t = t.trim(), /^[a-z]+:/i.test(t)) return t;
                    var o = null, a = null, i = /^([^#]*)(.*)$/.exec(t);
                    i && (a = i[2], t = i[1]);
                    var s = /^([^\?]*)(.*)$/.exec(t);
                    s && (o = s[2], t = s[1]);
                    var f = /^([^#]*)(.*)$/.exec(r);
                    f && (r = f[1]);
                    var u = /^([^\?]*)(.*)$/.exec(r);
                    u && (r = u[1]);
                    var l = /^((([a-z]+):)?\/\/[a-z0-9\.-]+(:[0-9]+)?\/)(.*)$/i.exec(r), h = l[3], d = l[1], c = l[5], n = null;
                    return n = /^\/\//.test(t) ? h + "://" + e.buildAbsolutePath("", t.substring(2)) : /^\//.test(t) ? d + e.buildAbsolutePath("", t.substring(1)) : e.buildAbsolutePath(d + c, t), 
                    o && (n += o), a && (n += a), n;
                },
                buildAbsolutePath: function(i, s) {
                    for (var n, e, o = s, a = "", t = i.replace(/[^\/]*$/, o.replace(/(\/|^)(?:\.?\/+)+/g, "$1")), r = 0; e = t.indexOf("/../", r), 
                    e > -1; r = e + n) n = /^\/(?:\.\.\/)*/.exec(t.slice(e))[0].length, a = (a + t.substring(r, e)).replace(new RegExp("(?:\\/+[^\\/]*){0," + (n - 1) / 3 + "}$"), "/");
                    return a + t.substr(r);
                }
            };
            t.exports = e;
        }, {} ],
        36: [ function(r, s, t) {
            "use strict";
            function n(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            var a = function() {
                function e(n, r) {
                    for (var t = 0; t < r.length; t++) {
                        var e = r[t];
                        e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), 
                        Object.defineProperty(n, e.key, e);
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t;
                };
            }();
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var e = r("../utils/logger"), i = function() {
                function t(e) {
                    n(this, t), e && e.xhrSetup && (this.xhrSetup = e.xhrSetup);
                }
                return a(t, [ {
                    key: "destroy",
                    value: function() {
                        this.abort(), this.loader = null;
                    }
                }, {
                    key: "abort",
                    value: function() {
                        var e = this.loader, t = this.timeoutHandle;
                        e && 4 !== e.readyState && (this.stats.aborted = !0, e.abort()), t && window.clearTimeout(t);
                    }
                }, {
                    key: "load",
                    value: function(t, r, n, a, i, s, o, l) {
                        var u = arguments.length <= 8 || void 0 === arguments[8] ? null : arguments[8], e = arguments.length <= 9 || void 0 === arguments[9] ? null : arguments[9];
                        this.url = t, !e || isNaN(e.byteRangeStartOffset) || isNaN(e.byteRangeEndOffset) || (this.byteRange = e.byteRangeStartOffset + "-" + (e.byteRangeEndOffset - 1)), 
                        this.responseType = r, this.onSuccess = n, this.onProgress = u, this.onTimeout = i, 
                        this.onError = a, this.stats = {
                            trequest: performance.now(),
                            retry: 0
                        }, this.timeout = s, this.maxRetry = o, this.retryDelay = l, this.loadInternal();
                    }
                }, {
                    key: "loadInternal",
                    value: function() {
                        var e;
                        e = "undefined" != typeof XDomainRequest ? this.loader = new XDomainRequest() : this.loader = new XMLHttpRequest(), 
                        e.onloadend = this.loadend.bind(this), e.onprogress = this.loadprogress.bind(this), 
                        e.open("GET", this.url, !0), this.byteRange && e.setRequestHeader("Range", "bytes=" + this.byteRange), 
                        e.responseType = this.responseType, this.stats.tfirst = null, this.stats.loaded = 0, 
                        this.xhrSetup && this.xhrSetup(e, this.url), this.timeoutHandle = window.setTimeout(this.loadtimeout.bind(this), this.timeout), 
                        e.send();
                    }
                }, {
                    key: "loadend",
                    value: function(n) {
                        var a = n.currentTarget, r = a.status, t = this.stats;
                        t.aborted || (r >= 200 && 300 > r ? (window.clearTimeout(this.timeoutHandle), t.tload = performance.now(), 
                        this.onSuccess(n, t)) : t.retry < this.maxRetry ? (e.logger.warn(r + " while loading " + this.url + ", retrying in " + this.retryDelay + "..."), 
                        this.destroy(), window.setTimeout(this.loadInternal.bind(this), this.retryDelay), 
                        this.retryDelay = Math.min(2 * this.retryDelay, 64e3), t.retry++) : (window.clearTimeout(this.timeoutHandle), 
                        e.logger.error(r + " while loading " + this.url), this.onError(n)));
                    }
                }, {
                    key: "loadtimeout",
                    value: function(t) {
                        e.logger.warn("timeout while loading " + this.url), this.onTimeout(t, this.stats);
                    }
                }, {
                    key: "loadprogress",
                    value: function(t) {
                        var e = this.stats;
                        null === e.tfirst && (e.tfirst = performance.now()), e.loaded = t.loaded, this.onProgress && this.onProgress(t, e);
                    }
                } ]), t;
            }();
            t.default = i;
        }, {
            "../utils/logger": 34
        } ]
    }, {}, [ 24 ])(24);
});

!function(e) {
    function t(e, t, n, r) {
        for (var i, a = n.slice(), l = o(t, e), s = 0, u = a.length; u > s && (handler = a[s], 
        "object" == typeof handler && "function" == typeof handler.handleEvent ? handler.handleEvent(l) : handler.call(e, l), 
        !l.stoppedImmediatePropagation); s++) ;
        return i = !l.stoppedPropagation, r && i && e.parentNode ? e.parentNode.dispatchEvent(l) : !l.defaultPrevented;
    }
    function n(e, t) {
        return {
            configurable: !0,
            get: e,
            set: t
        };
    }
    function r(e, t, r) {
        var o = y(t || e, r);
        g(e, "textContent", n(function() {
            return o.get.call(this);
        }, function(e) {
            o.set.call(this, e);
        }));
    }
    function o(e, t) {
        return e.currentTarget = t, e.eventPhase = e.target === e.currentTarget ? 2 : 3, 
        e;
    }
    function i(e, t) {
        for (var n = e.length; n-- && e[n] !== t; ) ;
        return n;
    }
    function a() {
        if ("BR" === this.tagName) return "\n";
        for (var e = this.firstChild, t = []; e; ) 8 !== e.nodeType && 7 !== e.nodeType && t.push(e.textContent), 
        e = e.nextSibling;
        return t.join("");
    }
    function l(e) {
        !f && k.test(document.readyState) && (f = !f, document.detachEvent(d, l), e = document.createEvent("Event"), 
        e.initEvent(p, !0, !0), document.dispatchEvent(e));
    }
    function s(e) {
        for (var t; t = this.lastChild; ) this.removeChild(t);
        null != e && this.appendChild(document.createTextNode(e));
    }
    function u(t, n) {
        return n || (n = e.event), n.target || (n.target = n.srcElement || n.fromElement || document), 
        n.timeStamp || (n.timeStamp = new Date().getTime()), n;
    }
    if (!document.createEvent) {
        var c = !0, f = !1, d = "onreadystatechange", p = "DOMContentLoaded", m = "__IE8__" + Math.random(), v = e.Object, g = v.defineProperty || function(e, t, n) {
            e[t] = n.value;
        }, h = v.defineProperties || function(t, n) {
            for (var r in n) if (b.call(n, r)) try {
                g(t, r, n[r]);
            } catch (o) {
                e.console && console.log(r + " failed on object:", t, o.message);
            }
        }, y = v.getOwnPropertyDescriptor, b = v.prototype.hasOwnProperty, w = e.Element.prototype, x = e.Text.prototype, E = /^[a-z]+$/, k = /loaded|complete/, T = {}, S = document.createElement("div");
        r(e.HTMLCommentElement.prototype, w, "nodeValue"), r(e.HTMLScriptElement.prototype, null, "text"), 
        r(x, null, "nodeValue"), r(e.HTMLTitleElement.prototype, null, "text"), g(e.HTMLStyleElement.prototype, "textContent", function(e) {
            return n(function() {
                return e.get.call(this.styleSheet);
            }, function(t) {
                e.set.call(this.styleSheet, t);
            });
        }(y(e.CSSStyleSheet.prototype, "cssText"))), h(w, {
            textContent: {
                get: a,
                set: s
            },
            firstElementChild: {
                get: function() {
                    for (var e = this.childNodes || [], t = 0, n = e.length; n > t; t++) if (1 == e[t].nodeType) return e[t];
                }
            },
            lastElementChild: {
                get: function() {
                    for (var e = this.childNodes || [], t = e.length; t--; ) if (1 == e[t].nodeType) return e[t];
                }
            },
            previousElementSibling: {
                get: function() {
                    for (var e = this.previousSibling; e && 1 != e.nodeType; ) e = e.previousSibling;
                    return e;
                }
            },
            nextElementSibling: {
                get: function() {
                    for (var e = this.nextSibling; e && 1 != e.nodeType; ) e = e.nextSibling;
                    return e;
                }
            },
            childElementCount: {
                get: function() {
                    for (var e = 0, t = this.childNodes || [], n = t.length; n--; e += 1 == t[n].nodeType) ;
                    return e;
                }
            },
            addEventListener: {
                value: function(e, n, r) {
                    var o, a = this, l = "on" + e, s = a[m] || g(a, m, {
                        value: {}
                    })[m], c = s[l] || (s[l] = {}), f = c.h || (c.h = []);
                    if (!b.call(c, "w")) {
                        if (c.w = function(e) {
                            return e[m] || t(a, u(a, e), f, !1);
                        }, !b.call(T, l)) if (E.test(e)) try {
                            o = document.createEventObject(), o[m] = !0, 9 != a.nodeType && null == a.parentNode && S.appendChild(a), 
                            a.fireEvent(l, o), T[l] = !0;
                        } catch (o) {
                            for (T[l] = !1; S.hasChildNodes(); ) S.removeChild(S.firstChild);
                        } else T[l] = !1;
                        (c.n = T[l]) && a.attachEvent(l, c.w);
                    }
                    i(f, n) < 0 && f[r ? "unshift" : "push"](n);
                }
            },
            dispatchEvent: {
                value: function(e) {
                    var n, r = this, o = "on" + e.type, i = r[m], a = i && i[o], l = !!a;
                    return e.target || (e.target = r), l ? a.n ? r.fireEvent(o, e) : t(r, e, a.h, !0) : (n = r.parentNode) ? n.dispatchEvent(e) : !0, 
                    !e.defaultPrevented;
                }
            },
            removeEventListener: {
                value: function(e, t, n) {
                    var r = this, o = "on" + e, a = r[m], l = a && a[o], s = l && l.h, u = s ? i(s, t) : -1;
                    u > -1 && s.splice(u, 1);
                }
            }
        }), h(x, {
            addEventListener: {
                value: w.addEventListener
            },
            dispatchEvent: {
                value: w.dispatchEvent
            },
            removeEventListener: {
                value: w.removeEventListener
            }
        }), h(e.XMLHttpRequest.prototype, {
            addEventListener: {
                value: function(e, t, n) {
                    var r = this, o = "on" + e, a = r[m] || g(r, m, {
                        value: {}
                    })[m], l = a[o] || (a[o] = {}), s = l.h || (l.h = []);
                    i(s, t) < 0 && (r[o] || (r[o] = function() {
                        var t = document.createEvent("Event");
                        t.initEvent(e, !0, !0), r.dispatchEvent(t);
                    }), s[n ? "unshift" : "push"](t));
                }
            },
            dispatchEvent: {
                value: function(e) {
                    var n = this, r = "on" + e.type, o = n[m], i = o && o[r], a = !!i;
                    return a && (i.n ? n.fireEvent(r, e) : t(n, e, i.h, !0));
                }
            },
            removeEventListener: {
                value: w.removeEventListener
            }
        }), h(e.Event.prototype, {
            bubbles: {
                value: !0,
                writable: !0
            },
            cancelable: {
                value: !0,
                writable: !0
            },
            preventDefault: {
                value: function() {
                    this.cancelable && (this.defaultPrevented = !0, this.returnValue = !1);
                }
            },
            stopPropagation: {
                value: function() {
                    this.stoppedPropagation = !0, this.cancelBubble = !0;
                }
            },
            stopImmediatePropagation: {
                value: function() {
                    this.stoppedImmediatePropagation = !0, this.stopPropagation();
                }
            },
            initEvent: {
                value: function(e, t, n) {
                    this.type = e, this.bubbles = !!t, this.cancelable = !!n, this.bubbles || this.stopPropagation();
                }
            }
        }), h(e.HTMLDocument.prototype, {
            textContent: {
                get: function() {
                    return 11 === this.nodeType ? a.call(this) : null;
                },
                set: function(e) {
                    11 === this.nodeType && s.call(this, e);
                }
            },
            addEventListener: {
                value: function(t, n, r) {
                    var o = this;
                    w.addEventListener.call(o, t, n, r), c && t === p && !k.test(o.readyState) && (c = !1, 
                    o.attachEvent(d, l), e == top && function i(e) {
                        try {
                            o.documentElement.doScroll("left"), l();
                        } catch (t) {
                            setTimeout(i, 50);
                        }
                    }());
                }
            },
            dispatchEvent: {
                value: w.dispatchEvent
            },
            removeEventListener: {
                value: w.removeEventListener
            },
            createEvent: {
                value: function(e) {
                    var t;
                    if ("Event" !== e) throw new Error("unsupported " + e);
                    return t = document.createEventObject(), t.timeStamp = new Date().getTime(), t;
                }
            }
        }), h(e.Window.prototype, {
            getComputedStyle: {
                value: function() {
                    function e(e) {
                        this._ = e;
                    }
                    function t() {}
                    var n = /^(?:[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/, r = /^(top|right|bottom|left)$/, o = /\-([a-z])/g, i = function(e, t) {
                        return t.toUpperCase();
                    };
                    return e.prototype.getPropertyValue = function(e) {
                        var t, a, l, s = this._, u = s.style, c = s.currentStyle, f = s.runtimeStyle;
                        return e = ("float" === e ? "style-float" : e).replace(o, i), t = c ? c[e] : u[e], 
                        n.test(t) && !r.test(e) && (a = u.left, l = f && f.left, l && (f.left = c.left), 
                        u.left = "fontSize" === e ? "1em" : t, t = u.pixelLeft + "px", u.left = a, l && (f.left = l)), 
                        null == t ? t : t + "" || "auto";
                    }, t.prototype.getPropertyValue = function() {
                        return null;
                    }, function(n, r) {
                        return r ? new t(n) : new e(n);
                    };
                }()
            },
            addEventListener: {
                value: function(n, r, o) {
                    var a, l = e, s = "on" + n;
                    l[s] || (l[s] = function(e) {
                        return t(l, u(l, e), a, !1);
                    }), a = l[s][m] || (l[s][m] = []), i(a, r) < 0 && a[o ? "unshift" : "push"](r);
                }
            },
            dispatchEvent: {
                value: function(t) {
                    var n = e["on" + t.type];
                    return n ? n.call(e, t) !== !1 && !t.defaultPrevented : !0;
                }
            },
            removeEventListener: {
                value: function(t, n, r) {
                    var o = "on" + t, a = (e[o] || v)[m], l = a ? i(a, n) : -1;
                    l > -1 && a.splice(l, 1);
                }
            }
        });
    }
}(this), !function(e) {
    if ("object" == typeof exports && "undefined" != typeof module) module.exports = e(); else if ("function" == typeof define && define.amd) define([], e); else {
        var t;
        "undefined" != typeof window ? t = window : "undefined" != typeof global ? t = global : "undefined" != typeof self && (t = self), 
        t.flowplayer = e();
    }
}(function() {
    var e;
    return function t(e, n, r) {
        function o(a, l) {
            if (!n[a]) {
                if (!e[a]) {
                    var s = "function" == typeof require && require;
                    if (!l && s) return s(a, !0);
                    if (i) return i(a, !0);
                    var u = new Error("Cannot find module '" + a + "'");
                    throw u.code = "MODULE_NOT_FOUND", u;
                }
                var c = n[a] = {
                    exports: {}
                };
                e[a][0].call(c.exports, function(t) {
                    var n = e[a][1][t];
                    return o(n ? n : t);
                }, c, c.exports, t, e, n, r);
            }
            return n[a].exports;
        }
        for (var i = "function" == typeof require && require, a = 0; a < r.length; a++) o(r[a]);
        return o;
    }({
        1: [ function(e, t, n) {
            "use strict";
            var r = t.exports = {}, o = e("class-list"), i = window.jQuery, a = e("punycode"), l = e("computed-style");
            r.noop = function() {}, r.identity = function(e) {
                return e;
            }, r.removeNode = function(e) {
                e && e.parentNode && e.parentNode.removeChild(e);
            }, r.find = function(e, t) {
                return i ? i(e, t).toArray() : (t = t || document, Array.prototype.map.call(t.querySelectorAll(e), function(e) {
                    return e;
                }));
            }, r.text = function(e, t) {
                e["innerText" in e ? "innerText" : "textContent"] = t;
            }, r.findDirect = function(e, t) {
                return r.find(e, t).filter(function(e) {
                    return e.parentNode === t;
                });
            }, r.hasClass = function(e, t) {
                return o(e).contains(t);
            }, r.isSameDomain = function(e) {
                var t = window.location, n = r.createElement("a", {
                    href: e
                });
                return t.hostname === n.hostname && t.protocol === n.protocol && t.port === n.port;
            }, r.css = function(e, t, n) {
                return "object" == typeof t ? Object.keys(t).forEach(function(n) {
                    r.css(e, n, t[n]);
                }) : "undefined" != typeof n ? "" === n ? e ? e.style.removeProperty(t) : void 0 : e ? e.style.setProperty(t, n) : void 0 : e ? l(e, t) : void 0;
            }, r.createElement = function(e, t, n) {
                try {
                    var o = document.createElement(e);
                    for (var a in t) t.hasOwnProperty(a) && ("css" === a ? r.css(o, t[a]) : r.attr(o, a, t[a]));
                    return o.innerHTML = n || "", o;
                } catch (l) {
                    if (!i) throw l;
                    return i("<" + e + ">" + n + "</" + e + ">").attr(t)[0];
                }
            }, r.toggleClass = function(e, t, n) {
                if (e) {
                    var r = o(e);
                    "undefined" == typeof n ? r.toggle(t) : n ? r.add(t) : n || r.remove(t);
                }
            }, r.addClass = function(e, t) {
                return r.toggleClass(e, t, !0);
            }, r.removeClass = function(e, t) {
                return r.toggleClass(e, t, !1);
            }, r.append = function(e, t) {
                return e.appendChild(t), e;
            }, r.appendTo = function(e, t) {
                return r.append(t, e), e;
            }, r.prepend = function(e, t) {
                e.insertBefore(t, e.firstChild);
            }, r.insertAfter = function(e, t, n) {
                t == r.lastChild(e) && e.appendChild(n);
                var o = Array.prototype.indexOf.call(e.children, t);
                e.insertBefore(n, e.children[o + 1]);
            }, r.html = function(e, t) {
                e = e.length ? e : [ e ], e.forEach(function(e) {
                    e.innerHTML = t;
                });
            }, r.attr = function(e, t, n) {
                if ("class" === t && (t = "className"), r.hasOwnOrPrototypeProperty(e, t)) try {
                    e[t] = n;
                } catch (o) {
                    if (!i) throw o;
                    i(e).attr(t, n);
                } else n === !1 ? e.removeAttribute(t) : e.setAttribute(t, n);
                return e;
            }, r.prop = function(e, t, n) {
                return "undefined" == typeof n ? e && e[t] : void (e[t] = n);
            }, r.offset = function(e) {
                var t = e.getBoundingClientRect();
                return e.offsetWidth / e.offsetHeight > e.clientWidth / e.clientHeight && (t = {
                    left: 100 * t.left,
                    right: 100 * t.right,
                    top: 100 * t.top,
                    bottom: 100 * t.bottom,
                    width: 100 * t.width,
                    height: 100 * t.height
                }), t;
            }, r.width = function(e, t) {
                if (t) return e.style.width = ("" + t).replace(/px$/, "") + "px";
                var n = r.offset(e).width;
                return "undefined" == typeof n ? e.offsetWidth : n;
            }, r.height = function(e, t) {
                if (t) return e.style.height = ("" + t).replace(/px$/, "") + "px";
                var n = r.offset(e).height;
                return "undefined" == typeof n ? e.offsetHeight : n;
            }, r.lastChild = function(e) {
                return e.children[e.children.length - 1];
            }, r.hasParent = function(e, t) {
                for (var n = e.parentElement; n; ) {
                    if (r.matches(n, t)) return !0;
                    n = n.parentElement;
                }
                return !1;
            }, r.createAbsoluteUrl = function(e) {
                return r.createElement("a", {
                    href: e
                }).href;
            }, r.xhrGet = function(e, t, n) {
                var r = new XMLHttpRequest();
                r.onreadystatechange = function() {
                    return 4 === this.readyState ? this.status >= 400 ? n() : void t(this.responseText) : void 0;
                }, r.open("get", e, !0), r.send();
            }, r.pick = function(e, t) {
                var n = {};
                return t.forEach(function(t) {
                    e.hasOwnProperty(t) && (n[t] = e[t]);
                }), n;
            }, r.hostname = function(e) {
                return a.toUnicode(e || window.location.hostname);
            }, r.browser = {
                webkit: "WebkitAppearance" in document.documentElement.style
            }, r.getPrototype = function(e) {
                return Object.getPrototypeOf ? Object.getPrototypeOf(e) : e.__proto__;
            }, r.hasOwnOrPrototypeProperty = function(e, t) {
                for (var n = e; n; ) {
                    if (Object.prototype.hasOwnProperty.call(n, t)) return !0;
                    n = r.getPrototype(n);
                }
                return !1;
            }, r.matches = function(e, t) {
                var n = Element.prototype, r = n.matches || n.matchesSelector || n.mozMatchesSelector || n.msMatchesSelector || n.oMatchesSelector || n.webkitMatchesSelector || function(e) {
                    for (var t = this, n = (t.document || t.ownerDocument).querySelectorAll(e), r = 0; n[r] && n[r] !== t; ) r++;
                    return n[r] ? !0 : !1;
                };
                return r.call(e, t);
            }, function(e) {
                function t(e) {
                    return e.replace(/-[a-z]/g, function(e) {
                        return e[1].toUpperCase();
                    });
                }
                "undefined" != typeof e.setAttribute && (e.setProperty = function(e, n) {
                    return this.setAttribute(t(e), String(n));
                }, e.getPropertyValue = function(e) {
                    return this.getAttribute(t(e)) || null;
                }, e.removeProperty = function(e) {
                    var n = this.getPropertyValue(e);
                    return this.removeAttribute(t(e)), n;
                });
            }(window.CSSStyleDeclaration.prototype);
        }, {
            "class-list": 22,
            "computed-style": 24,
            punycode: 21
        } ],
        2: [ function(e, t, n) {
            "use strict";
            var r = e("../common");
            t.exports = function(e, t, n, o) {
                n = n || "opaque";
                var i = "obj" + ("" + Math.random()).slice(2, 15), a = '<object class="fp-engine" id="' + i + '" name="' + i + '" ', l = navigator.userAgent.indexOf("MSIE") > -1;
                a += l ? 'classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">' : ' data="' + e + '" type="application/x-shockwave-flash">';
                var s = {
                    width: "100%",
                    height: "100%",
                    allowscriptaccess: "always",
                    wmode: n,
                    quality: "high",
                    flashvars: "",
                    movie: e + (l ? "?" + i : ""),
                    name: i
                };
                "transparent" !== n && (s.bgcolor = o || "#333333"), Object.keys(t).forEach(function(e) {
                    s.flashvars += e + "=" + t[e] + "&";
                }), Object.keys(s).forEach(function(e) {
                    a += '<param name="' + e + '" value="' + s[e] + '"/>';
                }), a += "</object>";
                var u = r.createElement("div", {}, a);
                return r.find("object", u);
            }, window.attachEvent && window.attachEvent("onbeforeunload", function() {
                window.__flash_savedUnloadHandler = window.__flash_unloadHandler = function() {};
            });
        }, {
            "../common": 1
        } ],
        3: [ function(e, t, n) {
            "use strict";
            function r(e) {
                return /^https?:/.test(e);
            }
            var o, i = e("../flowplayer"), a = e("../common"), l = e("./embed"), s = e("extend-object"), u = e("bean");
            o = function(e, t) {
                function n(e) {
                    function t(e) {
                        return ("0" + parseInt(e).toString(16)).slice(-2);
                    }
                    return (e = e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/)) ? "#" + t(e[1]) + t(e[2]) + t(e[3]) : void 0;
                }
                function c(e) {
                    if (7 === e.length) return e;
                    var t = e.split("").slice(1);
                    return "#" + t.map(function(e) {
                        return e + e;
                    }).join("");
                }
                function f(e) {
                    return /application\/x-mpegurl/i.test(e.type);
                }
                var d, p, m, v = e.conf, g = (e.video, window, {
                    engineName: o.engineName,
                    pick: function(t) {
                        var n = s({}, function() {
                            if (i.support.flashVideo) {
                                for (var n, r, o = 0; o < t.length; o++) if (r = t[o], /mp4|flv|flash/i.test(r.type) && (n = r), 
                                e.conf.swfHls && /mpegurl/i.test(r.type) && (n = r), n && !/mp4/i.test(n.type)) return n;
                                return n;
                            }
                        }());
                        if (n) return !n.src || r(n.src) || e.conf.rtmp || n.rtmp || (n.src = a.createAbsoluteUrl(n.src)), 
                        n;
                    },
                    load: function(o) {
                        function h(e) {
                            return e.replace(/&amp;/g, "%26").replace(/&/g, "%26").replace(/=/g, "%3D");
                        }
                        d = o;
                        var y = a.findDirect("video", t)[0] || a.find(".fp-player > video", t)[0], b = o.src, w = r(b), x = function() {
                            a.removeNode(y);
                        }, E = function(e) {
                            return e.some(function(e) {
                                return !!y.canPlayType(e.type);
                            });
                        };
                        i.support.video && a.prop(y, "autoplay") && E(o.sources) ? u.one(y, "timeupdate", x) : x();
                        var k = o.rtmp || v.rtmp;
                        if (w || k || (b = a.createAbsoluteUrl(b)), m && f(o) && m.data !== v.swfHls && g.unload(), 
                        m) {
                            [ "live", "preload", "loop" ].forEach(function(e) {
                                o.hasOwnProperty(e) && m.__set(e, o[e]);
                            }), Object.keys(o.flashls || {}).forEach(function(e) {
                                m.__set("hls_" + e, o.flashls[e]);
                            });
                            var T = !1;
                            if (!w && k) m.__set("rtmp", k.url || k); else {
                                var S = m.__get("rtmp");
                                T = !!S, m.__set("rtmp", null);
                            }
                            m.__play(b, T || o.rtmp && o.rtmp !== v.rtmp);
                        } else {
                            p = "fpCallback" + ("" + Math.random()).slice(3, 15), b = h(b);
                            var C = {
                                hostname: v.embedded ? a.hostname(v.hostname) : a.hostname(location.hostname),
                                url: b,
                                callback: p
                            };
                            t.getAttribute("data-origin") && (C.origin = t.getAttribute("data-origin")), [ "proxy", "key", "autoplay", "preload", "subscribe", "live", "loop", "debug", "splash", "poster", "rtmpt" ].forEach(function(e) {
                                v.hasOwnProperty(e) && (C[e] = v[e]), o.hasOwnProperty(e) && (C[e] = o[e]), (v.rtmp || {}).hasOwnProperty(e) && (C[e] = (v.rtmp || {})[e]), 
                                (o.rtmp || {}).hasOwnProperty(e) && (C[e] = (o.rtmp || {})[e]);
                            }), v.rtmp && (C.rtmp = v.rtmp.url || v.rtmp), o.rtmp && (C.rtmp = o.rtmp.url || o.rtmp), 
                            Object.keys(o.flashls || {}).forEach(function(e) {
                                var t = o.flashls[e];
                                C["hls_" + e] = t;
                            }), void 0 !== v.bufferTime && (C.bufferTime = v.bufferTime), w && delete C.rtmp, 
                            C.rtmp && (C.rtmp = h(C.rtmp));
                            var N, O = v.bgcolor || a.css(t, "background-color") || "";
                            0 === O.indexOf("rgb") ? N = n(O) : 0 === O.indexOf("#") && (N = c(O)), C.initialVolume = e.volumeLevel;
                            var j = f(o) ? v.swfHls : v.swf;
                            m = l(j, C, v.wmode, N)[0];
                            var P = a.find(".fp-player", t)[0];
                            a.prepend(P, m), setTimeout(function() {
                                try {
                                    if (!m.PercentLoaded()) return e.trigger("error", [ e, {
                                        code: 7,
                                        url: v.swf
                                    } ]);
                                } catch (t) {}
                            }, 5e3), setTimeout(function() {
                                "undefined" == typeof m.PercentLoaded && e.trigger("flashdisabled", [ e ]);
                            }, 1e3), e.off("resume.flashhack").on("resume.flashhack", function() {
                                var t = setTimeout(function() {
                                    e.playing && e.trigger("flashdisabled", [ e ]);
                                }, 1e3);
                                e.one("progress", function() {
                                    clearTimeout(t);
                                });
                            }), m.pollInterval = setInterval(function() {
                                if (m) {
                                    var t = m.__status ? m.__status() : null;
                                    t && (e.playing && t.time && t.time !== e.video.time && e.trigger("progress", [ e, t.time ]), 
                                    o.buffer = t.buffer / o.bytes * o.duration, e.trigger("buffer", [ e, o.buffer ]), 
                                    !o.buffered && t.time > 0 && (o.buffered = !0, e.trigger("buffered", [ e ])));
                                }
                            }, 250), window[p] = function(n, r) {
                                var o = d;
                                v.debug && (0 === n.indexOf("debug") && r && r.length ? console.log.apply(console, [ "-- " + n ].concat(r)) : console.log("--", n, r));
                                var i = {
                                    type: n
                                };
                                switch (n) {
                                  case "ready":
                                    r = s(o, r);
                                    break;

                                  case "click":
                                    i.flash = !0;
                                    break;

                                  case "keydown":
                                    i.which = r;
                                    break;

                                  case "seek":
                                    o.time = r;
                                    break;

                                  case "status":
                                    e.trigger("progress", [ e, r.time ]), r.buffer < o.bytes && !o.buffered ? (o.buffer = r.buffer / o.bytes * o.duration, 
                                    e.trigger("buffer", o.buffer)) : o.buffered || (o.buffered = !0, e.trigger("buffered"));
                                }
                                "click" === n || "keydown" === n ? (i.target = t, u.fire(t, n, [ i ])) : "buffered" != n && "unload" !== n ? setTimeout(function() {
                                    e.trigger(i, [ e, r ]);
                                }, 1) : "unload" === n && e.trigger(i, [ e, r ]);
                            };
                        }
                    },
                    speed: a.noop,
                    unload: function() {
                        m && m.__unload && m.__unload();
                        try {
                            p && window[p] && delete window[p];
                        } catch (n) {}
                        a.find("object", t).forEach(a.removeNode), m = 0, e.off(".flashengine"), clearInterval(m.pollInterval);
                    }
                });
                return [ "pause", "resume", "seek", "volume" ].forEach(function(t) {
                    g[t] = function(n) {
                        try {
                            e.ready && (void 0 === n ? m["__" + t]() : m["__" + t](n));
                        } catch (r) {
                            if ("undefined" == typeof m["__" + t]) return e.trigger("flashdisabled", [ e ]);
                            throw r;
                        }
                    };
                }), g;
            }, o.engineName = "flash", o.canPlay = function(e, t) {
                return i.support.flashVideo && /video\/(mp4|flash|flv)/i.test(e) || i.support.flashVideo && t.swfHls && /mpegurl/i.test(e);
            }, i.engines.push(o);
        }, {
            "../common": 1,
            "../flowplayer": 18,
            "./embed": 2,
            bean: 20,
            "extend-object": 26
        } ],
        4: [ function(e, t, n) {
            "use strict";
            function r(e, t) {
                return t = t || 100, Math.round(e * t) / t;
            }
            function o(e) {
                return /mpegurl/i.test(e) ? "application/x-mpegurl" : e;
            }
            function i(e) {
                return /^(video|application)/i.test(e) || (e = o(e)), !!m.canPlayType(e).replace("no", "");
            }
            function a(e, t) {
                var n = e.filter(function(e) {
                    return e.type === t;
                });
                return n.length ? n[0] : null;
            }
            var l, s, u = e("../flowplayer"), c = e("bean"), f = e("class-list"), d = e("extend-object"), p = e("../common"), m = document.createElement("video"), v = {
                ended: "finish",
                pause: "pause",
                play: "resume",
                progress: "buffer",
                timeupdate: "progress",
                volumechange: "volume",
                ratechange: "speed",
                seeked: "seek",
                loadeddata: "ready",
                error: "error",
                dataunavailable: "error",
                webkitendfullscreen: !u.support.inlineVideo && "unload"
            }, g = function(e, t, n, r) {
                if ("undefined" == typeof t && (t = !0), "undefined" == typeof n && (n = "none"), 
                "undefined" == typeof r && (r = !0), r && l) return l.type = o(e.type), l.src = e.src, 
                p.find("track", l).forEach(p.removeNode), l.removeAttribute("crossorigin"), l;
                var i = document.createElement("video");
                return i.src = e.src, i.type = o(e.type), i.className = "fp-engine", i.autoplay = t ? "autoplay" : !1, 
                i.preload = n, i.setAttribute("x-webkit-airplay", "allow"), r && (l = i), i;
            };
            s = function(e, t) {
                function n(n, o, a) {
                    var l = t.getAttribute("data-flowplayer-instance-id");
                    if (n.listeners && n.listeners.hasOwnProperty(l)) return void (n.listeners[l] = a);
                    (n.listeners || (n.listeners = {}))[l] = a, c.on(o, "error", function(t) {
                        try {
                            i(t.target.getAttribute("type")) && e.trigger("error", [ e, {
                                code: 4,
                                video: d(a, {
                                    src: n.src,
                                    url: n.src
                                })
                            } ]);
                        } catch (r) {}
                    }), e.on("shutdown", function() {
                        c.off(o);
                    });
                    var s = {};
                    return Object.keys(v).forEach(function(o) {
                        var i = v[o];
                        if (i) {
                            var u = function(s) {
                                if (a = n.listeners[l], s.target && f(s.target).contains("fp-engine") && (w.debug && !/progress/.test(i) && console.log(o, "->", i, s), 
                                (e.ready || /ready|error/.test(i)) && i && p.find("video", t).length)) {
                                    var u;
                                    if ("unload" === i) return void e.unload();
                                    var c = function() {
                                        e.trigger(i, [ e, u ]);
                                    };
                                    switch (i) {
                                      case "ready":
                                        u = d(a, {
                                            duration: n.duration,
                                            width: n.videoWidth,
                                            height: n.videoHeight,
                                            url: n.currentSrc,
                                            src: n.currentSrc
                                        });
                                        try {
                                            u.seekable = !e.live && /mpegurl/i.test(a ? a.type || "" : "") && n.duration || n.seekable && n.seekable.end(null);
                                        } catch (v) {}
                                        if (m = m || setInterval(function() {
                                            try {
                                                u.buffer = n.buffered.end(null);
                                            } catch (t) {}
                                            u.buffer && (r(u.buffer, 1e3) < r(u.duration, 1e3) && !u.buffered ? e.trigger("buffer", s) : u.buffered || (u.buffered = !0, 
                                            e.trigger("buffer", s).trigger("buffered", s), clearInterval(m), m = 0));
                                        }, 250), !e.live && !u.duration && !b.hlsDuration && "loadeddata" === o) {
                                            var g = function() {
                                                u.duration = n.duration;
                                                try {
                                                    u.seekable = n.seekable && n.seekable.end(null);
                                                } catch (e) {}
                                                c(), n.removeEventListener("durationchange", g), f(t).remove("is-live");
                                            };
                                            n.addEventListener("durationchange", g);
                                            var h = function() {
                                                e.ready || n.duration || (u.duration = 0, f(t).add("is-live"), c()), n.removeEventListener("timeupdate", h);
                                            };
                                            return void n.addEventListener("timeupdate", h);
                                        }
                                        break;

                                      case "progress":
                                      case "seek":
                                        e.video.duration;
                                        if (n.currentTime > 0 || e.live) u = Math.max(n.currentTime, 0); else if ("progress" == i) return;
                                        break;

                                      case "speed":
                                        u = r(n.playbackRate);
                                        break;

                                      case "volume":
                                        u = r(n.volume);
                                        break;

                                      case "error":
                                        try {
                                            u = (s.srcElement || s.originalTarget).error, u.video = d(a, {
                                                src: n.src,
                                                url: n.src
                                            });
                                        } catch (y) {
                                            return;
                                        }
                                    }
                                    c();
                                }
                            };
                            t.addEventListener(o, u, !0), s[o] || (s[o] = []), s[o].push(u);
                        }
                    }), s;
                }
                var o, m, h, y = p.findDirect("video", t)[0] || p.find(".fp-player > video", t)[0], b = u.support, w = (p.find("track", y)[0], 
                e.conf);
                return o = {
                    engineName: s.engineName,
                    pick: function(e) {
                        var t = function() {
                            if (b.video) {
                                if (w.videoTypePreference) {
                                    var t = a(e, w.videoTypePreference);
                                    if (t) return t;
                                }
                                for (var n = 0; n < e.length; n++) if (i(e[n].type)) return e[n];
                            }
                        }();
                        if (t) return "string" == typeof t.src && (t.src = p.createAbsoluteUrl(t.src)), 
                        t;
                    },
                    load: function(r) {
                        var i = !1, a = p.find(".fp-player", t)[0], l = !1;
                        w.splash && !y ? (y = g(r), p.prepend(a, y), i = !0) : y ? (f(y).add("fp-engine"), 
                        p.find("source,track", y).forEach(p.removeNode), e.conf.nativesubtitles || p.attr(y, "crossorigin", !1), 
                        l = y.src === r.src) : (y = g(r, !!r.autoplay || !!w.autoplay, w.clip.preload || "metadata", !1), 
                        p.prepend(a, y), i = !0), b.inlineVideo || p.css(y, {
                            position: "absolute",
                            top: "-9999em"
                        }), c.off(y, "timeupdate", p.noop), c.on(y, "timeupdate", p.noop), p.prop(y, "loop", !(!r.loop && !w.loop)), 
                        "undefined" != typeof h && (y.volume = h), (e.video.src && r.src != e.video.src || r.index) && p.attr(y, "autoplay", "autoplay"), 
                        y.src = r.src, y.type = r.type, o._listeners = n(y, p.find("source", y).concat(y), r), 
                        ("none" != w.clip.preload && "mpegurl" != r.type || !b.zeropreload || !b.dataload) && y.load(), 
                        (i || l) && y.load(), y.paused && (r.autoplay || w.autoplay) && y.play();
                    },
                    pause: function() {
                        y.pause();
                    },
                    resume: function() {
                        y.play();
                    },
                    speed: function(e) {
                        y.playbackRate = e;
                    },
                    seek: function(t) {
                        try {
                            var n = e.paused;
                            y.currentTime = t, n && y.pause();
                        } catch (r) {}
                    },
                    volume: function(e) {
                        h = e, y && (y.volume = e);
                    },
                    unload: function() {
                        p.find("video.fp-engine", t).forEach(p.removeNode), b.cachedVideoTag || (l = null), 
                        m = clearInterval(m);
                        var e = t.getAttribute("data-flowplayer-instance-id");
                        delete y.listeners[e], y = 0, o._listeners && Object.keys(o._listeners).forEach(function(e) {
                            o._listeners[e].forEach(function(n) {
                                t.removeEventListener(e, n, !0);
                            });
                        });
                    }
                };
            }, s.canPlay = function(e) {
                return u.support.video && i(e);
            }, s.engineName = "html5", u.engines.push(s);
        }, {
            "../common": 1,
            "../flowplayer": 18,
            bean: 20,
            "class-list": 22,
            "extend-object": 26
        } ],
        5: [ function(e, t, n) {
            "use strict";
            var r = e("../flowplayer"), o = e("./resolve").TYPE_RE, i = e("scriptjs"), a = e("bean");
            r(function(e, t) {
                var n, r = e.conf.analytics, l = 0, s = 0;
                if (r) {
                    "undefined" == typeof _gat && i("//google-analytics.com/ga.js");
                    var u = function() {
                        var e = _gat._getTracker(r);
                        return e._setAllowLinker(!0), e;
                    }, c = function(r, i, a) {
                        if (a = a || e.video, l && "undefined" != typeof _gat) {
                            var s = u();
                            s._trackEvent("Video / Seconds played", e.engine.engineName + "/" + a.type, a.title || t.getAttribute("title") || a.src.split("/").slice(-1)[0].replace(o, ""), Math.round(l / 1e3)), 
                            l = 0, n && (clearTimeout(n), n = null);
                        }
                    };
                    e.bind("load unload", c).bind("progress", function() {
                        e.seeking || (l += s ? +new Date() - s : 0, s = +new Date()), n || (n = setTimeout(function() {
                            n = null;
                            var e = u();
                            e._trackEvent("Flowplayer heartbeat", "Heartbeat", "", 0, !0);
                        }, 6e5));
                    }).bind("pause", function() {
                        s = 0;
                    }), e.bind("shutdown", function() {
                        a.off(window, "unload", c);
                    }), a.on(window, "unload", c);
                }
            });
        }, {
            "../flowplayer": 18,
            "./resolve": 13,
            bean: 20,
            scriptjs: 29
        } ],
        6: [ function(e, t, n) {
            "use strict";
            var r = e("../flowplayer"), o = e("class-list"), i = e("../common"), a = e("bean");
            r(function(e, t) {
                function n(e) {
                    t.className = t.className.replace(l, " "), e >= 0 && o(t).add("cue" + e);
                }
                function r(t) {
                    var n = t && !isNaN(t.time) ? t.time : t;
                    return 0 > n && (n = e.video.duration + n), .125 * Math.round(n / .125);
                }
                var l = / ?cue\d+ ?/, s = !1, u = {}, c = -.125, f = function(t) {
                    var r = e.cuepoints.indexOf(t);
                    isNaN(t) || (t = {
                        time: t
                    }), t.index = r, n(r), e.trigger("cuepoint", [ e, t ]);
                };
                e.on("progress", function(e, t, n) {
                    if (!s) for (var o = r(n); o > c; ) c += .125, u[c] && u[c].forEach(f);
                }).on("unload", n).on("beforeseek", function(e) {
                    setTimeout(function() {
                        e.defaultPrevented || (s = !0);
                    });
                }).on("seek", function(e, t, o) {
                    n(), c = r(o || 0) - .125, s = !1, !o && u[0] && u[0].forEach(f);
                }).on("ready", function(t, n, r) {
                    c = -.125;
                    var o = r.cuepoints || e.conf.cuepoints || [];
                    e.setCuepoints(o);
                }).on("finish", function() {
                    c = -.125;
                }), e.conf.generate_cuepoints && e.bind("load", function() {
                    i.find(".fp-cuepoint", t).forEach(i.removeNode);
                }), e.setCuepoints = function(t) {
                    return e.cuepoints = [], u = {}, t.forEach(e.addCuepoint), e;
                }, e.addCuepoint = function(n) {
                    e.cuepoints || (e.cuepoints = []);
                    var o = r(n);
                    if (u[o] || (u[o] = []), u[o].push(n), e.cuepoints.push(n), e.conf.generate_cuepoints && n.visible !== !1) {
                        var l = e.video.duration, s = i.find(".fp-timeline", t)[0];
                        i.css(s, "overflow", "visible");
                        var c = n.time || n;
                        0 > c && (c = l + n);
                        var f = i.createElement("a", {
                            className: "fp-cuepoint fp-cuepoint" + (e.cuepoints.length - 1)
                        });
                        i.css(f, "left", c / l * 100 + "%"), s.appendChild(f), a.on(f, "mousedown", function(t) {
                            t.preventDefault(), t.stopPropagation(), e.seek(c);
                        });
                    }
                    return e;
                }, e.removeCuepoint = function(t) {
                    var n = e.cuepoints.indexOf(t), o = r(t);
                    if (-1 !== n) {
                        e.cuepoints = e.cuepoints.slice(0, n).concat(e.cuepoints.slice(n + 1));
                        var i = u[o].indexOf(t);
                        if (-1 !== i) return u[o] = u[o].slice(0, i).concat(u[o].slice(i + 1)), e;
                    }
                };
            });
        }, {
            "../common": 1,
            "../flowplayer": 18,
            bean: 20,
            "class-list": 22
        } ],
        7: [ function(e, t, n) {
            "use strict";
            var r = e("../flowplayer"), o = e("bean"), i = e("../common"), a = (e("is-object"), 
            e("extend-object")), l = e("class-list");
            r(function(e, t) {
                if (e.conf.embed !== !1) {
                    var n = (e.conf, i.find(".fp-ui", t)[0]), r = i.createElement("a", {
                        "class": "fp-embed",
                        title: "Copy to your site"
                    }), l = i.createElement("div", {
                        "class": "fp-embed-code"
                    }, "<label>Paste this HTML code on your site to embed.</label><textarea></textarea>"), u = i.find("textarea", l)[0];
                    n.appendChild(r), n.appendChild(l), e.embedCode = function() {
                        var n = e.conf.embed || {}, r = e.video;
                        if (n.iframe) {
                            var o = (e.conf.embed.iframe, n.width || r.width || i.width(t)), l = n.height || r.height || i.height(t);
                            return '<iframe src="' + e.conf.embed.iframe + '" allowfullscreen style="width:' + o + ";height:" + l + ';border:none;"></iframe>';
                        }
                        var s = [ "ratio", "rtmp", "live", "bufferTime", "origin", "analytics", "key", "subscribe", "swf", "swfHls", "embed", "adaptiveRatio", "logo" ];
                        n.playlist && s.push("playlist");
                        var u = i.pick(e.conf, s);
                        u.logo && (u.logo = i.createElement("img", {
                            src: u.logo
                        }).src), n.playlist && e.conf.playlist.length || (u.clip = a({}, e.conf.clip, i.pick(e.video, [ "sources" ])));
                        var c = 'var w=window,d=document,e;w._fpes||(w._fpes=[],w.addEventListener("load",function(){var s=d.createElement("script");s.src="//embed.flowplayer.org/6.0.4/embed.min.js",d.body.appendChild(s)})),e=[].slice.call(d.getElementsByTagName("script"),-1)[0].parentNode,w._fpes.push({e:e,l:"$library",c:$conf});\n'.replace("$conf", JSON.stringify(u)).replace("$library", n.library || "");
                        return '<a href="$href">Watch video!\n<script>$script</script></a>'.replace("$href", e.conf.origin || window.location.href).replace("$script", c);
                    }, s(t, ".fp-embed", "is-embedding"), o.on(t, "click", ".fp-embed-code textarea", function() {
                        u.select();
                    }), o.on(t, "click", ".fp-embed", function() {
                        u.textContent = e.embedCode().replace(/(\r\n|\n|\r)/gm, ""), u.focus(), u.select();
                    });
                }
            });
            var s = function(e, t, n) {
                function r() {
                    a.remove(n), o.off(document, ".st");
                }
                var a = l(e);
                o.on(e, "click", t || "a", function(e) {
                    e.preventDefault(), a.toggle(n), a.contains(n) && (o.on(document, "keydown.st", function(e) {
                        27 == e.which && r();
                    }), o.on(document, "click.st", function(e) {
                        i.hasParent(e.target, "." + n) || r();
                    }));
                });
            };
        }, {
            "../common": 1,
            "../flowplayer": 18,
            bean: 20,
            "class-list": 22,
            "extend-object": 26,
            "is-object": 28
        } ],
        8: [ function(e, t, n) {
            "use strict";
            t.exports = function(e, t) {
                t || (t = document.createElement("div"));
                var n = {}, r = {}, o = function(e, o, i) {
                    var a = e.split(".")[0], l = function(s) {
                        i && (t.removeEventListener(a, l), n[e].splice(n[e].indexOf(l), 1));
                        var u = [ s ].concat(r[s.timeStamp + s.type] || []);
                        o && o.apply(void 0, u);
                    };
                    t.addEventListener(a, l), n[e] || (n[e] = []), n[e].push(l);
                };
                e.on = e.bind = function(t, n) {
                    var r = t.split(" ");
                    return r.forEach(function(e) {
                        o(e, n);
                    }), e;
                }, e.one = function(t, n) {
                    var r = t.split(" ");
                    return r.forEach(function(e) {
                        o(e, n, !0);
                    }), e;
                };
                var i = function(e, t) {
                    return 0 === t.filter(function(t) {
                        return -1 === e.indexOf(t);
                    }).length;
                };
                e.off = e.unbind = function(r) {
                    var o = r.split(" ");
                    return o.forEach(function(e) {
                        var r = e.split(".").slice(1), o = e.split(".")[0];
                        Object.keys(n).filter(function(e) {
                            var t = e.split(".").slice(1);
                            return (!o || 0 === e.indexOf(o)) && i(t, r);
                        }).forEach(function(e) {
                            var r = n[e], o = e.split(".")[0];
                            r.forEach(function(e) {
                                t.removeEventListener(o, e), r.splice(r.indexOf(e), 1);
                            });
                        });
                    }), e;
                }, e.trigger = function(n, o, i) {
                    if (n) {
                        o = (o || []).length ? o || [] : [ o ];
                        var a, l = document.createEvent("Event");
                        return a = n.type || n, l.initEvent(a, !1, !0), Object.defineProperty && (l.preventDefault = function() {
                            Object.defineProperty(this, "defaultPrevented", {
                                get: function() {
                                    return !0;
                                }
                            });
                        }), r[l.timeStamp + l.type] = o, t.dispatchEvent(l), i ? l : e;
                    }
                };
            }, t.exports.EVENTS = [ "beforeseek", "disable", "error", "finish", "fullscreen", "fullscreen-exit", "load", "mute", "pause", "progress", "ready", "resume", "seek", "speed", "stop", "unload", "volume", "boot", "shutdown" ];
        }, {} ],
        9: [ function(e, t, n) {
            "use strict";
            var r, o = e("../flowplayer"), i = e("bean"), a = e("class-list"), l = (e("extend-object"), 
            e("../common")), s = (o.support.browser.mozilla ? "moz" : "webkit", "fullscreen"), u = "fullscreen-exit", c = o.support.fullscreen, f = ("function" == typeof document.exitFullscreen, 
            navigator.userAgent.toLowerCase()), d = /(safari)[ \/]([\w.]+)/.exec(f) && !/(chrome)[ \/]([\w.]+)/.exec(f);
            i.on(document, "fullscreenchange.ffscr webkitfullscreenchange.ffscr mozfullscreenchange.ffscr MSFullscreenChange.ffscr", function(e) {
                var t = document.webkitCurrentFullScreenElement || document.mozFullScreenElement || document.fullscreenElement || document.msFullscreenElement || e.target;
                if (r || t.parentNode && t.parentNode.getAttribute("data-flowplayer-instance-id")) {
                    var n = r || o(t.parentNode);
                    t && !r ? r = n.trigger(s, [ t ]) : (r.trigger(u, [ r ]), r = null);
                }
            }), o(function(e, t) {
                var n = l.createElement("div", {
                    className: "fp-player"
                });
                if (Array.prototype.map.call(t.children, l.identity).forEach(function(e) {
                    l.matches(e, ".fp-ratio,script") || n.appendChild(e);
                }), t.appendChild(n), e.conf.fullscreen) {
                    var o, f, p = window, m = a(t);
                    e.isFullscreen = !1, e.fullscreen = function(t) {
                        return e.disabled ? void 0 : (void 0 === t && (t = !e.isFullscreen), t && (o = p.scrollY, 
                        f = p.scrollX), c ? t ? [ "requestFullScreen", "webkitRequestFullScreen", "mozRequestFullScreen", "msRequestFullscreen" ].forEach(function(e) {
                            return "function" == typeof n[e] ? (n[e](Element.ALLOW_KEYBOARD_INPUT), !d || document.webkitCurrentFullScreenElement || document.mozFullScreenElement || n[e](), 
                            !1) : void 0;
                        }) : [ "exitFullscreen", "webkitCancelFullScreen", "mozCancelFullScreen", "msExitFullscreen" ].forEach(function(e) {
                            return "function" == typeof document[e] ? (document[e](), !1) : void 0;
                        }) : e.trigger(t ? s : u, [ e ]), e);
                    };
                    var v;
                    e.on("mousedown.fs", function() {
                        +new Date() - v < 150 && e.ready && e.fullscreen(), v = +new Date();
                    }), e.on(s, function(n) {
                        m.add("is-fullscreen"), c || l.css(t, "position", "fixed"), e.isFullscreen = !0;
                    }).on(u, function(n) {
                        var r;
                        c || "html5" !== e.engine || (r = t.css("opacity") || "", l.css(t, "opacity", 0)), 
                        c || l.css(t, "position", ""), m.remove("is-fullscreen"), c || "html5" !== e.engine || setTimeout(function() {
                            t.css("opacity", r);
                        }), e.isFullscreen = !1, p.scrollTo(f, o);
                    }).on("unload", function() {
                        e.isFullscreen && e.fullscreen();
                    }), e.on("shutdown", function() {
                        i.off(document, ".ffscr"), r = null;
                    });
                }
            });
        }, {
            "../common": 1,
            "../flowplayer": 18,
            bean: 20,
            "class-list": 22,
            "extend-object": 26
        } ],
        10: [ function(e, t, n) {
            "use strict";
            var r, o, i = e("../flowplayer"), a = e("bean"), l = "is-help", s = e("../common"), u = e("class-list");
            a.on(document, "keydown.fp", function(e) {
                var t = r, n = e.ctrlKey || e.metaKey || e.altKey, i = e.which, a = t && t.conf, s = o && u(o);
                if (t && a.keyboard && !t.disabled) {
                    if (-1 != [ 63, 187, 191 ].indexOf(i)) return s.toggle(l), !1;
                    if (27 == i && s.contains(l)) return s.toggle(l), !1;
                    if (!n && t.ready) {
                        if (e.preventDefault(), e.shiftKey) return void (39 == i ? t.speed(!0) : 37 == i && t.speed(!1));
                        if (58 > i && i > 47) return t.seekTo(i - 48);
                        switch (i) {
                          case 38:
                          case 75:
                            t.volume(t.volumeLevel + .15);
                            break;

                          case 40:
                          case 74:
                            t.volume(t.volumeLevel - .15);
                            break;

                          case 39:
                          case 76:
                            t.seeking = !0, t.seek(!0);
                            break;

                          case 37:
                          case 72:
                            t.seeking = !0, t.seek(!1);
                            break;

                          case 190:
                            t.seekTo();
                            break;

                          case 32:
                            t.toggle();
                            break;

                          case 70:
                            a.fullscreen && t.fullscreen();
                            break;

                          case 77:
                            t.mute();
                            break;

                          case 81:
                            t.unload();
                        }
                    }
                }
            }), i(function(e, t) {
                if (e.conf.keyboard) {
                    a.on(t, "mouseenter mouseleave", function(n) {
                        r = e.disabled || "mouseover" != n.type ? 0 : e, r && (o = t);
                    });
                    var n = i.support.video && "flash" !== e.conf.engine && document.createElement("video").playbackRate ? "<p><em>shift</em> + <em>&#8592;</em><em>&#8594;</em>slower / faster</p>" : "";
                    if (t.appendChild(s.createElement("div", {
                        className: "fp-help"
                    }, '         <a class="fp-close"></a>         <div class="fp-help-section fp-help-basics">            <p><em>space</em>play / pause</p>            <p><em>q</em>unload | stop</p>            <p><em>f</em>fullscreen</p>' + n + '         </div>         <div class="fp-help-section">            <p><em>&#8593;</em><em>&#8595;</em>volume</p>            <p><em>m</em>mute</p>         </div>         <div class="fp-help-section">            <p><em>&#8592;</em><em>&#8594;</em>seek</p>            <p><em>&nbsp;. </em>seek to previous            </p><p><em>1</em><em>2</em>&hellip; <em>6</em> seek to 10%, 20% &hellip; 60% </p>         </div>   ')), 
                    e.conf.tooltip) {
                        var c = s.find(".fp-ui", t)[0];
                        c.setAttribute("title", "Hit ? for help"), a.one(t, "mouseout.tip", ".fp-ui", function() {
                            c.removeAttribute("title");
                        });
                    }
                    a.on(t, "click", ".fp-close", function() {
                        u(t).toggle(l);
                    }), e.bind("shutdown", function() {
                        o == t && (o = null);
                    });
                }
            });
        }, {
            "../common": 1,
            "../flowplayer": 18,
            bean: 20,
            "class-list": 22
        } ],
        11: [ function(e, t, n) {
            "use strict";
            var r = e("../flowplayer"), o = /IEMobile/.test(window.navigator.userAgent), i = e("class-list"), a = e("../common"), l = e("bean"), s = e("./ui").format, u = window.navigator.userAgent;
            (r.support.touch || o) && r(function(e, t) {
                var n = /Android/.test(u) && !/Firefox/.test(u) && !/Opera/.test(u), c = /Silk/.test(u), f = n ? parseFloat(/Android\ (\d\.\d)/.exec(u)[1], 10) : 0, d = i(t);
                if (n && !o) {
                    if (!/Chrome/.test(u) && 4 > f) {
                        var p = e.load;
                        e.load = function(t, n) {
                            var r = p.apply(e, arguments);
                            return e.trigger("ready", [ e, e.video ]), r;
                        };
                    }
                    var m, v = 0, g = function(e) {
                        m = setInterval(function() {
                            e.video.time = ++v, e.trigger("progress", [ e, v ]);
                        }, 1e3);
                    };
                    e.bind("ready pause unload", function() {
                        m && (clearInterval(m), m = null);
                    }), e.bind("ready", function() {
                        v = 0;
                    }), e.bind("resume", function(t, n) {
                        return n.live ? v ? g(n) : void e.one("progress", function(e, t, n) {
                            0 === n && g(t);
                        }) : void 0;
                    });
                }
                r.support.volume || (d.add("no-volume"), d.add("no-mute")), d.add("is-touch"), e.sliders && e.sliders.timeline && e.sliders.timeline.disableAnimation(), 
                (!r.support.inlineVideo || e.conf.native_fullscreen) && (e.conf.nativesubtitles = !0);
                var h = !1;
                l.on(t, "touchmove", function() {
                    h = !0;
                }), l.on(t, "touchend click", function(t) {
                    return h ? void (h = !1) : e.playing && !d.contains("is-mouseover") ? (d.add("is-mouseover"), 
                    d.remove("is-mouseout"), t.preventDefault(), void t.stopPropagation()) : void (e.playing || e.splash || !d.contains("is-mouseout") || d.contains("is-mouseover") || setTimeout(function() {
                        e.playing || e.splash || e.resume();
                    }, 400));
                }), e.conf.native_fullscreen && "function" == typeof document.createElement("video").webkitEnterFullScreen && (e.fullscreen = function() {
                    var e = a.find("video.fp-engine", t)[0];
                    e.webkitEnterFullScreen(), l.one(e, "webkitendfullscreen", function() {
                        a.prop(e, "controls", !0), a.prop(e, "controls", !1);
                    });
                }), (n || c) && e.bind("ready", function() {
                    var n = a.find("video.fp-engine", t)[0];
                    l.one(n, "canplay", function() {
                        n.play();
                    }), n.play(), e.bind("progress.dur", function() {
                        var r = n.duration;
                        1 !== r && (e.video.duration = r, a.find(".fp-duration", t)[0].innerHTML = s(r), 
                        e.unbind("progress.dur"));
                    });
                });
            });
        }, {
            "../common": 1,
            "../flowplayer": 18,
            "./ui": 17,
            bean: 20,
            "class-list": 22
        } ],
        12: [ function(e, t, n) {
            "use strict";
            var r = e("../flowplayer"), o = e("extend-object"), i = e("bean"), a = e("class-list"), l = e("../common"), s = e("./resolve"), u = new s(), c = window.jQuery, f = /^#/;
            r(function(e, t) {
                function n() {
                    return l.find(m.query, r());
                }
                function r() {
                    return f.test(m.query) ? void 0 : t;
                }
                function d() {
                    return l.find(m.query + "." + v, r());
                }
                function p() {
                    var n = l.find(".fp-playlist", t)[0];
                    if (!n) {
                        n = l.createElement("div", {
                            className: "fp-playlist"
                        });
                        var r = l.find(".fp-next,.fp-prev", t);
                        r.length ? r[0].parentElement.insertBefore(n, r[0]) : l.insertAfter(t, l.find("video", t)[0], n);
                    }
                    n.innerHTML = "", e.conf.playlist[0].length && (e.conf.playlist = e.conf.playlist.map(function(e) {
                        if ("string" == typeof e) {
                            var t = e.split(s.TYPE_RE)[1];
                            return {
                                sources: [ {
                                    type: "m3u8" === t.toLowerCase() ? "application/x-mpegurl" : "video/" + t,
                                    src: e
                                } ]
                            };
                        }
                        return {
                            sources: e.map(function(e) {
                                var t = {};
                                return Object.keys(e).forEach(function(n) {
                                    t.type = /mpegurl/i.test(n) ? "application/x-mpegurl" : "video/" + n, t.src = e[n];
                                }), t;
                            })
                        };
                    })), e.conf.playlist.forEach(function(e, t) {
                        var r = e.sources[0].src;
                        n.appendChild(l.createElement("a", {
                            href: r,
                            "data-index": t
                        }));
                    });
                }
                var m = o({
                    active: "is-active",
                    advance: !0,
                    query: ".fp-playlist a"
                }, e.conf), v = m.active, g = a(t);
                e.play = function(t) {
                    if (void 0 === t) return e.resume();
                    if ("number" == typeof t && !e.conf.playlist[t]) return e;
                    if ("number" != typeof t) return e.load.apply(null, arguments);
                    var n = o({
                        index: t
                    }, e.conf.playlist[t]);
                    return t === e.video.index ? e.load(n, function() {
                        e.resume();
                    }) : (e.off("resume.fromfirst"), e.load(n, function() {
                        e.video.index = t;
                    }), e);
                }, e.next = function(t) {
                    t && t.preventDefault();
                    var n = e.video.index;
                    return -1 != n && (n = n === e.conf.playlist.length - 1 ? 0 : n + 1, e.play(n)), 
                    e;
                }, e.prev = function(t) {
                    t && t.preventDefault();
                    var n = e.video.index;
                    return -1 != n && (n = 0 === n ? e.conf.playlist.length - 1 : n - 1, e.play(n)), 
                    e;
                }, e.setPlaylist = function(t) {
                    return e.conf.playlist = t, delete e.video.index, p(), e;
                }, e.addPlaylistItem = function(t) {
                    return e.setPlaylist(e.conf.playlist.concat([ t ]));
                }, e.removePlaylistItem = function(t) {
                    var n = e.conf.playlist;
                    return e.setPlaylist(n.slice(0, t).concat(n.slice(t + 1)));
                }, i.on(t, "click", ".fp-next", e.next), i.on(t, "click", ".fp-prev", e.prev), m.advance && e.off("finish.pl").on("finish.pl", function(e, t) {
                    if (t.video.loop) return t.seek(0, function() {
                        t.resume();
                    });
                    var n = t.video.index >= 0 ? t.video.index + 1 : void 0;
                    n < t.conf.playlist.length || m.loop ? (n = n === t.conf.playlist.length ? 0 : n, 
                    g.remove("is-finished"), setTimeout(function() {
                        t.play(n);
                    })) : t.conf.playlist.length > 1 && t.one("resume.fromfirst", function() {
                        return t.play(0), !1;
                    });
                });
                var h = !1;
                e.conf.playlist.length && (h = !0, p(), e.conf.clip && e.conf.clip.sources.length || (e.conf.clip = e.conf.playlist[0])), 
                n().length && !h && (e.conf.playlist = [], n().forEach(function(t) {
                    var n = t.href;
                    t.setAttribute("data-index", e.conf.playlist.length);
                    var r = u.resolve(n, e.conf.clip.sources);
                    c && o(r, c(t).data()), e.conf.playlist.push(r);
                })), i.on(f.test(m.query) ? document : t, "click", m.query, function(t) {
                    t.preventDefault();
                    var n = t.currentTarget, r = Number(n.getAttribute("data-index"));
                    -1 != r && e.play(r);
                }), e.on("load", function(n, o, i) {
                    if (e.conf.playlist.length) {
                        var s = d()[0], u = s && s.getAttribute("data-index"), c = i.index = i.index || e.video.index || 0, f = l.find(m.query + '[data-index="' + c + '"]', r())[0], p = c == e.conf.playlist.length - 1;
                        s && a(s).remove(v), f && a(f).add(v), g.remove("video" + u), g.add("video" + c), 
                        l.toggleClass(t, "last-video", p), i.index = o.video.index = c, i.is_last = o.video.is_last = p;
                    }
                }).on("unload.pl", function() {
                    e.conf.playlist.length && (d().forEach(function(e) {
                        a(e).toggle(v);
                    }), e.conf.playlist.forEach(function(e, t) {
                        g.remove("video" + t);
                    }));
                }), e.conf.playlist.length && (e.conf.loop = !1);
            });
        }, {
            "../common": 1,
            "../flowplayer": 18,
            "./resolve": 13,
            bean: 20,
            "class-list": 22,
            "extend-object": 26
        } ],
        13: [ function(e, t, n) {
            "use strict";
            function r(e) {
                var t = e.attr("src"), n = e.attr("type") || "", r = t.split(i)[1];
                return n = n.toLowerCase(), a(e.data(), {
                    src: t,
                    suffix: r || n,
                    type: n || r
                });
            }
            function o(e) {
                return /mpegurl/i.test(e) ? "application/x-mpegurl" : "video/" + e;
            }
            var i = /\.(\w{3,4})(\?.*)?$/i, a = e("extend-object");
            t.exports = function() {
                var e = this;
                e.sourcesFromVideoTag = function(e, t) {
                    var n = [];
                    return t("source", e).each(function() {
                        n.push(r(t(this)));
                    }), !n.length && e.length && n.push(r(e)), n;
                }, e.resolve = function(e, t) {
                    return e ? ("string" == typeof e && (e = {
                        src: e,
                        sources: []
                    }, e.sources = (t || []).map(function(t) {
                        var n = t.src.split(i)[1];
                        return {
                            type: t.type,
                            src: e.src.replace(i, "." + n + "$2")
                        };
                    })), e instanceof Array && (e = {
                        sources: e.map(function(e) {
                            return e.type && e.src ? e : Object.keys(e).reduce(function(t, n) {
                                return a(t, {
                                    type: o(n),
                                    src: e[n]
                                });
                            }, {});
                        })
                    }), e) : {
                        sources: t
                    };
                };
            }, t.exports.TYPE_RE = i;
        }, {
            "extend-object": 26
        } ],
        14: [ function(e, t, n) {
            "use strict";
            var r = e("class-list"), o = e("bean"), i = e("../common"), a = function(e, t) {
                var n;
                return function() {
                    n || (e.apply(this, arguments), n = 1, setTimeout(function() {
                        n = 0;
                    }, t));
                };
            }, l = function(e, t) {
                var n, l, s, u, c, f, d, p, m = (/iPad/.test(navigator.userAgent) && !/CriOS/.test(navigator.userAgent), 
                i.lastChild(e)), v = r(e), g = r(m), h = !1, y = function() {
                    l = i.offset(e), s = i.width(e), u = i.height(e), f = c ? u : s, p = E(d);
                }, b = function(t) {
                    n || t == k.value || d && !(d > t) || (o.fire(e, "slide", [ t ]), k.value = t);
                }, w = function(e) {
                    var n = e.pageX || e.clientX;
                    !n && e.originalEvent && e.originalEvent.touches && e.originalEvent.touches.length && (n = e.originalEvent.touches[0].pageX);
                    var r = c ? e.pageY - l.top : n - l.left;
                    r = Math.max(0, Math.min(p || f, r));
                    var o = r / f;
                    return c && (o = 1 - o), t && (o = 1 - o), x(o, 0, !0);
                }, x = function(e, t) {
                    void 0 === t && (t = 0), e > 1 && (e = 1);
                    var n = Math.round(1e3 * e) / 10 + "%";
                    return (!d || d >= e) && (g.remove("animated"), h ? g.remove("animated") : (g.add("animated"), 
                    i.css(m, "transition-duration", (t || 0) + "ms")), i.css(m, "width", n)), e;
                }, E = function(e) {
                    return Math.max(0, Math.min(f, c ? (1 - e) * u : e * s));
                }, k = {
                    max: function(e) {
                        d = e;
                    },
                    disable: function(e) {
                        n = e;
                    },
                    slide: function(e, t, n) {
                        y(), n && b(e), x(e, t);
                    },
                    disableAnimation: function(t, n) {
                        h = t !== !1, i.toggleClass(e, "no-animation", !!n);
                    }
                };
                return y(), o.on(e, "mousedown.sld touchstart", function(e) {
                    if (e.preventDefault(), !n) {
                        var t = a(b, 100);
                        y(), k.dragging = !0, v.add("is-dragging"), b(w(e)), o.on(document, "mousemove.sld touchmove.sld", function(e) {
                            e.preventDefault(), t(w(e));
                        }), o.one(document, "mouseup touchend", function() {
                            k.dragging = !1, v.remove("is-dragging"), o.off(document, "mousemove.sld touchmove.sld");
                        });
                    }
                }), k;
            };
            t.exports = l;
        }, {
            "../common": 1,
            bean: 20,
            "class-list": 22
        } ],
        15: [ function(e, t, n) {
            "use strict";
            var r = e("../flowplayer"), o = e("../common"), i = e("bean"), a = e("class-list");
            r.defaults.subtitleParser = function(e) {
                function t(e) {
                    var t = e.split(":");
                    return 2 == t.length && t.unshift(0), 60 * t[0] * 60 + 60 * t[1] + parseFloat(t[2].replace(",", "."));
                }
                for (var n, r, o, i = /^(([0-9]{2}:){1,2}[0-9]{2}[,.][0-9]{3}) --\> (([0-9]{2}:){1,2}[0-9]{2}[,.][0-9]{3})(.*)/, a = [], l = 0, s = e.split("\n"), u = s.length, c = {}; u > l; l++) if (r = i.exec(s[l])) {
                    for (n = s[l - 1], o = "<p>" + s[++l] + "</p><br/>"; "string" == typeof s[++l] && s[l].trim() && l < s.length; ) o += "<p>" + s[l] + "</p><br/>";
                    c = {
                        title: n,
                        startTime: t(r[1]),
                        endTime: t(r[3]),
                        text: o
                    }, a.push(c);
                }
                return a;
            }, r(function(e, t) {
                var n, l, s, u, c = a(t), f = function() {
                    u = o.createElement("a", {
                        className: "fp-menu"
                    });
                    var n = o.createElement("ul", {
                        className: "fp-dropdown fp-dropup"
                    });
                    return n.appendChild(o.createElement("li", {
                        "data-subtitle-index": -1
                    }, "No subtitles")), (e.video.subtitles || []).forEach(function(e, t) {
                        var r = e.srclang || "en", i = e.label || "Default (" + r + ")", a = o.createElement("li", {
                            "data-subtitle-index": t
                        }, i);
                        n.appendChild(a);
                    }), u.appendChild(n), o.find(".fp-controls", t)[0].appendChild(u), u;
                };
                i.on(t, "click", ".fp-menu", function(e) {
                    a(u).toggle("dropdown-open");
                }), i.on(t, "click", ".fp-menu li[data-subtitle-index]", function(t) {
                    var n = t.target.getAttribute("data-subtitle-index");
                    return "-1" === n ? e.disableSubtitles() : void e.loadSubtitles(n);
                });
                var d = function() {
                    var e = o.find(".fp-player", t)[0];
                    s = o.find(".fp-subtitle", t)[0], s = s || o.appendTo(o.createElement("div", {
                        "class": "fp-subtitle"
                    }), e), Array.prototype.forEach.call(s.children, o.removeNode), n = a(s), o.find(".fp-menu", t).forEach(o.removeNode), 
                    f();
                };
                e.on("ready", function(n, i, a) {
                    var l = i.conf;
                    if (r.support.subtitles && l.nativesubtitles && "html5" == i.engine.engineName) {
                        var s = function(e) {
                            var n = o.find("video", t)[0].textTracks;
                            n.length && (n[0].mode = e);
                        };
                        if (!a.subtitles || !a.subtitles.length) return;
                        var u = o.find("video.fp-engine", t)[0];
                        return a.subtitles.some(function(e) {
                            return !o.isSameDomain(e.src);
                        }) && o.attr(u, "crossorigin", "anonymous"), u.textTracks.addEventListener("addtrack", function() {
                            s("disabled"), s("showing");
                        }), void a.subtitles.forEach(function(e) {
                            u.appendChild(o.createElement("track", {
                                kind: "subtitles",
                                srclang: e.srclang || "en",
                                label: e.label || "en",
                                src: e.src,
                                "default": e["default"]
                            }));
                        });
                    }
                    if (i.subtitles = [], d(), c.remove("has-menu"), e.disableSubtitles(), a.subtitles && a.subtitles.length) {
                        c.add("has-menu");
                        var f = a.subtitles.filter(function(e) {
                            return e["default"];
                        })[0];
                        f && i.loadSubtitles(a.subtitles.indexOf(f));
                    }
                }), e.bind("cuepoint", function(e, t, r) {
                    r.subtitle ? (l = r.index, o.html(s, r.subtitle.text), n.add("fp-active")) : r.subtitleEnd && (n.remove("fp-active"), 
                    l = r.index);
                }), e.bind("seek", function(t, r, o) {
                    l && e.cuepoints[l] && e.cuepoints[l].time > o && (n.remove("fp-active"), l = null), 
                    (e.cuepoints || []).forEach(function(t) {
                        var n = t.subtitle;
                        n && l != t.index ? o >= t.time && (!n.endTime || o <= n.endTime) && e.trigger("cuepoint", [ e, t ]) : t.subtitleEnd && o >= t.time && t.index == l + 1 && e.trigger("cuepoint", [ e, t ]);
                    });
                });
                var p = function(e) {
                    o.toggleClass(o.find("li.active", t)[0], "active"), o.toggleClass(o.find('li[data-subtitle-index="' + e + '"]', t)[0], "active");
                };
                e.disableSubtitles = function() {
                    return e.subtitles = [], (e.cuepoints || []).forEach(function(t) {
                        (t.subtitle || t.subtitleEnd) && e.removeCuepoint(t);
                    }), s && Array.prototype.forEach.call(s.children, o.removeNode), p(-1), e;
                }, e.loadSubtitles = function(t) {
                    e.disableSubtitles();
                    var n = e.video.subtitles[t], r = n.src;
                    return r ? (p(t), o.xhrGet(r, function(t) {
                        var n = e.conf.subtitleParser(t);
                        n.forEach(function(t) {
                            var n = {
                                time: t.startTime,
                                subtitle: t,
                                visible: !1
                            };
                            e.subtitles.push(t), e.addCuepoint(n), e.addCuepoint({
                                time: t.endTime,
                                subtitleEnd: t.title,
                                visible: !1
                            }), 0 !== t.startTime || e.video.time || e.trigger("cuepoint", [ e, n ]);
                        });
                    }, function() {
                        return e.trigger("error", {
                            code: 8,
                            url: r
                        }), !1;
                    }), e) : void 0;
                };
            });
        }, {
            "../common": 1,
            "../flowplayer": 18,
            bean: 20,
            "class-list": 22
        } ],
        16: [ function(e, t, n) {
            "use strict";
            var r = e("../flowplayer"), o = e("extend-object");
            !function() {
                var e = function(e) {
                    var t = /Version\/(\d\.\d)/.exec(e);
                    return t && t.length > 1 ? parseFloat(t[1], 10) : 0;
                }, t = function() {
                    var e = document.createElement("video");
                    return e.loop = !0, e.autoplay = !0, e.preload = !0, e;
                }, n = {}, i = navigator.userAgent.toLowerCase(), a = /(chrome)[ \/]([\w.]+)/.exec(i) || /(safari)[ \/]([\w.]+)/.exec(i) || /(webkit)[ \/]([\w.]+)/.exec(i) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(i) || /(msie) ([\w.]+)/.exec(i) || i.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(i) || [];
                a[1] && (n[a[1]] = !0, n.version = a[2] || "0");
                var l = t(), s = navigator.userAgent, u = n.msie || /Trident\/7/.test(s), c = /iPad|MeeGo/.test(s) && !/CriOS/.test(s), f = /iPad/.test(s) && /CriOS/.test(s), d = /iP(hone|od)/i.test(s) && !/iPad/.test(s) && !/IEMobile/i.test(s), p = /Android/.test(s) && !/Firefox/.test(s), m = /Android/.test(s) && /Firefox/.test(s), v = /Silk/.test(s), g = /IEMobile/.test(s), h = g ? parseFloat(/Windows\ Phone\ (\d+\.\d+)/.exec(s)[1], 10) : 0, y = g ? parseFloat(/IEMobile\/(\d+\.\d+)/.exec(s)[1], 10) : 0, b = (c ? e(s) : 0, 
                p ? parseFloat(/Android\ (\d\.\d)/.exec(s)[1], 10) : 0), w = o(r.support, {
                    browser: n,
                    subtitles: !!l.addTextTrack,
                    fullscreen: "function" == typeof document.webkitCancelFullScreen && !/Mac OS X 10_5.+Version\/5\.0\.\d Safari/.test(s) || document.mozFullScreenEnabled || "function" == typeof document.exitFullscreen || "function" == typeof document.msExitFullscreen,
                    inlineBlock: !(u && n.version < 8),
                    touch: "ontouchstart" in window,
                    dataload: !c && !d && !g,
                    zeropreload: !u && !p,
                    volume: !(c || p || d || v || f),
                    cachedVideoTag: !(c || d || f || g),
                    firstframe: !(d || c || p || v || f || g || m),
                    inlineVideo: !d && (!g || h >= 8.1 && y >= 11) && (!p || b >= 3),
                    hlsDuration: !p && (!n.safari || c || d || f),
                    seekable: !c && !f
                });
                try {
                    var x = navigator.plugins["Shockwave Flash"], E = u ? new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version") : x.description;
                    u || x[0].enabledPlugin ? (E = E.split(/\D+/), E.length && !E[0] && (E = E.slice(1)), 
                    w.flashVideo = E[0] > 9 || 9 == E[0] && E[3] >= 115) : w.flashVideo = !1;
                } catch (k) {}
                try {
                    w.video = !!l.canPlayType, w.video && l.canPlayType("video/mp4");
                } catch (T) {
                    w.video = !1;
                }
                w.animation = function() {
                    for (var e = [ "", "Webkit", "Moz", "O", "ms", "Khtml" ], t = document.createElement("p"), n = 0; n < e.length; n++) if ("undefined" != typeof t.style[e[n] + "AnimationName"]) return !0;
                }();
            }();
        }, {
            "../flowplayer": 18,
            "extend-object": 26
        } ],
        17: [ function(e, t, n) {
            "use strict";
            function r(e) {
                return e = parseInt(e, 10), e >= 10 ? e : "0" + e;
            }
            function o(e) {
                e = e || 0;
                var t = Math.floor(e / 3600), n = Math.floor(e / 60);
                return e -= 60 * n, t >= 1 ? (n -= 60 * t, t + ":" + r(n) + ":" + r(e)) : r(n) + ":" + r(e);
            }
            var i = e("../flowplayer"), a = e("../common"), l = e("class-list"), s = e("bean"), u = e("./slider");
            i(function(e, t) {
                function n(e) {
                    return a.find(".fp-" + e, t)[0];
                }
                function r(e) {
                    a.css(w, "padding-top", 100 * e + "%"), p.inlineBlock || a.height(a.find("object", t)[0], a.height(t));
                }
                function c(e) {
                    e ? (m.add("is-mouseover"), m.remove("is-mouseout")) : (m.add("is-mouseout"), m.remove("is-mouseover"));
                }
                var f, d = e.conf, p = i.support, m = l(t);
                a.find(".fp-ratio,.fp-ui", t).forEach(a.removeNode), m.add("flowplayer"), t.appendChild(a.createElement("div", {
                    className: "fp-ratio"
                }));
                var v = a.createElement("div", {
                    className: "fp-ui"
                }, '         <div class="waiting"><em></em><em></em><em></em></div>         <a class="fullscreen"></a>         <a class="unload"></a>         <p class="speed"></p>         <div class="controls">            <a class="play"></a>            <div class="timeline">               <div class="buffer"></div>               <div class="progress"></div>            </div>            <div class="timeline-tooltip fp-tooltip"></div>            <div class="volume">               <a class="mute"></a>               <div class="volumeslider">                  <div class="volumelevel"></div>               </div>            </div>         </div>         <div class="time">            <em class="elapsed">00:00</em>            <em class="remaining"></em>            <em class="duration">00:00</em>         </div>         <div class="message"><h2></h2><p></p></div>'.replace(/class="/g, 'class="fp-'));
                t.appendChild(v);
                var g = (n("progress"), n("buffer")), h = n("elapsed"), y = n("remaining"), b = n("waiting"), w = n("ratio"), x = n("speed"), E = l(x), k = n("duration"), T = n("controls"), S = n("timeline-tooltip"), C = a.css(w, "padding-top"), N = n("timeline"), O = u(N, e.rtl), j = (n("volume"), 
                n("fullscreen")), P = n("volumeslider"), A = u(P, e.rtl), D = m.contains("fixed-controls") || m.contains("no-toggle");
                O.disableAnimation(m.contains("is-touch")), e.sliders = e.sliders || {}, e.sliders.timeline = O, 
                e.sliders.volume = A, p.animation || a.html(b, "<p>loading &hellip;</p>"), d.ratio && r(d.ratio);
                try {
                    d.fullscreen || a.removeNode(j);
                } catch (_) {
                    a.removeNode(j);
                }
                e.on("ready", function(e, n, i) {
                    var l = n.video.duration;
                    O.disable(n.disabled || !l), d.adaptiveRatio && !isNaN(i.height / i.width) && r(i.height / i.width, !0), 
                    a.html([ k, y ], o(l)), a.toggleClass(t, "is-long", l >= 3600), A.slide(n.volumeLevel), 
                    "flash" === n.engine.engineName ? O.disableAnimation(!0, !0) : O.disableAnimation(!1), 
                    a.find(".fp-title", v).forEach(a.removeNode), i.title && a.prepend(v, a.createElement("div", {
                        className: "fp-title"
                    }, i.title));
                }).on("unload", function() {
                    C || d.splash || a.css(w, "paddingTop", ""), O.slide(0);
                }).on("buffer", function() {
                    var t = e.video, n = t.buffer / t.duration;
                    !t.seekable && p.seekable && O.max(n), 1 > n ? a.css(g, "width", 100 * n + "%") : a.css(g, "width", "100%");
                }).on("speed", function(e, t, n) {
                    a.text(x, n + "x"), E.add("fp-hilite"), setTimeout(function() {
                        E.remove("fp-hilite");
                    }, 1e3);
                }).on("buffered", function() {
                    a.css(g, "width", "100%"), O.max(1);
                }).on("progress", function() {
                    var t = e.video.time, n = e.video.duration;
                    O.dragging || O.slide(t / n, e.seeking ? 0 : 250), a.html(h, o(t)), a.html(y, "-" + o(n - t));
                }).on("finish resume seek", function(e) {
                    a.toggleClass(t, "is-finished", "finish" == e.type);
                }).on("stop", function() {
                    a.html(h, o(0)), O.slide(0, 100);
                }).on("finish", function() {
                    a.html(h, o(e.video.duration)), O.slide(1, 100), m.remove("is-seeking");
                }).on("beforeseek", function() {}).on("volume", function() {
                    A.slide(e.volumeLevel);
                }).on("disable", function() {
                    var n = e.disabled;
                    O.disable(n), A.disable(n), a.toggleClass(t, "is-disabled", e.disabled);
                }).on("mute", function(e, n, r) {
                    a.toggleClass(t, "is-muted", r);
                }).on("error", function(e, n, r) {
                    if (a.removeClass(t, "is-loading"), a.removeClass(t, "is-seeking"), a.addClass(t, "is-error"), 
                    r) {
                        r.message = d.errors[r.code], n.error = !0;
                        var o = a.find(".fp-message", t)[0], i = r.video || n.video;
                        a.find("h2", o)[0].innerHTML = (n.engine && n.engine.engineName || "html5") + ": " + r.message, 
                        a.find("p", o)[0].innerHTML = r.url || i.url || i.src || d.errorUrls[r.code], n.off("mouseenter click"), 
                        m.remove("is-mouseover");
                    }
                }), s.on(t, "mouseenter mouseleave", function(n) {
                    if (!D) {
                        var r, o = "mouseover" == n.type;
                        if (c(o), o) {
                            var i = function() {
                                c(!0), r = new Date();
                            };
                            e.on("pause.x volume.x", i), s.on(t, "mousemove.x", i), f = setInterval(function() {
                                new Date() - r > d.mouseoutTimeout && (c(!1), r = new Date());
                            }, 100);
                        } else s.off(t, "mousemove.x"), e.off("pause.x volume.x"), clearInterval(f);
                    }
                }), s.on(t, "mouseleave", function() {
                    (O.dragging || A.dragging) && (m.add("is-mouseover"), m.remove("is-mouseout"));
                }), s.on(t, "click.player", function(t) {
                    if (!e.disabled) {
                        var n = l(t.target);
                        return n.contains("fp-ui") || n.contains("fp-engine") || t.flash ? (t.preventDefault && t.preventDefault(), 
                        e.toggle()) : void 0;
                    }
                }), s.on(t, "mousemove", ".fp-timeline", function(t) {
                    var n = t.pageX || t.clientX, r = n - a.offset(N).left, i = r / a.width(N), l = i * e.video.duration;
                    0 > i || (a.html(S, o(l)), a.css(S, "left", n - a.offset(T).left - a.width(S) / 2 + "px"));
                }), s.on(t, "contextmenu", function(e) {
                    var n = a.offset(a.find(".fp-player", t)[0]), r = window, o = e.clientX - (n.left + r.scrollX), i = e.clientY - (n.top + r.scrollY);
                    if (!m.contains("is-flash-disabled")) {
                        var l = a.find(".fp-context-menu", t)[0];
                        l && (e.preventDefault(), a.css(l, {
                            left: o + "px",
                            top: i + "px",
                            display: "block"
                        }), s.on(t, "click", ".fp-context-menu", function(e) {
                            e.stopPropagation();
                        }), s.on(document, "click.outsidemenu", function(e) {
                            a.css(l, "display", "none"), s.off(document, "click.outsidemenu");
                        }));
                    }
                }), e.on("flashdisabled", function() {
                    m.add("is-flash-disabled"), e.one("ready progress", function() {
                        m.remove("is-flash-disabled"), a.find(".fp-flash-disabled", t).forEach(a.removeNode);
                    }), t.appendChild(a.createElement("div", {
                        className: "fp-flash-disabled"
                    }, "Adobe Flash is disabled for this page, click player area to enable"));
                }), d.poster && a.css(t, "background-image", "url(" + d.poster + ")");
                var I = a.css(t, "background-color"), M = "none" != a.css(t, "background-image") || I && "rgba(0, 0, 0, 0)" != I && "transparent" != I;
                M && !d.splash && (d.poster || (d.poster = !0), e.on("ready stop", function() {
                    m.add("is-poster"), e.poster = !0, e.one("progress", function() {
                        m.remove("is-poster"), e.poster = !1;
                    });
                })), "string" == typeof d.splash && a.css(t, "background-image", "url('" + d.splash + "')"), 
                !M && e.forcedSplash && a.css(t, "background-color", "#555"), s.on(t, "click", ".fp-toggle, .fp-play", function() {
                    e.disabled || e.toggle();
                }), s.on(t, "click", ".fp-mute", function() {
                    e.mute();
                }), s.on(t, "click", ".fp-fullscreen", function() {
                    e.fullscreen();
                }), s.on(t, "click", ".fp-unload", function() {
                    e.unload();
                }), s.on(N, "slide", function(t) {
                    e.seeking = !0, e.seek(t * e.video.duration);
                }), s.on(P, "slide", function(t) {
                    e.volume(t);
                });
                var L = n("time");
                s.on(t, "click", ".fp-time", function() {
                    l(L).toggle("is-inverted");
                }), c(D), e.on("shutdown", function() {
                    s.off(N), s.off(P);
                });
            }), t.exports.format = o;
        }, {
            "../common": 1,
            "../flowplayer": 18,
            "./slider": 14,
            bean: 20,
            "class-list": 22
        } ],
        18: [ function(e, t, n) {
            "use strict";
            function r(e, t, n) {
                t && t.embed && (t.embed = o({}, y.defaults.embed, t.embed));
                var r, d, m = e, v = a(m), g = o({}, y.defaults, y.conf, t), h = {}, x = new w();
                v.add("is-loading");
                try {
                    h = p ? window.localStorage : h;
                } catch (E) {}
                var k = m.currentStyle && "rtl" === m.currentStyle.direction || window.getComputedStyle && null !== window.getComputedStyle(m, null) && "rtl" === window.getComputedStyle(m, null).getPropertyValue("direction");
                k && v.add("is-rtl");
                var T = {
                    conf: g,
                    currentSpeed: 1,
                    volumeLevel: g.muted ? 0 : "undefined" == typeof g.volume ? 1 * h.volume : g.volume,
                    video: {},
                    disabled: !1,
                    finished: !1,
                    loading: !1,
                    muted: "true" == h.muted || g.muted,
                    paused: !1,
                    playing: !1,
                    ready: !1,
                    splash: !1,
                    rtl: k,
                    load: function(e, t) {
                        if (!T.error && !T.loading) {
                            T.video = {}, T.finished = !1, e = e || g.clip, e = o({}, x.resolve(e, g.clip.sources)), 
                            (T.playing || T.engine) && (e.autoplay = !0);
                            var n = S(e);
                            if (!n) return T.trigger("error", [ T, {
                                code: y.support.flashVideo ? 5 : 10
                            } ]);
                            if (!n.engineName) throw new Error("engineName property of factory should be exposed");
                            if (T.engine && n.engineName === T.engine.engineName || (T.ready = !1, T.engine && (T.engine.unload(), 
                            T.conf.autoplay = !0), d = T.engine = n(T, m), T.one("ready", function() {
                                d.volume(T.volumeLevel);
                            })), o(e, d.pick(e.sources.filter(function(e) {
                                return e.engine ? e.engine === d.engineName : !0;
                            }))), e.src) {
                                var r = T.trigger("load", [ T, e, d ], !0);
                                r.defaultPrevented ? T.loading = !1 : (d.load(e), i(e) && (t = e), t && T.one("ready", t));
                            }
                            return T;
                        }
                    },
                    pause: function(e) {
                        return !T.ready || T.seeking || T.loading || (d.pause(), T.one("pause", e)), T;
                    },
                    resume: function() {
                        return T.ready && T.paused && (d.resume(), T.finished && (T.trigger("resume", [ T ]), 
                        T.finished = !1)), T;
                    },
                    toggle: function() {
                        return T.ready ? T.paused ? T.resume() : T.pause() : T.load();
                    },
                    seek: function(e, t) {
                        if (T.ready && !T.live) {
                            if ("boolean" == typeof e) {
                                var n = .1 * T.video.duration;
                                e = T.video.time + (e ? n : -n);
                            }
                            e = r = Math.min(Math.max(e, 0), T.video.duration - .1).toFixed(1);
                            var o = T.trigger("beforeseek", [ T, e ], !0);
                            o.defaultPrevented ? (T.seeking = !1, s.toggleClass(m, "is-seeking", T.seeking)) : (d.seek(e), 
                            i(t) && T.one("seek", t));
                        }
                        return T;
                    },
                    seekTo: function(e, t) {
                        var n = void 0 === e ? r : .1 * T.video.duration * e;
                        return T.seek(n, t);
                    },
                    mute: function(e, t) {
                        return void 0 === e && (e = !T.muted), t || (h.muted = T.muted = e, h.volume = isNaN(h.volume) ? g.volume : h.volume), 
                        T.volume(e ? 0 : h.volume, !0), T.trigger("mute", [ T, e ]), T;
                    },
                    volume: function(e, t) {
                        return T.ready && (e = Math.min(Math.max(e, 0), 1), t || (h.volume = e), d.volume(e)), 
                        T;
                    },
                    speed: function(e, t) {
                        return T.ready && ("boolean" == typeof e && (e = g.speeds[g.speeds.indexOf(T.currentSpeed) + (e ? 1 : -1)] || T.currentSpeed), 
                        d.speed(e), t && m.one("speed", t)), T;
                    },
                    stop: function() {
                        return T.ready && (T.pause(), T.seek(0, function() {
                            T.trigger("stop", [ T ]);
                        })), T;
                    },
                    unload: function() {
                        return v.contains("is-embedding") || (g.splash ? (T.trigger("unload", [ T ]), d && (d.unload(), 
                        T.engine = d = 0)) : T.stop()), T;
                    },
                    shutdown: function() {
                        T.unload(), T.trigger("shutdown", [ T ]), l.off(m), delete c[m.getAttribute("data-flowplayer-instance-id")], 
                        m.removeAttribute("data-flowplayer-instance-id");
                    },
                    disable: function(e) {
                        return void 0 === e && (e = !T.disabled), e != T.disabled && (T.disabled = e, T.trigger("disable", e)), 
                        T;
                    }
                };
                T.conf = o(T.conf, g), u(T);
                var S = function(e) {
                    var t, n = y.engines;
                    if (g.engine) {
                        var r = n.filter(function(e) {
                            return e.engineName === g.engine;
                        })[0];
                        if (r && e.sources.some(function(e) {
                            return e.engine && e.engine !== r.engineName ? !1 : r.canPlay(e.type, T.conf);
                        })) return r;
                    }
                    return g.enginePreference && (n = y.engines.filter(function(e) {
                        return g.enginePreference.indexOf(e.engineName) > -1;
                    }).sort(function(e, t) {
                        return g.enginePreference.indexOf(e.engineName) - g.enginePreference.indexOf(t.engineName);
                    })), e.sources.some(function(e) {
                        var r = n.filter(function(t) {
                            return e.engine && e.engine !== t.engineName ? !1 : t.canPlay(e.type, T.conf);
                        }).shift();
                        return r && (t = r), !!r;
                    }), t;
                };
                return m.getAttribute("data-flowplayer-instance-id") || (m.setAttribute("data-flowplayer-instance-id", b++), 
                T.on("boot", function() {
                    (g.splash || v.contains("is-splash") || !y.support.firstframe) && (T.forcedSplash = !g.splash && !v.contains("is-splash"), 
                    T.splash = g.autoplay = !0, g.splash || (g.splash = !0), v.add("is-splash")), g.splash && s.find("video", m).forEach(s.removeNode), 
                    (g.live || v.contains("is-live")) && (T.live = g.live = !0, v.add("is-live")), f.forEach(function(e) {
                        e(T, m);
                    }), c.push(T), g.splash ? T.unload() : T.load(), g.disabled && T.disable(), T.one("ready", n);
                }).on("load", function(e, t, n) {
                    g.splash && s.find(".flowplayer.is-ready,.flowplayer.is-loading").forEach(function(e) {
                        var t = e.getAttribute("data-flowplayer-instance-id");
                        if (t !== m.getAttribute("data-flowplayer-instance-id")) {
                            var n = c[Number(t)];
                            n && n.conf.splash && n.unload();
                        }
                    }), v.add("is-loading"), t.loading = !0, "undefined" != typeof n.live && (s.toggleClass(m, "is-live", n.live), 
                    t.live = n.live);
                }).on("ready", function(e, t, n) {
                    n.time = 0, t.video = n, v.remove("is-loading"), t.loading = !1, t.muted ? t.mute(!0, !0) : t.volume(t.volumeLevel);
                    var r = t.conf.hlsFix && /mpegurl/i.exec(n.type);
                    s.toggleClass(m, "hls-fix", !!r);
                }).on("unload", function(e) {
                    v.remove("is-loading"), T.loading = !1;
                }).on("ready unload", function(e) {
                    var t = "ready" == e.type;
                    s.toggleClass(m, "is-splash", !t), s.toggleClass(m, "is-ready", t), T.ready = t, 
                    T.splash = !t;
                }).on("progress", function(e, t, n) {
                    t.video.time = n;
                }).on("speed", function(e, t, n) {
                    t.currentSpeed = n;
                }).on("volume", function(e, t, n) {
                    t.volumeLevel = Math.round(100 * n) / 100, t.muted ? n && t.mute(!1) : h.volume = n;
                }).on("beforeseek seek", function(e) {
                    T.seeking = "beforeseek" == e.type, s.toggleClass(m, "is-seeking", T.seeking);
                }).on("ready pause resume unload finish stop", function(e, t, n) {
                    T.paused = /pause|finish|unload|stop/.test(e.type), T.paused = T.paused || "ready" === e.type && !g.autoplay && !T.playing, 
                    T.playing = !T.paused, s.toggleClass(m, "is-paused", T.paused), s.toggleClass(m, "is-playing", T.playing), 
                    T.load.ed || T.pause();
                }).on("finish", function(e) {
                    T.finished = !0;
                }).on("error", function() {})), T.trigger("boot", [ T, m ]), T;
            }
            var o = e("extend-object"), i = e("is-function"), a = e("class-list"), l = e("bean"), s = e("./common"), u = e("./ext/events"), c = [], f = [], d = (window.navigator.userAgent, 
            window.onbeforeunload);
            window.onbeforeunload = function(e) {
                return c.forEach(function(e) {
                    e.conf.splash ? e.unload() : e.bind("error", function() {
                        s.find(".flowplayer.is-error .fp-message").forEach(s.removeNode);
                    });
                }), d ? d(e) : void 0;
            };
            var p = !1;
            try {
                "object" == typeof window.localStorage && (window.localStorage.flowplayerTestStorage = "test", 
                p = !0);
            } catch (m) {}
            var v = /Safari/.exec(navigator.userAgent) && !/Chrome/.exec(navigator.userAgent), g = /(\d+\.\d+) Safari/.exec(navigator.userAgent), h = g ? Number(g[1]) : 100, y = t.exports = function(e, t, n) {
                if (i(e)) return f.push(e);
                if ("number" == typeof e || "undefined" == typeof e) return c[e || 0];
                if (e.nodeType) {
                    if (null !== e.getAttribute("data-flowplayer-instance-id")) return c[e.getAttribute("data-flowplayer-instance-id")];
                    if (!t) return;
                    return r(e, t, n);
                }
                if (e.jquery) return y(e[0], t, n);
                if ("string" == typeof e) {
                    var o = s.find(e)[0];
                    return o && y(o, t, n);
                }
            };
            o(y, {
                version: "6.0.4",
                engines: [],
                conf: {},
                set: function(e, t) {
                    "string" == typeof e ? y.conf[e] = t : o(y.conf, e);
                },
                support: {},
                defaults: {
                    debug: p ? !!localStorage.flowplayerDebug : !1,
                    disabled: !1,
                    fullscreen: window == window.top,
                    keyboard: !0,
                    ratio: 9 / 16,
                    adaptiveRatio: !1,
                    rtmp: 0,
                    proxy: "best",
                    splash: !1,
                    live: !1,
                    swf: "//releases.flowplayer.org/6.0.4/commercial/flowplayer.swf",
                    swfHls: "//releases.flowplayer.org/6.0.4/commercial/flowplayerhls.swf",
                    speeds: [ .25, .5, 1, 1.5, 2 ],
                    tooltip: !0,
                    mouseoutTimeout: 5e3,
                    volume: p ? "true" == localStorage.muted ? 0 : isNaN(localStorage.volume) ? 1 : localStorage.volume || 1 : 1,
                    errors: [ "", "Video loading aborted", "Network error", "Video not properly encoded", "Video file not found", "Unsupported video", "Skin not found", "SWF file not found", "Subtitles not found", "Invalid RTMP URL", "Unsupported video format. Try installing Adobe Flash." ],
                    errorUrls: [ "", "", "", "", "", "", "", "", "", "", "http://get.adobe.com/flashplayer/" ],
                    playlist: [],
                    hlsFix: v && 8 > h
                },
                bean: l,
                common: s,
                extend: o
            });
            var b = 0, w = e("./ext/resolve");
            if ("undefined" != typeof window.jQuery) {
                var x = window.jQuery;
                x(function() {
                    "function" == typeof x.fn.flowplayer && x('.flowplayer:has(video,script[type="application/json"])').flowplayer();
                });
                var E = function(e) {
                    if (!e.length) return {};
                    var t = e.data() || {}, n = {};
                    return x.each([ "autoplay", "loop", "preload", "poster" ], function(r, o) {
                        var i = e.attr(o);
                        void 0 !== i && -1 !== [ "autoplay", "poster" ].indexOf(o) ? n[o] = i ? i : !0 : void 0 !== i && (t[o] = i ? i : !0);
                    }), t.subtitles = e.find("track").map(function() {
                        var e = x(this);
                        return {
                            src: e.attr("src"),
                            kind: e.attr("kind"),
                            label: e.attr("label"),
                            srclang: e.attr("srclang"),
                            "default": e.prop("default")
                        };
                    }).get(), t.sources = new w().sourcesFromVideoTag(e, x), o(n, {
                        clip: t
                    });
                };
                x.fn.flowplayer = function(e, t) {
                    return this.each(function() {
                        "string" == typeof e && (e = {
                            swf: e
                        }), i(e) && (t = e, e = {});
                        var n = x(this), o = n.find('script[type="application/json"]'), a = o.length ? JSON.parse(o.text()) : E(n.find("video")), l = x.extend({}, e || {}, a, n.data()), s = r(this, l, t);
                        u.EVENTS.forEach(function(e) {
                            s.on(e + ".jquery", function(e) {
                                n.trigger.call(n, e.type, e.detail && e.detail.args);
                            });
                        }), n.data("flowplayer", s);
                    });
                };
            }
        }, {
            "./common": 1,
            "./ext/events": 8,
            "./ext/resolve": 13,
            bean: 20,
            "class-list": 22,
            "extend-object": 26,
            "is-function": 27
        } ],
        19: [ function(e, t, n) {
            e("es5-shim");
            var r = t.exports = e("./flowplayer");
            e("./ext/support"), e("./engine/embed"), e("./engine/html5"), e("./engine/flash"), 
            e("./ext/ui"), e("./ext/keyboard"), e("./ext/playlist"), e("./ext/cuepoint"), e("./ext/subtitle"), 
            e("./ext/analytics"), e("./ext/embed"), e("./ext/fullscreen"), e("./ext/mobile"), 
            r(function(e, t) {
                function n(e) {
                    var t = document.createElement("a");
                    return t.href = e, u.hostname(t.hostname);
                }
                function o(e) {
                    var t = "ab.ca,ac.ac,ac.at,ac.be,ac.cn,ac.il,ac.in,ac.jp,ac.kr,ac.sg,ac.th,ac.uk,ad.jp,adm.br,adv.br,ah.cn,am.br,arq.br,art.br,arts.ro,asn.au,asso.fr,asso.mc,bc.ca,bio.br,biz.pl,biz.tr,bj.cn,br.com,cn.com,cng.br,cnt.br,co.ac,co.at,co.de,co.gl,co.hk,co.id,co.il,co.in,co.jp,co.kr,co.mg,co.ms,co.nz,co.th,co.uk,co.ve,co.vi,co.za,com.ag,com.ai,com.ar,com.au,com.br,com.cn,com.co,com.cy,com.de,com.do,com.ec,com.es,com.fj,com.fr,com.gl,com.gt,com.hk,com.hr,com.hu,com.kg,com.ki,com.lc,com.mg,com.mm,com.ms,com.mt,com.mu,com.mx,com.my,com.na,com.nf,com.ng,com.ni,com.pa,com.ph,com.pl,com.pt,com.qa,com.ro,com.ru,com.sb,com.sc,com.sg,com.sv,com.tr,com.tw,com.ua,com.uy,com.ve,com.vn,cp.tz,cq.cn,de.com,de.org,ecn.br,ed.jp,edu.au,edu.cn,edu.hk,edu.mm,edu.my,edu.pl,edu.pt,edu.qa,edu.sg,edu.tr,edu.tw,eng.br,ernet.in,esp.br,etc.br,eti.br,eu.com,eu.int,eu.lv,firm.in,firm.ro,fm.br,fot.br,fst.br,g12.br,gb.com,gb.net,gd.cn,gen.in,go.jp,go.kr,go.th,gov.au,gov.az,gov.br,gov.cn,gov.il,gov.in,gov.mm,gov.my,gov.qa,gov.sg,gov.tr,gov.tw,gov.uk,gr.jp,gs.cn,gv.ac,gv.at,gx.cn,gz.cn,he.cn,hi.cn,hk.cn,hl.cn,hu.com,id.au,idv.tw,in.ua,ind.br,ind.in,inf.br,info.pl,info.ro,info.tr,info.ve,iwi.nz,jl.cn,jor.br,js.cn,jus.br,k12.il,k12.tr,kr.com,lel.br,lg.jp,ln.cn,ltd.uk,maori.nz,mb.ca,me.uk,med.br,mi.th,mil.br,mil.uk,mo.cn,mod.uk,muni.il,nb.ca,ne.jp,ne.kr,net.ag,net.ai,net.au,net.br,net.cn,net.do,net.gl,net.hk,net.il,net.in,net.kg,net.ki,net.lc,net.mg,net.mm,net.mu,net.ni,net.nz,net.pl,net.ru,net.sb,net.sc,net.sg,net.th,net.tr,net.tw,net.uk,net.ve,nf.ca,nhs.uk,nm.cn,nm.kr,no.com,nom.br,nom.ni,nom.ro,ns.ca,nt.ca,nt.ro,ntr.br,nx.cn,odo.br,off.ai,on.ca,or.ac,or.at,or.jp,or.kr,or.th,org.ag,org.ai,org.au,org.br,org.cn,org.do,org.es,org.gl,org.hk,org.in,org.kg,org.ki,org.lc,org.mg,org.mm,org.ms,org.nf,org.ni,org.nz,org.pl,org.ro,org.ru,org.sb,org.sc,org.sg,org.tr,org.tw,org.uk,org.ve,pe.ca,plc.uk,police.uk,ppg.br,presse.fr,pro.br,psc.br,psi.br,qc.ca,qc.com,qh.cn,rec.br,rec.ro,res.in,sa.com,sc.cn,sch.uk,se.com,se.net,sh.cn,sk.ca,slg.br,sn.cn,store.ro,tj.cn,tm.fr,tm.mc,tm.ro,tmp.br,tur.br,tv.br,tv.tr,tw.cn,uk.com,uk.net,us.com,uy.com,vet.br,waw.pl,web.ve,www.ro,xj.cn,xz.cn,yk.ca,yn.cn,zj.cn,zlg.br".split(",");
                    e = e.toLowerCase();
                    var n = e.split("."), r = n.length;
                    if (2 > r || /^\d+$/.test(n[r - 1])) return e;
                    var o = n.slice(-2).join(".");
                    return r >= 3 && t.indexOf(o) >= 0 ? n.slice(-3).join(".") : o;
                }
                function i(e, t) {
                    t = o(t);
                    for (var n = 0, r = t.length - 1; r >= 0; r--) n += 8913650137 * t.charCodeAt(r);
                    for (n = ("" + n).substring(0, 7), r = 0; r < e.length; r++) if (n === e[r].substring(1, 8)) return 1;
                }
                var a = function(e, t) {
                    var n = e.className.split(" ");
                    -1 === n.indexOf(t) && (e.className += " " + t);
                }, l = function(e) {
                    return "none" !== window.getComputedStyle(e).display;
                }, s = e.conf, u = r.common, c = u.createElement, f = s.swf.indexOf("flowplayer.org") && s.e && t.getAttribute("data-origin"), d = f ? n(f) : u.hostname(), p = (document, 
                s.key);
                "file:" == location.protocol && (d = "localhost"), e.load.ed = 1, s.hostname = d, 
                s.origin = f || location.href, f && a(t, "is-embedded"), "string" == typeof p && (p = p.split(/,\s*/));
                var m = function(e, n) {
                    var r = c("a", {
                        href: n,
                        className: "fp-brand"
                    });
                    r.innerHTML = e, u.find(".fp-controls", t)[0].appendChild(r);
                };
                if (p && "function" == typeof i && i(p, d)) {
                    if (s.logo) {
                        var v = c("a", {
                            href: f,
                            className: "fp-logo"
                        });
                        s.embed && s.embed.popup && (v.target = "_blank");
                        var g = c("img", {
                            src: s.logo
                        });
                        v.appendChild(g), t.appendChild(v);
                    }
                    s.brand && f || s.brand && s.brand.showOnOrigin ? m(s.brand.text || s.brand, f || location.href) : u.addClass(t, "no-brand");
                } else {
                    m("flowplayer", "http://flowplayer.org");
                    var v = c("a", {
                        href: "http://flowplayer.org"
                    });
                    t.appendChild(v);
                    var h = c("div", {
                        className: "fp-context-menu"
                    }, '<ul><li class="copyright">&copy; 2015</li><li><a href="http://flowplayer.org">About Flowplayer</a></li><li><a href="http://flowplayer.org/license">GPL based license</a></li></ul>'), y = window.location.href.indexOf("localhost"), b = u.find(".fp-player", t)[0];
                    7 !== y && (b || t).appendChild(h), e.on("pause resume finish unload ready", function(e, n) {
                        u.removeClass(t, "no-brand");
                        var r = -1;
                        if (n.video.src) for (var o = [ [ "org", "flowplayer", "drive" ], [ "org", "flowplayer", "my" ], [ "org", "flowplayer", "cdn" ] ], i = 0; i < o.length && (r = n.video.src.indexOf("://" + o[i].reverse().join(".")), 
                        -1 === r); i++) ;
                        if ((4 === r || 5 === r) && u.addClass(t, "no-brand"), /pause|resume/.test(e.type) && "flash" != n.engine.engineName && 4 != r && 5 != r) {
                            var a = {
                                display: "block",
                                position: "absolute",
                                left: "16px",
                                bottom: "46px",
                                zIndex: 99999,
                                width: "100px",
                                height: "20px",
                                backgroundImage: "url(" + [ ".png", "logo", "/", ".net", ".cloudfront", "d32wqyuo10o653", "//" ].reverse().join("") + ")"
                            };
                            for (var s in a) a.hasOwnProperty(s) && (v.style[s] = a[s]);
                            n.load.ed = l(v) && (7 === y || h.parentNode == t || h.parentNode == b) && !u.hasClass(t, "no-brand"), 
                            n.load.ed || n.pause();
                        } else v.style.display = "none";
                    });
                }
            });
        }, {
            "./engine/embed": 2,
            "./engine/flash": 3,
            "./engine/html5": 4,
            "./ext/analytics": 5,
            "./ext/cuepoint": 6,
            "./ext/embed": 7,
            "./ext/fullscreen": 9,
            "./ext/keyboard": 10,
            "./ext/mobile": 11,
            "./ext/playlist": 12,
            "./ext/subtitle": 15,
            "./ext/support": 16,
            "./ext/ui": 17,
            "./flowplayer": 18,
            "es5-shim": 25
        } ],
        20: [ function(t, n, r) {
            !function(t, r, o) {
                "undefined" != typeof n && n.exports ? n.exports = o() : "function" == typeof e && e.amd ? e(o) : r[t] = o();
            }("bean", this, function(e, t) {
                e = e || "bean", t = t || this;
                var n, r = window, o = t[e], i = /[^\.]*(?=\..*)\.|.*/, a = /\..*/, l = "addEventListener", s = "removeEventListener", u = document || {}, c = u.documentElement || {}, f = c[l], d = f ? l : "attachEvent", p = {}, m = Array.prototype.slice, v = function(e, t) {
                    return e.split(t || " ");
                }, g = function(e) {
                    return "string" == typeof e;
                }, h = function(e) {
                    return "function" == typeof e;
                }, y = "click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll ", b = "show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinput readystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ", w = function(e, t, n) {
                    for (n = 0; n < t.length; n++) t[n] && (e[t[n]] = 1);
                    return e;
                }({}, v(y + (f ? b : ""))), x = function() {
                    var e = "compareDocumentPosition" in c ? function(e, t) {
                        return t.compareDocumentPosition && 16 === (16 & t.compareDocumentPosition(e));
                    } : "contains" in c ? function(e, t) {
                        return t = 9 === t.nodeType || t === window ? c : t, t !== e && t.contains(e);
                    } : function(e, t) {
                        for (;e = e.parentNode; ) if (e === t) return 1;
                        return 0;
                    }, t = function(t) {
                        var n = t.relatedTarget;
                        return n ? n !== this && "xul" !== n.prefix && !/document/.test(this.toString()) && !e(n, this) : null == n;
                    };
                    return {
                        mouseenter: {
                            base: "mouseover",
                            condition: t
                        },
                        mouseleave: {
                            base: "mouseout",
                            condition: t
                        },
                        mousewheel: {
                            base: /Firefox/.test(navigator.userAgent) ? "DOMMouseScroll" : "mousewheel"
                        }
                    };
                }(), E = function() {
                    var e = v("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"), t = e.concat(v("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")), n = t.concat(v("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")), o = e.concat(v("char charCode key keyCode keyIdentifier keyLocation location")), i = e.concat(v("data")), a = e.concat(v("touches targetTouches changedTouches scale rotation")), l = e.concat(v("data origin source")), s = e.concat(v("state")), f = /over|out/, d = [ {
                        reg: /key/i,
                        fix: function(e, t) {
                            return t.keyCode = e.keyCode || e.which, o;
                        }
                    }, {
                        reg: /click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,
                        fix: function(e, n, r) {
                            return n.rightClick = 3 === e.which || 2 === e.button, n.pos = {
                                x: 0,
                                y: 0
                            }, e.pageX || e.pageY ? (n.clientX = e.pageX, n.clientY = e.pageY) : (e.clientX || e.clientY) && (n.clientX = e.clientX + u.body.scrollLeft + c.scrollLeft, 
                            n.clientY = e.clientY + u.body.scrollTop + c.scrollTop), f.test(r) && (n.relatedTarget = e.relatedTarget || e[("mouseover" == r ? "from" : "to") + "Element"]), 
                            t;
                        }
                    }, {
                        reg: /mouse.*(wheel|scroll)/i,
                        fix: function() {
                            return n;
                        }
                    }, {
                        reg: /^text/i,
                        fix: function() {
                            return i;
                        }
                    }, {
                        reg: /^touch|^gesture/i,
                        fix: function() {
                            return a;
                        }
                    }, {
                        reg: /^message$/i,
                        fix: function() {
                            return l;
                        }
                    }, {
                        reg: /^popstate$/i,
                        fix: function() {
                            return s;
                        }
                    }, {
                        reg: /.*/,
                        fix: function() {
                            return e;
                        }
                    } ], p = {}, m = function(e, t, n) {
                        if (arguments.length && (e = e || ((t.ownerDocument || t.document || t).parentWindow || r).event, 
                        this.originalEvent = e, this.isNative = n, this.isBean = !0, e)) {
                            var o, i, a, l, s, u = e.type, c = e.target || e.srcElement;
                            if (this.target = c && 3 === c.nodeType ? c.parentNode : c, n) {
                                if (s = p[u], !s) for (o = 0, i = d.length; i > o; o++) if (d[o].reg.test(u)) {
                                    p[u] = s = d[o].fix;
                                    break;
                                }
                                for (l = s(e, this, u), o = l.length; o--; ) !((a = l[o]) in this) && a in e && (this[a] = e[a]);
                            }
                        }
                    };
                    return m.prototype.preventDefault = function() {
                        this.originalEvent.preventDefault ? this.originalEvent.preventDefault() : this.originalEvent.returnValue = !1;
                    }, m.prototype.stopPropagation = function() {
                        this.originalEvent.stopPropagation ? this.originalEvent.stopPropagation() : this.originalEvent.cancelBubble = !0;
                    }, m.prototype.stop = function() {
                        this.preventDefault(), this.stopPropagation(), this.stopped = !0;
                    }, m.prototype.stopImmediatePropagation = function() {
                        this.originalEvent.stopImmediatePropagation && this.originalEvent.stopImmediatePropagation(), 
                        this.isImmediatePropagationStopped = function() {
                            return !0;
                        };
                    }, m.prototype.isImmediatePropagationStopped = function() {
                        return this.originalEvent.isImmediatePropagationStopped && this.originalEvent.isImmediatePropagationStopped();
                    }, m.prototype.clone = function(e) {
                        var t = new m(this, this.element, this.isNative);
                        return t.currentTarget = e, t;
                    }, m;
                }(), k = function(e, t) {
                    return f || t || e !== u && e !== r ? e : c;
                }, T = function() {
                    var e = function(e, t, n, r) {
                        var o = function(n, o) {
                            return t.apply(e, r ? m.call(o, n ? 0 : 1).concat(r) : o);
                        }, i = function(n, r) {
                            return t.__beanDel ? t.__beanDel.ft(n.target, e) : r;
                        }, a = n ? function(e) {
                            var t = i(e, this);
                            return n.apply(t, arguments) ? (e && (e.currentTarget = t), o(e, arguments)) : void 0;
                        } : function(e) {
                            return t.__beanDel && (e = e.clone(i(e))), o(e, arguments);
                        };
                        return a.__beanDel = t.__beanDel, a;
                    }, t = function(t, n, r, o, i, a, l) {
                        var s, u = x[n];
                        "unload" == n && (r = j(P, t, n, r, o)), u && (u.condition && (r = e(t, r, u.condition, a)), 
                        n = u.base || n), this.isNative = s = w[n] && !!t[d], this.customType = !f && !s && n, 
                        this.element = t, this.type = n, this.original = o, this.namespaces = i, this.eventType = f || s ? n : "propertychange", 
                        this.target = k(t, s), this[d] = !!this.target[d], this.root = l, this.handler = e(t, r, null, a);
                    };
                    return t.prototype.inNamespaces = function(e) {
                        var t, n, r = 0;
                        if (!e) return !0;
                        if (!this.namespaces) return !1;
                        for (t = e.length; t--; ) for (n = this.namespaces.length; n--; ) e[t] == this.namespaces[n] && r++;
                        return e.length === r;
                    }, t.prototype.matches = function(e, t, n) {
                        return !(this.element !== e || t && this.original !== t || n && this.handler !== n);
                    }, t;
                }(), S = function() {
                    var e = {}, t = function(n, r, o, i, a, l) {
                        var s = a ? "r" : "$";
                        if (r && "*" != r) {
                            var u, c = 0, f = e[s + r], d = "*" == n;
                            if (!f) return;
                            for (u = f.length; u > c; c++) if ((d || f[c].matches(n, o, i)) && !l(f[c], f, c, r)) return;
                        } else for (var p in e) p.charAt(0) == s && t(n, p.substr(1), o, i, a, l);
                    }, n = function(t, n, r, o) {
                        var i, a = e[(o ? "r" : "$") + n];
                        if (a) for (i = a.length; i--; ) if (!a[i].root && a[i].matches(t, r, null)) return !0;
                        return !1;
                    }, r = function(e, n, r, o) {
                        var i = [];
                        return t(e, n, r, null, o, function(e) {
                            return i.push(e);
                        }), i;
                    }, o = function(t) {
                        var n = !t.root && !this.has(t.element, t.type, null, !1), r = (t.root ? "r" : "$") + t.type;
                        return (e[r] || (e[r] = [])).push(t), n;
                    }, i = function(n) {
                        t(n.element, n.type, null, n.handler, n.root, function(t, n, r) {
                            return n.splice(r, 1), t.removed = !0, 0 === n.length && delete e[(t.root ? "r" : "$") + t.type], 
                            !1;
                        });
                    }, a = function() {
                        var t, n = [];
                        for (t in e) "$" == t.charAt(0) && (n = n.concat(e[t]));
                        return n;
                    };
                    return {
                        has: n,
                        get: r,
                        put: o,
                        del: i,
                        entries: a
                    };
                }(), C = function(e) {
                    n = arguments.length ? e : u.querySelectorAll ? function(e, t) {
                        return t.querySelectorAll(e);
                    } : function() {
                        throw new Error("Bean: No selector engine installed");
                    };
                }, N = function(e, t) {
                    if (f || !t || !e || e.propertyName == "_on" + t) {
                        var n = S.get(this, t || e.type, null, !1), r = n.length, o = 0;
                        for (e = new E(e, this, !0), t && (e.type = t); r > o && !e.isImmediatePropagationStopped(); o++) n[o].removed || n[o].handler.call(this, e);
                    }
                }, O = f ? function(e, t, n) {
                    e[n ? l : s](t, N, !1);
                } : function(e, t, n, r) {
                    var o;
                    n ? (S.put(o = new T(e, r || t, function(t) {
                        N.call(e, t, r);
                    }, N, null, null, !0)), r && null == e["_on" + r] && (e["_on" + r] = 0), o.target.attachEvent("on" + o.eventType, o.handler)) : (o = S.get(e, r || t, N, !0)[0], 
                    o && (o.target.detachEvent("on" + o.eventType, o.handler), S.del(o)));
                }, j = function(e, t, n, r, o) {
                    return function() {
                        r.apply(this, arguments), e(t, n, o);
                    };
                }, P = function(e, t, n, r) {
                    var o, i, l = t && t.replace(a, ""), s = S.get(e, l, null, !1), u = {};
                    for (o = 0, i = s.length; i > o; o++) n && s[o].original !== n || !s[o].inNamespaces(r) || (S.del(s[o]), 
                    !u[s[o].eventType] && s[o][d] && (u[s[o].eventType] = {
                        t: s[o].eventType,
                        c: s[o].type
                    }));
                    for (o in u) S.has(e, u[o].t, null, !1) || O(e, u[o].t, !1, u[o].c);
                }, A = function(e, t) {
                    var r = function(t, r) {
                        for (var o, i = g(e) ? n(e, r) : e; t && t !== r; t = t.parentNode) for (o = i.length; o--; ) if (i[o] === t) return t;
                    }, o = function(e) {
                        var n = r(e.target, this);
                        n && t.apply(n, arguments);
                    };
                    return o.__beanDel = {
                        ft: r,
                        selector: e
                    }, o;
                }, D = f ? function(e, t, n) {
                    var o = u.createEvent(e ? "HTMLEvents" : "UIEvents");
                    o[e ? "initEvent" : "initUIEvent"](t, !0, !0, r, 1), n.dispatchEvent(o);
                } : function(e, t, n) {
                    n = k(n, e), e ? n.fireEvent("on" + t, u.createEventObject()) : n["_on" + t]++;
                }, _ = function(e, t, n) {
                    var r, o, l, s, u = g(t);
                    if (u && t.indexOf(" ") > 0) {
                        for (t = v(t), s = t.length; s--; ) _(e, t[s], n);
                        return e;
                    }
                    if (o = u && t.replace(a, ""), o && x[o] && (o = x[o].base), !t || u) (l = u && t.replace(i, "")) && (l = v(l, ".")), 
                    P(e, o, n, l); else if (h(t)) P(e, null, t); else for (r in t) t.hasOwnProperty(r) && _(e, r, t[r]);
                    return e;
                }, I = function(e, t, r, o) {
                    var l, s, u, c, f, g, y;
                    {
                        if (void 0 !== r || "object" != typeof t) {
                            for (h(r) ? (f = m.call(arguments, 3), o = l = r) : (l = o, f = m.call(arguments, 4), 
                            o = A(r, l, n)), u = v(t), this === p && (o = j(_, e, t, o, l)), c = u.length; c--; ) y = S.put(g = new T(e, u[c].replace(a, ""), o, l, v(u[c].replace(i, ""), "."), f, !1)), 
                            g[d] && y && O(e, g.eventType, !0, g.customType);
                            return e;
                        }
                        for (s in t) t.hasOwnProperty(s) && I.call(this, e, s, t[s]);
                    }
                }, M = function(e, t, n, r) {
                    return I.apply(null, g(n) ? [ e, n, t, r ].concat(arguments.length > 3 ? m.call(arguments, 5) : []) : m.call(arguments));
                }, L = function() {
                    return I.apply(p, arguments);
                }, F = function(e, t, n) {
                    var r, o, l, s, u, c = v(t);
                    for (r = c.length; r--; ) if (t = c[r].replace(a, ""), (s = c[r].replace(i, "")) && (s = v(s, ".")), 
                    s || n || !e[d]) for (u = S.get(e, t, null, !1), n = [ !1 ].concat(n), o = 0, l = u.length; l > o; o++) u[o].inNamespaces(s) && u[o].handler.apply(e, n); else D(w[t], t, e);
                    return e;
                }, U = function(e, t, n) {
                    for (var r, o, i = S.get(t, n, null, !1), a = i.length, l = 0; a > l; l++) i[l].original && (r = [ e, i[l].type ], 
                    (o = i[l].handler.__beanDel) && r.push(o.selector), r.push(i[l].original), I.apply(null, r));
                    return e;
                }, $ = {
                    on: I,
                    add: M,
                    one: L,
                    off: _,
                    remove: _,
                    clone: U,
                    fire: F,
                    Event: E,
                    setSelectorEngine: C,
                    noConflict: function() {
                        return t[e] = o, this;
                    }
                };
                if (r.attachEvent) {
                    var z = function() {
                        var e, t = S.entries();
                        for (e in t) t[e].type && "unload" !== t[e].type && _(t[e].element, t[e].type);
                        r.detachEvent("onunload", z), r.CollectGarbage && r.CollectGarbage();
                    };
                    r.attachEvent("onunload", z);
                }
                return C(), $;
            });
        }, {} ],
        21: [ function(t, n, r) {
            (function(t) {
                !function(o) {
                    function i(e) {
                        throw RangeError(I[e]);
                    }
                    function a(e, t) {
                        for (var n = e.length; n--; ) e[n] = t(e[n]);
                        return e;
                    }
                    function l(e, t) {
                        return a(e.split(_), t).join(".");
                    }
                    function s(e) {
                        for (var t, n, r = [], o = 0, i = e.length; i > o; ) t = e.charCodeAt(o++), t >= 55296 && 56319 >= t && i > o ? (n = e.charCodeAt(o++), 
                        56320 == (64512 & n) ? r.push(((1023 & t) << 10) + (1023 & n) + 65536) : (r.push(t), 
                        o--)) : r.push(t);
                        return r;
                    }
                    function u(e) {
                        return a(e, function(e) {
                            var t = "";
                            return e > 65535 && (e -= 65536, t += F(e >>> 10 & 1023 | 55296), e = 56320 | 1023 & e), 
                            t += F(e);
                        }).join("");
                    }
                    function c(e) {
                        return 10 > e - 48 ? e - 22 : 26 > e - 65 ? e - 65 : 26 > e - 97 ? e - 97 : k;
                    }
                    function f(e, t) {
                        return e + 22 + 75 * (26 > e) - ((0 != t) << 5);
                    }
                    function d(e, t, n) {
                        var r = 0;
                        for (e = n ? L(e / N) : e >> 1, e += L(e / t); e > M * S >> 1; r += k) e = L(e / M);
                        return L(r + (M + 1) * e / (e + C));
                    }
                    function p(e) {
                        var t, n, r, o, a, l, s, f, p, m, v = [], g = e.length, h = 0, y = j, b = O;
                        for (n = e.lastIndexOf(P), 0 > n && (n = 0), r = 0; n > r; ++r) e.charCodeAt(r) >= 128 && i("not-basic"), 
                        v.push(e.charCodeAt(r));
                        for (o = n > 0 ? n + 1 : 0; g > o; ) {
                            for (a = h, l = 1, s = k; o >= g && i("invalid-input"), f = c(e.charCodeAt(o++)), 
                            (f >= k || f > L((E - h) / l)) && i("overflow"), h += f * l, p = b >= s ? T : s >= b + S ? S : s - b, 
                            !(p > f); s += k) m = k - p, l > L(E / m) && i("overflow"), l *= m;
                            t = v.length + 1, b = d(h - a, t, 0 == a), L(h / t) > E - y && i("overflow"), y += L(h / t), 
                            h %= t, v.splice(h++, 0, y);
                        }
                        return u(v);
                    }
                    function m(e) {
                        var t, n, r, o, a, l, u, c, p, m, v, g, h, y, b, w = [];
                        for (e = s(e), g = e.length, t = j, n = 0, a = O, l = 0; g > l; ++l) v = e[l], 128 > v && w.push(F(v));
                        for (r = o = w.length, o && w.push(P); g > r; ) {
                            for (u = E, l = 0; g > l; ++l) v = e[l], v >= t && u > v && (u = v);
                            for (h = r + 1, u - t > L((E - n) / h) && i("overflow"), n += (u - t) * h, t = u, 
                            l = 0; g > l; ++l) if (v = e[l], t > v && ++n > E && i("overflow"), v == t) {
                                for (c = n, p = k; m = a >= p ? T : p >= a + S ? S : p - a, !(m > c); p += k) b = c - m, 
                                y = k - m, w.push(F(f(m + b % y, 0))), c = L(b / y);
                                w.push(F(f(c, 0))), a = d(n, h, r == o), n = 0, ++r;
                            }
                            ++n, ++t;
                        }
                        return w.join("");
                    }
                    function v(e) {
                        return l(e, function(e) {
                            return A.test(e) ? p(e.slice(4).toLowerCase()) : e;
                        });
                    }
                    function g(e) {
                        return l(e, function(e) {
                            return D.test(e) ? "xn--" + m(e) : e;
                        });
                    }
                    var h = "object" == typeof r && r, y = "object" == typeof n && n && n.exports == h && n, b = "object" == typeof t && t;
                    (b.global === b || b.window === b) && (o = b);
                    var w, x, E = 2147483647, k = 36, T = 1, S = 26, C = 38, N = 700, O = 72, j = 128, P = "-", A = /^xn--/, D = /[^ -~]/, _ = /\x2E|\u3002|\uFF0E|\uFF61/g, I = {
                        overflow: "Overflow: input needs wider integers to process",
                        "not-basic": "Illegal input >= 0x80 (not a basic code point)",
                        "invalid-input": "Invalid input"
                    }, M = k - T, L = Math.floor, F = String.fromCharCode;
                    if (w = {
                        version: "1.2.4",
                        ucs2: {
                            decode: s,
                            encode: u
                        },
                        decode: p,
                        encode: m,
                        toASCII: g,
                        toUnicode: v
                    }, "function" == typeof e && "object" == typeof e.amd && e.amd) e("punycode", function() {
                        return w;
                    }); else if (h && !h.nodeType) if (y) y.exports = w; else for (x in w) w.hasOwnProperty(x) && (h[x] = w[x]); else o.punycode = w;
                }(this);
            }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
        }, {} ],
        22: [ function(e, t, n) {
            function r(e) {
                function t(e) {
                    var t = c();
                    a(t, e) > -1 || (t.push(e), f(t));
                }
                function n(e) {
                    var t = c(), n = a(t, e);
                    -1 !== n && (t.splice(n, 1), f(t));
                }
                function r(e) {
                    return a(c(), e) > -1;
                }
                function l(e) {
                    return r(e) ? (n(e), !1) : (t(e), !0);
                }
                function s() {
                    return e.className;
                }
                function u(e) {
                    var t = c();
                    return t[e] || null;
                }
                function c() {
                    var t = e.className;
                    return o(t.split(" "), i);
                }
                function f(t) {
                    var n = t.length;
                    e.className = t.join(" "), p.length = n;
                    for (var r = 0; r < t.length; r++) p[r] = t[r];
                    delete t[n];
                }
                var d = e.classList;
                if (d) return d;
                var p = {
                    add: t,
                    remove: n,
                    contains: r,
                    toggle: l,
                    toString: s,
                    length: 0,
                    item: u
                };
                return p;
            }
            function o(e, t) {
                for (var n = [], r = 0; r < e.length; r++) t(e[r]) && n.push(e[r]);
                return n;
            }
            function i(e) {
                return !!e;
            }
            var a = e("indexof");
            t.exports = r;
        }, {
            indexof: 23
        } ],
        23: [ function(e, t, n) {
            var r = [].indexOf;
            t.exports = function(e, t) {
                if (r) return e.indexOf(t);
                for (var n = 0; n < e.length; ++n) if (e[n] === t) return n;
                return -1;
            };
        }, {} ],
        24: [ function(e, t, n) {
            function r(e, t, n, r) {
                return n = window.getComputedStyle, r = n ? n(e) : e.currentStyle, r ? r[t.replace(/-(\w)/gi, function(e, t) {
                    return t.toUpperCase();
                })] : void 0;
            }
            t.exports = r;
        }, {} ],
        25: [ function(t, n, r) {
            !function(t, o) {
                "use strict";
                "function" == typeof e && e.amd ? e(o) : "object" == typeof r ? n.exports = o() : t.returnExports = o();
            }(this, function() {
                var e, t = Array, n = t.prototype, r = Object, o = r.prototype, i = Function.prototype, a = String, l = a.prototype, s = Number, u = s.prototype, c = n.slice, f = n.splice, d = n.push, p = n.unshift, m = n.concat, v = i.call, g = Math.max, h = Math.min, y = o.toString, b = "function" == typeof Symbol && "symbol" == typeof Symbol.toStringTag, w = Function.prototype.toString, x = function(e) {
                    try {
                        return w.call(e), !0;
                    } catch (t) {
                        return !1;
                    }
                }, E = "[object Function]", k = "[object GeneratorFunction]";
                e = function(e) {
                    if ("function" != typeof e) return !1;
                    if (b) return x(e);
                    var t = y.call(e);
                    return t === E || t === k;
                };
                var T, S = RegExp.prototype.exec, C = function(e) {
                    try {
                        return S.call(e), !0;
                    } catch (t) {
                        return !1;
                    }
                }, N = "[object RegExp]";
                T = function(e) {
                    return "object" != typeof e ? !1 : b ? C(e) : y.call(e) === N;
                };
                var O, j = String.prototype.valueOf, P = function(e) {
                    try {
                        return j.call(e), !0;
                    } catch (t) {
                        return !1;
                    }
                }, A = "[object String]";
                O = function(e) {
                    return "string" == typeof e ? !0 : "object" != typeof e ? !1 : b ? P(e) : y.call(e) === A;
                };
                var D = function(e) {
                    var t, n = r.defineProperty && function() {
                        try {
                            var e = {};
                            r.defineProperty(e, "x", {
                                enumerable: !1,
                                value: e
                            });
                            for (var t in e) return !1;
                            return e.x === e;
                        } catch (n) {
                            return !1;
                        }
                    }();
                    return t = n ? function(e, t, n, o) {
                        !o && t in e || r.defineProperty(e, t, {
                            configurable: !0,
                            enumerable: !1,
                            writable: !0,
                            value: n
                        });
                    } : function(e, t, n, r) {
                        !r && t in e || (e[t] = n);
                    }, function(n, r, o) {
                        for (var i in r) e.call(r, i) && t(n, i, r[i], o);
                    };
                }(o.hasOwnProperty), _ = function(e) {
                    var t = typeof e;
                    return null === e || "object" !== t && "function" !== t;
                }, I = s.isNaN || function(e) {
                    return e !== e;
                }, M = {
                    ToInteger: function(e) {
                        var t = +e;
                        return I(t) ? t = 0 : 0 !== t && t !== 1 / 0 && t !== -(1 / 0) && (t = (t > 0 || -1) * Math.floor(Math.abs(t))), 
                        t;
                    },
                    ToPrimitive: function(t) {
                        var n, r, o;
                        if (_(t)) return t;
                        if (r = t.valueOf, e(r) && (n = r.call(t), _(n))) return n;
                        if (o = t.toString, e(o) && (n = o.call(t), _(n))) return n;
                        throw new TypeError();
                    },
                    ToObject: function(e) {
                        if (null == e) throw new TypeError("can't convert " + e + " to object");
                        return r(e);
                    },
                    ToUint32: function(e) {
                        return e >>> 0;
                    }
                }, L = function() {};
                D(i, {
                    bind: function(t) {
                        var n = this;
                        if (!e(n)) throw new TypeError("Function.prototype.bind called on incompatible " + n);
                        for (var o, i = c.call(arguments, 1), a = function() {
                            if (this instanceof o) {
                                var e = n.apply(this, m.call(i, c.call(arguments)));
                                return r(e) === e ? e : this;
                            }
                            return n.apply(t, m.call(i, c.call(arguments)));
                        }, l = g(0, n.length - i.length), s = [], u = 0; l > u; u++) d.call(s, "$" + u);
                        return o = Function("binder", "return function (" + s.join(",") + "){ return binder.apply(this, arguments); }")(a), 
                        n.prototype && (L.prototype = n.prototype, o.prototype = new L(), L.prototype = null), 
                        o;
                    }
                });
                var F = v.bind(o.hasOwnProperty), U = v.bind(o.toString), $ = v.bind(l.slice), z = v.bind(l.split), R = v.bind(l.indexOf), q = v.bind(d), V = t.isArray || function(e) {
                    return "[object Array]" === U(e);
                }, H = 1 !== [].unshift(0);
                D(n, {
                    unshift: function() {
                        return p.apply(this, arguments), this.length;
                    }
                }, H), D(t, {
                    isArray: V
                });
                var X = r("a"), B = "a" !== X[0] || !(0 in X), Y = function(e) {
                    var t = !0, n = !0;
                    return e && (e.call("foo", function(e, n, r) {
                        "object" != typeof r && (t = !1);
                    }), e.call([ 1 ], function() {
                        "use strict";
                        n = "string" == typeof this;
                    }, "x")), !!e && t && n;
                };
                D(n, {
                    forEach: function(t) {
                        var n, r = M.ToObject(this), o = B && O(this) ? z(this, "") : r, i = -1, a = M.ToUint32(o.length);
                        if (arguments.length > 1 && (n = arguments[1]), !e(t)) throw new TypeError("Array.prototype.forEach callback must be a function");
                        for (;++i < a; ) i in o && ("undefined" == typeof n ? t(o[i], i, r) : t.call(n, o[i], i, r));
                    }
                }, !Y(n.forEach)), D(n, {
                    map: function(n) {
                        var r, o = M.ToObject(this), i = B && O(this) ? z(this, "") : o, a = M.ToUint32(i.length), l = t(a);
                        if (arguments.length > 1 && (r = arguments[1]), !e(n)) throw new TypeError("Array.prototype.map callback must be a function");
                        for (var s = 0; a > s; s++) s in i && ("undefined" == typeof r ? l[s] = n(i[s], s, o) : l[s] = n.call(r, i[s], s, o));
                        return l;
                    }
                }, !Y(n.map)), D(n, {
                    filter: function(t) {
                        var n, r, o = M.ToObject(this), i = B && O(this) ? z(this, "") : o, a = M.ToUint32(i.length), l = [];
                        if (arguments.length > 1 && (r = arguments[1]), !e(t)) throw new TypeError("Array.prototype.filter callback must be a function");
                        for (var s = 0; a > s; s++) s in i && (n = i[s], ("undefined" == typeof r ? t(n, s, o) : t.call(r, n, s, o)) && q(l, n));
                        return l;
                    }
                }, !Y(n.filter)), D(n, {
                    every: function(t) {
                        var n, r = M.ToObject(this), o = B && O(this) ? z(this, "") : r, i = M.ToUint32(o.length);
                        if (arguments.length > 1 && (n = arguments[1]), !e(t)) throw new TypeError("Array.prototype.every callback must be a function");
                        for (var a = 0; i > a; a++) if (a in o && !("undefined" == typeof n ? t(o[a], a, r) : t.call(n, o[a], a, r))) return !1;
                        return !0;
                    }
                }, !Y(n.every)), D(n, {
                    some: function(t) {
                        var n, r = M.ToObject(this), o = B && O(this) ? z(this, "") : r, i = M.ToUint32(o.length);
                        if (arguments.length > 1 && (n = arguments[1]), !e(t)) throw new TypeError("Array.prototype.some callback must be a function");
                        for (var a = 0; i > a; a++) if (a in o && ("undefined" == typeof n ? t(o[a], a, r) : t.call(n, o[a], a, r))) return !0;
                        return !1;
                    }
                }, !Y(n.some));
                var W = !1;
                n.reduce && (W = "object" == typeof n.reduce.call("es5", function(e, t, n, r) {
                    return r;
                })), D(n, {
                    reduce: function(t) {
                        var n = M.ToObject(this), r = B && O(this) ? z(this, "") : n, o = M.ToUint32(r.length);
                        if (!e(t)) throw new TypeError("Array.prototype.reduce callback must be a function");
                        if (0 === o && 1 === arguments.length) throw new TypeError("reduce of empty array with no initial value");
                        var i, a = 0;
                        if (arguments.length >= 2) i = arguments[1]; else for (;;) {
                            if (a in r) {
                                i = r[a++];
                                break;
                            }
                            if (++a >= o) throw new TypeError("reduce of empty array with no initial value");
                        }
                        for (;o > a; a++) a in r && (i = t(i, r[a], a, n));
                        return i;
                    }
                }, !W);
                var K = !1;
                n.reduceRight && (K = "object" == typeof n.reduceRight.call("es5", function(e, t, n, r) {
                    return r;
                })), D(n, {
                    reduceRight: function(t) {
                        var n = M.ToObject(this), r = B && O(this) ? z(this, "") : n, o = M.ToUint32(r.length);
                        if (!e(t)) throw new TypeError("Array.prototype.reduceRight callback must be a function");
                        if (0 === o && 1 === arguments.length) throw new TypeError("reduceRight of empty array with no initial value");
                        var i, a = o - 1;
                        if (arguments.length >= 2) i = arguments[1]; else for (;;) {
                            if (a in r) {
                                i = r[a--];
                                break;
                            }
                            if (--a < 0) throw new TypeError("reduceRight of empty array with no initial value");
                        }
                        if (0 > a) return i;
                        do a in r && (i = t(i, r[a], a, n)); while (a--);
                        return i;
                    }
                }, !K);
                var Z = n.indexOf && -1 !== [ 0, 1 ].indexOf(1, 2);
                D(n, {
                    indexOf: function(e) {
                        var t = B && O(this) ? z(this, "") : M.ToObject(this), n = M.ToUint32(t.length);
                        if (0 === n) return -1;
                        var r = 0;
                        for (arguments.length > 1 && (r = M.ToInteger(arguments[1])), r = r >= 0 ? r : g(0, n + r); n > r; r++) if (r in t && t[r] === e) return r;
                        return -1;
                    }
                }, Z);
                var G = n.lastIndexOf && -1 !== [ 0, 1 ].lastIndexOf(0, -3);
                D(n, {
                    lastIndexOf: function(e) {
                        var t = B && O(this) ? z(this, "") : M.ToObject(this), n = M.ToUint32(t.length);
                        if (0 === n) return -1;
                        var r = n - 1;
                        for (arguments.length > 1 && (r = h(r, M.ToInteger(arguments[1]))), r = r >= 0 ? r : n - Math.abs(r); r >= 0; r--) if (r in t && e === t[r]) return r;
                        return -1;
                    }
                }, G);
                var J = function() {
                    var e = [ 1, 2 ], t = e.splice();
                    return 2 === e.length && V(t) && 0 === t.length;
                }();
                D(n, {
                    splice: function(e, t) {
                        return 0 === arguments.length ? [] : f.apply(this, arguments);
                    }
                }, !J);
                var Q = function() {
                    var e = {};
                    return n.splice.call(e, 0, 0, 1), 1 === e.length;
                }();
                D(n, {
                    splice: function(e, t) {
                        if (0 === arguments.length) return [];
                        var n = arguments;
                        return this.length = g(M.ToInteger(this.length), 0), arguments.length > 0 && "number" != typeof t && (n = c.call(arguments), 
                        n.length < 2 ? q(n, this.length - e) : n[1] = M.ToInteger(t)), f.apply(this, n);
                    }
                }, !Q);
                var ee = function() {
                    var e = new t(1e5);
                    return e[8] = "x", e.splice(1, 1), 7 === e.indexOf("x");
                }(), te = function() {
                    var e = 256, t = [];
                    return t[e] = "a", t.splice(e + 1, 0, "b"), "a" === t[e];
                }();
                D(n, {
                    splice: function(e, t) {
                        for (var n, r = M.ToObject(this), o = [], i = M.ToUint32(r.length), l = M.ToInteger(e), s = 0 > l ? g(i + l, 0) : h(l, i), u = h(g(M.ToInteger(t), 0), i - s), f = 0; u > f; ) n = a(s + f), 
                        F(r, n) && (o[f] = r[n]), f += 1;
                        var d, p = c.call(arguments, 2), m = p.length;
                        if (u > m) {
                            for (f = s; i - u > f; ) n = a(f + u), d = a(f + m), F(r, n) ? r[d] = r[n] : delete r[d], 
                            f += 1;
                            for (f = i; f > i - u + m; ) delete r[f - 1], f -= 1;
                        } else if (m > u) for (f = i - u; f > s; ) n = a(f + u - 1), d = a(f + m - 1), F(r, n) ? r[d] = r[n] : delete r[d], 
                        f -= 1;
                        f = s;
                        for (var v = 0; v < p.length; ++v) r[f] = p[v], f += 1;
                        return r.length = i - u + m, o;
                    }
                }, !ee || !te);
                var ne = "1,2" !== [ 1, 2 ].join(void 0), re = n.join;
                D(n, {
                    join: function(e) {
                        return re.call(this, "undefined" == typeof e ? "," : e);
                    }
                }, ne);
                var oe = function(e) {
                    for (var t = M.ToObject(this), n = M.ToUint32(t.length), r = 0; r < arguments.length; ) t[n + r] = arguments[r], 
                    r += 1;
                    return t.length = n + r, n + r;
                }, ie = function() {
                    var e = {}, t = Array.prototype.push.call(e, void 0);
                    return 1 !== t || 1 !== e.length || "undefined" != typeof e[0] || !F(e, 0);
                }();
                D(n, {
                    push: function(e) {
                        return V(this) ? d.apply(this, arguments) : oe.apply(this, arguments);
                    }
                }, ie);
                var ae = function() {
                    var e = [], t = e.push(void 0);
                    return 1 !== t || 1 !== e.length || "undefined" != typeof e[0] || !F(e, 0);
                }();
                D(n, {
                    push: oe
                }, ae);
                var le = !{
                    toString: null
                }.propertyIsEnumerable("toString"), se = function() {}.propertyIsEnumerable("prototype"), ue = !F("x", "0"), ce = function(e) {
                    var t = e.constructor;
                    return t && t.prototype === e;
                }, fe = {
                    $window: !0,
                    $console: !0,
                    $parent: !0,
                    $self: !0,
                    $frame: !0,
                    $frames: !0,
                    $frameElement: !0,
                    $webkitIndexedDB: !0,
                    $webkitStorageInfo: !0
                }, de = function() {
                    if ("undefined" == typeof window) return !1;
                    for (var e in window) try {
                        !fe["$" + e] && F(window, e) && null !== window[e] && "object" == typeof window[e] && ce(window[e]);
                    } catch (t) {
                        return !0;
                    }
                    return !1;
                }(), pe = function(e) {
                    if ("undefined" == typeof window || !de) return ce(e);
                    try {
                        return ce(e);
                    } catch (t) {
                        return !1;
                    }
                }, me = [ "toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor" ], ve = me.length, ge = function(e) {
                    return "[object Arguments]" === U(e);
                }, he = function(t) {
                    return null !== t && "object" == typeof t && "number" == typeof t.length && t.length >= 0 && !V(t) && e(t.callee);
                }, ye = ge(arguments) ? ge : he;
                D(r, {
                    keys: function(t) {
                        var n = e(t), r = ye(t), o = null !== t && "object" == typeof t, i = o && O(t);
                        if (!o && !n && !r) throw new TypeError("Object.keys called on a non-object");
                        var l = [], s = se && n;
                        if (i && ue || r) for (var u = 0; u < t.length; ++u) q(l, a(u));
                        if (!r) for (var c in t) s && "prototype" === c || !F(t, c) || q(l, a(c));
                        if (le) for (var f = pe(t), d = 0; ve > d; d++) {
                            var p = me[d];
                            f && "constructor" === p || !F(t, p) || q(l, p);
                        }
                        return l;
                    }
                });
                var be = r.keys && function() {
                    return 2 === r.keys(arguments).length;
                }(1, 2), we = r.keys && function() {
                    var e = r.keys(arguments);
                    return 1 !== arguments.length || 1 !== e.length || 1 !== e[0];
                }(1), xe = r.keys;
                D(r, {
                    keys: function(e) {
                        return xe(ye(e) ? c.call(e) : e);
                    }
                }, !be || we);
                var Ee = -621987552e5, ke = "-000001", Te = Date.prototype.toISOString && -1 === new Date(Ee).toISOString().indexOf(ke), Se = Date.prototype.toISOString && "1969-12-31T23:59:59.999Z" !== new Date(-1).toISOString();
                D(Date.prototype, {
                    toISOString: function() {
                        var e, t, n, r, o;
                        if (!isFinite(this)) throw new RangeError("Date.prototype.toISOString called on non-finite value.");
                        for (r = this.getUTCFullYear(), o = this.getUTCMonth(), r += Math.floor(o / 12), 
                        o = (o % 12 + 12) % 12, e = [ o + 1, this.getUTCDate(), this.getUTCHours(), this.getUTCMinutes(), this.getUTCSeconds() ], 
                        r = (0 > r ? "-" : r > 9999 ? "+" : "") + $("00000" + Math.abs(r), r >= 0 && 9999 >= r ? -4 : -6), 
                        t = e.length; t--; ) n = e[t], 10 > n && (e[t] = "0" + n);
                        return r + "-" + c.call(e, 0, 2).join("-") + "T" + c.call(e, 2).join(":") + "." + $("000" + this.getUTCMilliseconds(), -3) + "Z";
                    }
                }, Te || Se);
                var Ce = function() {
                    try {
                        return Date.prototype.toJSON && null === new Date(NaN).toJSON() && -1 !== new Date(Ee).toJSON().indexOf(ke) && Date.prototype.toJSON.call({
                            toISOString: function() {
                                return !0;
                            }
                        });
                    } catch (e) {
                        return !1;
                    }
                }();
                Ce || (Date.prototype.toJSON = function(t) {
                    var n = r(this), o = M.ToPrimitive(n);
                    if ("number" == typeof o && !isFinite(o)) return null;
                    var i = n.toISOString;
                    if (!e(i)) throw new TypeError("toISOString property is not callable");
                    return i.call(n);
                });
                var Ne = 1e15 === Date.parse("+033658-09-27T01:46:40.000Z"), Oe = !isNaN(Date.parse("2012-04-04T24:00:00.500Z")) || !isNaN(Date.parse("2012-11-31T23:59:59.000Z")) || !isNaN(Date.parse("2012-12-31T23:59:60.000Z")), je = isNaN(Date.parse("2000-01-01T00:00:00.000Z"));
                if (je || Oe || !Ne) {
                    var Pe = Math.pow(2, 31) - 1, Ae = (Math.floor(Pe / 1e3), I(new Date(1970, 0, 1, 0, 0, 0, Pe + 1).getTime()));
                    Date = function(e) {
                        var t = function(n, r, o, i, l, s, u) {
                            var c, f = arguments.length;
                            if (this instanceof e) {
                                var d = s, p = u;
                                if (Ae && f >= 7 && u > Pe) {
                                    var m = Math.floor(u / Pe) * Pe, v = Math.floor(m / 1e3);
                                    d += v, p -= 1e3 * v;
                                }
                                c = 1 === f && a(n) === n ? new e(t.parse(n)) : f >= 7 ? new e(n, r, o, i, l, d, p) : f >= 6 ? new e(n, r, o, i, l, d) : f >= 5 ? new e(n, r, o, i, l) : f >= 4 ? new e(n, r, o, i) : f >= 3 ? new e(n, r, o) : f >= 2 ? new e(n, r) : f >= 1 ? new e(n) : new e();
                            } else c = e.apply(this, arguments);
                            return _(c) || D(c, {
                                constructor: t
                            }, !0), c;
                        }, n = new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"), r = [ 0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365 ], o = function(e, t) {
                            var n = t > 1 ? 1 : 0;
                            return r[t] + Math.floor((e - 1969 + n) / 4) - Math.floor((e - 1901 + n) / 100) + Math.floor((e - 1601 + n) / 400) + 365 * (e - 1970);
                        }, i = function(t) {
                            var n = 0, r = t;
                            if (Ae && r > Pe) {
                                var o = Math.floor(r / Pe) * Pe, i = Math.floor(o / 1e3);
                                n += i, r -= 1e3 * i;
                            }
                            return s(new e(1970, 0, 1, 0, 0, n, r));
                        };
                        for (var l in e) F(e, l) && (t[l] = e[l]);
                        D(t, {
                            now: e.now,
                            UTC: e.UTC
                        }, !0), t.prototype = e.prototype, D(t.prototype, {
                            constructor: t
                        }, !0);
                        var u = function(t) {
                            var r = n.exec(t);
                            if (r) {
                                var a, l = s(r[1]), u = s(r[2] || 1) - 1, c = s(r[3] || 1) - 1, f = s(r[4] || 0), d = s(r[5] || 0), p = s(r[6] || 0), m = Math.floor(1e3 * s(r[7] || 0)), v = Boolean(r[4] && !r[8]), g = "-" === r[9] ? 1 : -1, h = s(r[10] || 0), y = s(r[11] || 0), b = d > 0 || p > 0 || m > 0;
                                return (b ? 24 : 25) > f && 60 > d && 60 > p && 1e3 > m && u > -1 && 12 > u && 24 > h && 60 > y && c > -1 && c < o(l, u + 1) - o(l, u) && (a = 60 * (24 * (o(l, u) + c) + f + h * g), 
                                a = 1e3 * (60 * (a + d + y * g) + p) + m, v && (a = i(a)), a >= -864e13 && 864e13 >= a) ? a : NaN;
                            }
                            return e.parse.apply(this, arguments);
                        };
                        return D(t, {
                            parse: u
                        }), t;
                    }(Date);
                }
                Date.now || (Date.now = function() {
                    return new Date().getTime();
                });
                var De = u.toFixed && ("0.000" !== 8e-5.toFixed(3) || "1" !== .9.toFixed(0) || "1.25" !== 1.255.toFixed(2) || "1000000000000000128" !== 0xde0b6b3a7640080.toFixed(0)), _e = {
                    base: 1e7,
                    size: 6,
                    data: [ 0, 0, 0, 0, 0, 0 ],
                    multiply: function(e, t) {
                        for (var n = -1, r = t; ++n < _e.size; ) r += e * _e.data[n], _e.data[n] = r % _e.base, 
                        r = Math.floor(r / _e.base);
                    },
                    divide: function(e) {
                        for (var t = _e.size, n = 0; --t >= 0; ) n += _e.data[t], _e.data[t] = Math.floor(n / e), 
                        n = n % e * _e.base;
                    },
                    numToString: function() {
                        for (var e = _e.size, t = ""; --e >= 0; ) if ("" !== t || 0 === e || 0 !== _e.data[e]) {
                            var n = a(_e.data[e]);
                            "" === t ? t = n : t += $("0000000", 0, 7 - n.length) + n;
                        }
                        return t;
                    },
                    pow: function Ze(e, t, n) {
                        return 0 === t ? n : t % 2 === 1 ? Ze(e, t - 1, n * e) : Ze(e * e, t / 2, n);
                    },
                    log: function(e) {
                        for (var t = 0, n = e; n >= 4096; ) t += 12, n /= 4096;
                        for (;n >= 2; ) t += 1, n /= 2;
                        return t;
                    }
                }, Ie = function(e) {
                    var t, n, r, o, i, l, u, c;
                    if (t = s(e), t = I(t) ? 0 : Math.floor(t), 0 > t || t > 20) throw new RangeError("Number.toFixed called with invalid number of decimals");
                    if (n = s(this), I(n)) return "NaN";
                    if (-1e21 >= n || n >= 1e21) return a(n);
                    if (r = "", 0 > n && (r = "-", n = -n), o = "0", n > 1e-21) if (i = _e.log(n * _e.pow(2, 69, 1)) - 69, 
                    l = 0 > i ? n * _e.pow(2, -i, 1) : n / _e.pow(2, i, 1), l *= 4503599627370496, i = 52 - i, 
                    i > 0) {
                        for (_e.multiply(0, l), u = t; u >= 7; ) _e.multiply(1e7, 0), u -= 7;
                        for (_e.multiply(_e.pow(10, u, 1), 0), u = i - 1; u >= 23; ) _e.divide(1 << 23), 
                        u -= 23;
                        _e.divide(1 << u), _e.multiply(1, 1), _e.divide(2), o = _e.numToString();
                    } else _e.multiply(0, l), _e.multiply(1 << -i, 0), o = _e.numToString() + $("0.00000000000000000000", 2, 2 + t);
                    return t > 0 ? (c = o.length, o = t >= c ? r + $("0.0000000000000000000", 0, t - c + 2) + o : r + $(o, 0, c - t) + "." + $(o, c - t)) : o = r + o, 
                    o;
                };
                D(u, {
                    toFixed: Ie
                }, De);
                var Me = function() {
                    try {
                        return "1" === 1..toPrecision(void 0);
                    } catch (e) {
                        return !0;
                    }
                }(), Le = u.toPrecision;
                D(u, {
                    toPrecision: function(e) {
                        return "undefined" == typeof e ? Le.call(this) : Le.call(this, e);
                    }
                }, Me), 2 !== "ab".split(/(?:ab)*/).length || 4 !== ".".split(/(.?)(.?)/).length || "t" === "tesst".split(/(s)*/)[1] || 4 !== "test".split(/(?:)/, -1).length || "".split(/.?/).length || ".".split(/()()/).length > 1 ? !function() {
                    var e = "undefined" == typeof /()??/.exec("")[1], t = Math.pow(2, 32) - 1;
                    l.split = function(n, r) {
                        var o = this;
                        if ("undefined" == typeof n && 0 === r) return [];
                        if (!T(n)) return z(this, n, r);
                        var i, a, l, s, u = [], f = (n.ignoreCase ? "i" : "") + (n.multiline ? "m" : "") + (n.unicode ? "u" : "") + (n.sticky ? "y" : ""), p = 0, m = new RegExp(n.source, f + "g");
                        o += "", e || (i = new RegExp("^" + m.source + "$(?!\\s)", f));
                        var v = "undefined" == typeof r ? t : M.ToUint32(r);
                        for (a = m.exec(o); a && (l = a.index + a[0].length, !(l > p && (q(u, $(o, p, a.index)), 
                        !e && a.length > 1 && a[0].replace(i, function() {
                            for (var e = 1; e < arguments.length - 2; e++) "undefined" == typeof arguments[e] && (a[e] = void 0);
                        }), a.length > 1 && a.index < o.length && d.apply(u, c.call(a, 1)), s = a[0].length, 
                        p = l, u.length >= v))); ) m.lastIndex === a.index && m.lastIndex++, a = m.exec(o);
                        return p === o.length ? (s || !m.test("")) && q(u, "") : q(u, $(o, p)), u.length > v ? $(u, 0, v) : u;
                    };
                }() : "0".split(void 0, 0).length && (l.split = function(e, t) {
                    return "undefined" == typeof e && 0 === t ? [] : z(this, e, t);
                });
                var Fe = l.replace, Ue = function() {
                    var e = [];
                    return "x".replace(/x(.)?/g, function(t, n) {
                        q(e, n);
                    }), 1 === e.length && "undefined" == typeof e[0];
                }();
                Ue || (l.replace = function(t, n) {
                    var r = e(n), o = T(t) && /\)[*?]/.test(t.source);
                    if (r && o) {
                        var i = function(e) {
                            var r = arguments.length, o = t.lastIndex;
                            t.lastIndex = 0;
                            var i = t.exec(e) || [];
                            return t.lastIndex = o, q(i, arguments[r - 2], arguments[r - 1]), n.apply(this, i);
                        };
                        return Fe.call(this, t, i);
                    }
                    return Fe.call(this, t, n);
                });
                var $e = l.substr, ze = "".substr && "b" !== "0b".substr(-1);
                D(l, {
                    substr: function(e, t) {
                        var n = e;
                        return 0 > e && (n = g(this.length + e, 0)), $e.call(this, n, t);
                    }
                }, ze);
                var Re = "	\n\f\r   ᠎             　\u2028\u2029\ufeff", qe = "​", Ve = "[" + Re + "]", He = new RegExp("^" + Ve + Ve + "*"), Xe = new RegExp(Ve + Ve + "*$"), Be = l.trim && (Re.trim() || !qe.trim());
                D(l, {
                    trim: function() {
                        if ("undefined" == typeof this || null === this) throw new TypeError("can't convert " + this + " to object");
                        return a(this).replace(He, "").replace(Xe, "");
                    }
                }, Be);
                var Ye = l.lastIndexOf && -1 !== "abcあい".lastIndexOf("あい", 2);
                D(l, {
                    lastIndexOf: function(e) {
                        if ("undefined" == typeof this || null === this) throw new TypeError("can't convert " + this + " to object");
                        for (var t = a(this), n = a(e), r = arguments.length > 1 ? s(arguments[1]) : NaN, o = I(r) ? 1 / 0 : M.ToInteger(r), i = h(g(o, 0), t.length), l = n.length, u = i + l; u > 0; ) {
                            u = g(0, u - l);
                            var c = R($(t, u, i + l), n);
                            if (-1 !== c) return u + c;
                        }
                        return -1;
                    }
                }, Ye);
                var We = l.lastIndexOf;
                if (D(l, {
                    lastIndexOf: function(e) {
                        return We.apply(this, arguments);
                    }
                }, 1 !== l.lastIndexOf.length), (8 !== parseInt(Re + "08") || 22 !== parseInt(Re + "0x16")) && (parseInt = function(e) {
                    var t = /^[\-+]?0[xX]/;
                    return function(n, r) {
                        var o = a(n).trim(), i = s(r) || (t.test(o) ? 16 : 10);
                        return e(o, i);
                    };
                }(parseInt)), "RangeError: test" !== String(new RangeError("test"))) {
                    var Ke = (Error.prototype.toString, function() {
                        if ("undefined" == typeof this || null === this) throw new TypeError("can't convert " + this + " to object");
                        var e = this.name;
                        "undefined" == typeof e ? e = "Error" : "string" != typeof e && (e = a(e));
                        var t = this.message;
                        return "undefined" == typeof t ? t = "" : "string" != typeof t && (t = a(t)), e ? t ? e + ": " + t : e : t;
                    });
                    Error.prototype.toString = Ke;
                }
            });
        }, {} ],
        26: [ function(e, t, n) {
            var r = [], o = r.forEach, i = r.slice;
            t.exports = function(e) {
                return o.call(i.call(arguments, 1), function(t) {
                    if (t) for (var n in t) e[n] = t[n];
                }), e;
            };
        }, {} ],
        27: [ function(e, t, n) {
            function r(e) {
                var t = o.call(e);
                return "[object Function]" === t || "function" == typeof e && "[object RegExp]" !== t || "undefined" != typeof window && (e === window.setTimeout || e === window.alert || e === window.confirm || e === window.prompt);
            }
            t.exports = r;
            var o = Object.prototype.toString;
        }, {} ],
        28: [ function(e, t, n) {
            "use strict";
            t.exports = function(e) {
                return "object" == typeof e && null !== e;
            };
        }, {} ],
        29: [ function(t, n, r) {
            !function(t, r) {
                "undefined" != typeof n && n.exports ? n.exports = r() : "function" == typeof e && e.amd ? e(r) : this[t] = r();
            }("$script", function() {
                function e(e, t) {
                    for (var n = 0, r = e.length; r > n; ++n) if (!t(e[n])) return s;
                    return 1;
                }
                function t(t, n) {
                    e(t, function(e) {
                        return !n(e);
                    });
                }
                function n(i, a, l) {
                    function s(e) {
                        return e.call ? e() : d[e];
                    }
                    function c() {
                        if (!--y) {
                            d[h] = 1, g && g();
                            for (var n in m) e(n.split("|"), s) && !t(m[n], s) && (m[n] = []);
                        }
                    }
                    i = i[u] ? i : [ i ];
                    var f = a && a.call, g = f ? a : l, h = f ? i.join("") : a, y = i.length;
                    return setTimeout(function() {
                        t(i, function e(t, n) {
                            return null === t ? c() : (n || /^https?:\/\//.test(t) || !o || (t = -1 === t.indexOf(".js") ? o + t + ".js" : o + t), 
                            v[t] ? (h && (p[h] = 1), 2 == v[t] ? c() : setTimeout(function() {
                                e(t, !0);
                            }, 0)) : (v[t] = 1, h && (p[h] = 1), void r(t, c)));
                        });
                    }, 0), n;
                }
                function r(e, t) {
                    var n, r = a.createElement("script");
                    r.onload = r.onerror = r[f] = function() {
                        r[c] && !/^c|loade/.test(r[c]) || n || (r.onload = r[f] = null, n = 1, v[e] = 2, 
                        t());
                    }, r.async = 1, r.src = i ? e + (-1 === e.indexOf("?") ? "?" : "&") + i : e, l.insertBefore(r, l.lastChild);
                }
                var o, i, a = document, l = a.getElementsByTagName("head")[0], s = !1, u = "push", c = "readyState", f = "onreadystatechange", d = {}, p = {}, m = {}, v = {};
                return n.get = r, n.order = function(e, t, r) {
                    !function o(i) {
                        i = e.shift(), e.length ? n(i, o) : n(i, t, r);
                    }();
                }, n.path = function(e) {
                    o = e;
                }, n.urlArgs = function(e) {
                    i = e;
                }, n.ready = function(r, o, i) {
                    r = r[u] ? r : [ r ];
                    var a = [];
                    return !t(r, function(e) {
                        d[e] || a[u](e);
                    }) && e(r, function(e) {
                        return d[e];
                    }) ? o() : !function(e) {
                        m[e] = m[e] || [], m[e][u](o), i && i(a);
                    }(r.join("|")), n;
                }, n.done = function(e) {
                    n([ null ], e);
                }, n;
            });
        }, {} ]
    }, {}, [ 19 ])(19);
});

(function(flowplayer, Hls) {
    "use strict";
    var engineName = "hlsjs", hlsconf, common = flowplayer.common, extend = flowplayer.extend, support = flowplayer.support, version = flowplayer.version, isHlsType = function(typ) {
        return typ.toLowerCase().indexOf("mpegurl") > -1;
    }, engineImpl = function hlsjsEngine(player, root) {
        var bean = flowplayer.bean, videoTag, hls, recover, bc, has_bg, posterHack = function() {
            var posterClass = "is-poster", etype = "progress." + engineName;
            player.one(etype, function() {
                common.addClass(root, posterClass);
                player.poster = true;
                player.one(etype, function() {
                    common.removeClass(root, posterClass);
                    player.poster = false;
                });
            });
        }, getStartLevelConf = function() {
            var value = hlsconf.startLevel;
            switch (value) {
              case "auto":
                value = -1;
                break;

              case "firstLevel":
                value = undefined;
                break;
            }
            return value;
        }, qActive = "active", dataQuality = function(quality) {
            if (!quality) {
                quality = player.quality;
            }
            return quality.toLowerCase().replace(/\ /g, "");
        }, removeAllQualityClasses = function() {
            var qualities = player.qualities;
            if (!qualities || !qualities.length) {
                return;
            }
            common.removeClass(root, "quality-abr");
            qualities.forEach(function(quality) {
                common.removeClass(root, "quality-" + dataQuality(quality));
            });
        }, qClean = function() {
            delete player.hlsQualities;
            player.qualities = [];
            removeAllQualityClasses();
            common.find(".fp-quality-selector li", root).forEach(bean.off);
            common.find(".fp-quality-selector", root).forEach(common.removeNode);
        }, qIndex = function() {
            return player.hlsQualities[player.qualities.indexOf(player.quality) + 1];
        }, initQualitySelection = function(hlsQualitiesConf, data) {
            var levels = data.levels, levelIndex = 0, selector;
            player.hlsQualities = [];
            levels.forEach(function(level) {
                if ((hlsQualitiesConf === true || hlsQualitiesConf.indexOf(levelIndex) > -1) && level.videoCodec && window.MediaSource.isTypeSupported("video/mp4;codecs=" + level.videoCodec)) {
                    player.hlsQualities.push(levelIndex);
                }
                levelIndex += 1;
            });
            if (player.hlsQualities.length < 2) {
                qClean();
                return;
            }
            player.qualities = [];
            player.hlsQualities.forEach(function(levelIndex) {
                var level = levels[levelIndex], width = level.width, height = level.height, label = width && height ? Math.min(width, height) + "p" : "Level " + (levelIndex + 1);
                player.qualities.push(label);
            });
            selector = common.createElement("ul", {
                "class": "fp-quality-selector"
            });
            common.find(".fp-ui", root)[0].appendChild(selector);
            player.hlsQualities.unshift(-1);
            if (!player.quality || player.qualities.indexOf(player.quality) < 0) {
                hls.startLevel = getStartLevelConf();
                player.quality = "abr";
            } else {
                hls.startLevel = qIndex();
            }
            selector.appendChild(common.createElement("li", {
                "data-quality": "abr"
            }, "Auto"));
            player.qualities.forEach(function(q) {
                selector.appendChild(common.createElement("li", {
                    "data-quality": dataQuality(q)
                }, q));
            });
            common.addClass(root, "quality-" + dataQuality());
            bean.on(root, "click", ".fp-quality-selector li", function(e) {
                var choice = e.currentTarget, selectors, active, i;
                if (common.hasClass(choice, qActive)) {
                    return;
                }
                selectors = common.find(".fp-quality-selector li", root);
                for (i = 0; i < selectors.length; i += 1) {
                    active = selectors[i] === choice;
                    if (active) {
                        player.quality = i > 0 ? player.qualities[i - 1] : "abr";
                        if (hlsconf.smoothSwitching) {
                            hls.nextLevel = qIndex();
                        } else {
                            hls.currentLevel = qIndex();
                        }
                        player.resume();
                        common.addClass(choice, qActive);
                    }
                    common.toggleClass(selectors[i], qActive, active);
                }
                removeAllQualityClasses();
                common.addClass(root, "quality-" + dataQuality());
            });
        }, engine = {
            engineName: engineName,
            pick: function(sources) {
                var i, source;
                for (i = 0; i < sources.length; i += 1) {
                    source = sources[i];
                    if (isHlsType(source.type) && (!source.engine || source.engine === engineName)) {
                        if (typeof source.src === "string") {
                            source.src = common.createAbsoluteUrl(source.src);
                        }
                        return source;
                    }
                }
            },
            load: function(video) {
                var init = !hls, conf = player.conf, hlsQualitiesConf = conf.clip.hlsQualities || conf.hlsQualities, hlsClientConf = extend({}, hlsconf), hlsParams = [ "anamorphic", "autoLevelCapping", "recover", "smoothSwitching", "startLevel", "strict" ], hlsEvents = [ "MEDIA_ATTACHING", "MEDIA_ATTACHED", "MEDIA_DETACHING", "MEDIA_DETACHED", "MANIFEST_LOADING", "MANIFEST_LOADED", "MANIFEST_PARSED", "LEVEL_LOADING", "LEVEL_LOADED", "LEVEL_UPDATED", "LEVEL_PTS_UPDATED", "LEVEL_SWITCH", "KEY_LOADING", "KEY_LOADED", "FRAG_LOADING", "FRAG_LOAD_PROGRESS", "FRAG_LOADED", "FRAG_PARSING_INIT_SEGMENT", "FRAG_PARSING_METADATA", "FRAG_PARSING_DATA", "FRAG_PARSED", "FRAG_BUFFERED", "FRAG_CHANGED", "FPS_DROP", "DESTROYING", "ERROR" ];
                if (init) {
                    common.removeNode(common.findDirect("video", root)[0] || common.find(".fp-player > video", root)[0]);
                    videoTag = common.createElement("video", {
                        className: "fp-engine " + engineName + "-engine",
                        autoplay: conf.autoplay ? "autoplay" : false
                    });
                    videoTag.setAttribute("x-webkit-airplay", "allow");
                } else {
                    hls.destroy();
                }
                bean.on(videoTag, "play", function() {
                    player.trigger("resume", [ player ]);
                });
                bean.on(videoTag, "pause", function() {
                    player.trigger("pause", [ player ]);
                });
                bean.on(videoTag, "timeupdate", function() {
                    player.trigger("progress", [ player, videoTag.currentTime ]);
                });
                bean.on(videoTag, "loadeddata", function() {
                    video = extend(video, {
                        duration: videoTag.duration,
                        seekable: videoTag.seekable.end(null),
                        width: videoTag.videoWidth,
                        height: videoTag.videoHeight,
                        url: videoTag.currentSrc
                    });
                    player.trigger("ready", [ player, video ]);
                    var quality = player.quality, abr = quality === "abr", selectorIndex;
                    if (quality) {
                        if (!abr) {
                            hls.currentLevel = hls.startLevel;
                        }
                        selectorIndex = abr ? 0 : player.qualities.indexOf(quality) + 1;
                        common.addClass(common.find(".fp-quality-selector li", root)[selectorIndex], qActive);
                    }
                });
                bean.on(videoTag, "seeked", function() {
                    player.trigger("seek", [ player, videoTag.currentTime ]);
                });
                bean.on(videoTag, "progress", function(e) {
                    var ct = videoTag.currentTime, buffer = 0, buffend, buffered, last, i;
                    try {
                        buffered = videoTag.buffered;
                        last = buffered.length - 1;
                        buffend = 0;
                        if (ct) {
                            for (i = last; i > -1; i -= 1) {
                                buffend = buffered.end(i);
                                if (buffend >= ct) {
                                    buffer = buffend;
                                }
                            }
                        }
                    } catch (ignore) {}
                    video.buffer = buffer;
                    player.trigger("buffer", [ player, e ]);
                });
                bean.on(videoTag, "ended", function() {
                    player.trigger("finish", [ player ]);
                });
                bean.on(videoTag, "volumechange", function() {
                    player.trigger("volume", [ player, videoTag.volume ]);
                });
                hlsParams.forEach(function(key) {
                    delete hlsClientConf[key];
                });
                hls = new Hls(hlsClientConf);
                player.engine[engineName] = hls;
                hlsParams.forEach(function(key) {
                    var value = hlsconf[key];
                    switch (key) {
                      case "autoLevelCapping":
                        if (value === false) {
                            value = -1;
                        }
                        break;

                      case "recover":
                        recover = hlsconf.strict ? 0 : value;
                        break;

                      case "startLevel":
                        value = player.hlsQualities && player.quality ? qIndex() : getStartLevelConf();
                        break;
                    }
                    if (key !== "strict" && key !== "recover" && value !== undefined) {
                        hls[key] = value;
                    }
                });
                qClean();
                hlsEvents.forEach(function(e) {
                    hls.on(Hls.Events[e], function(etype, data) {
                        var fperr, errobj = {};
                        switch (e) {
                          case "MANIFEST_PARSED":
                            if (support.inlineVideo && hlsQualitiesConf) {
                                initQualitySelection(hlsQualitiesConf, data);
                            } else {
                                delete player.quality;
                            }
                            break;

                          case "ERROR":
                            if (data.fatal || hlsconf.strict > 0) {
                                switch (data.type) {
                                  case Hls.ErrorTypes.NETWORK_ERROR:
                                    if (recover) {
                                        hls.startLoad();
                                        if (recover > 0) {
                                            recover -= 1;
                                        }
                                    } else if (data.frag && data.frag.url) {
                                        errobj.url = data.frag.url;
                                        fperr = 2;
                                    } else {
                                        fperr = 4;
                                    }
                                    break;

                                  case Hls.ErrorTypes.MEDIA_ERROR:
                                    if (recover) {
                                        hls.recoverMediaError();
                                        if (recover > 0) {
                                            recover -= 1;
                                        }
                                    } else {
                                        fperr = 3;
                                    }
                                    break;

                                  default:
                                    fperr = 5;
                                }
                                if (fperr !== undefined) {
                                    errobj.code = fperr;
                                    if (fperr > 2) {
                                        errobj.video = extend(video, {
                                            src: video.src,
                                            url: data.url || video.src
                                        });
                                    }
                                    player.trigger("error", [ player, errobj ]);
                                    return;
                                }
                            }
                            break;
                        }
                        player.trigger(etype, [ player, data ]);
                    });
                });
                if (init) {
                    common.prepend(common.find(".fp-player", root)[0], videoTag);
                }
                hls.loadSource(video.src);
                hls.attachMedia(videoTag);
                if (videoTag.paused && (video.autoplay || conf.autoplay)) {
                    videoTag.play();
                }
            },
            resume: function() {
                videoTag.play();
            },
            pause: function() {
                videoTag.pause();
            },
            seek: function(time) {
                videoTag.currentTime = time;
            },
            volume: function(level) {
                if (videoTag) {
                    videoTag.volume = level;
                }
            },
            speed: function(val) {
                videoTag.playbackRate = val;
                player.trigger("speed", [ player, val ]);
            },
            unload: function() {
                if (hls) {
                    hls.destroy();
                    hls = 0;
                    bean.off(videoTag);
                    common.removeNode(videoTag);
                    videoTag = 0;
                    qClean();
                }
            }
        };
        if (/^6\.0\.[0-3]$/.test(version) && !player.conf.splash && !player.conf.poster && !player.conf.autoplay) {
            bc = common.css(root, "backgroundColor");
            has_bg = common.css(root, "backgroundImage") !== "none" || bc && bc !== "rgba(0, 0, 0, 0)" && bc !== "transparent";
            if (has_bg) {
                player.conf.poster = true;
            }
        }
        if (player.conf.poster) {
            player.on("ready." + engineName + " stop." + engineName, posterHack);
        }
        return engine;
    };
    if (Hls.isSupported() && version.indexOf("5.") !== 0) {
        engineImpl.engineName = engineName;
        engineImpl.canPlay = function(type, conf) {
            var b = support.browser, wn = window.navigator, IE11 = wn.userAgent.indexOf("Trident/7") > -1;
            if (conf[engineName] === false || conf.clip[engineName] === false) {
                return false;
            }
            hlsconf = extend({
                smoothSwitching: true,
                recover: 0
            }, flowplayer.conf[engineName], conf[engineName], conf.clip[engineName]);
            if (isHlsType(type)) {
                if (hlsconf.debug) {
                    return true;
                }
                if (hlsconf.anamorphic && wn.platform.indexOf("Win") === 0 && b.mozilla && b.version.indexOf("44.") === 0) {
                    return false;
                }
                return IE11 || !b.safari;
            }
            return false;
        };
        flowplayer.engines.unshift(engineImpl);
        flowplayer(function(api) {
            var hlsQualities = api.conf.hlsQualities || flowplayer.conf.hlsQualities;
            if (hlsQualities) {
                api.pluginQualitySelectorEnabled = engineImpl.canPlay("application/x-mpegurl", api.conf);
            }
        });
    }
}).apply(null, typeof module === "object" && module.exports ? [ require("flowplayer"), require("hls.js") ] : [ window.flowplayer, window.Hls ]);

!function($) {
    $.flexslider = function(e, t) {
        var a = $(e);
        a.vars = $.extend({}, $.flexslider.defaults, t);
        var n = a.vars.namespace, i = window.navigator && window.navigator.msPointerEnabled && window.MSGesture, s = ("ontouchstart" in window || i || window.DocumentTouch && document instanceof DocumentTouch) && a.vars.touch, r = "click touchend MSPointerUp keyup", o = "", l, c = "vertical" === a.vars.direction, d = a.vars.reverse, u = a.vars.itemWidth > 0, v = "fade" === a.vars.animation, p = "" !== a.vars.asNavFor, m = {}, f = !0;
        $.data(e, "flexslider", a), m = {
            init: function() {
                a.animating = !1, a.currentSlide = parseInt(a.vars.startAt ? a.vars.startAt : 0, 10), 
                isNaN(a.currentSlide) && (a.currentSlide = 0), a.animatingTo = a.currentSlide, a.atEnd = 0 === a.currentSlide || a.currentSlide === a.last, 
                a.containerSelector = a.vars.selector.substr(0, a.vars.selector.search(" ")), a.slides = $(a.vars.selector, a), 
                a.container = $(a.containerSelector, a), a.count = a.slides.length, a.syncExists = $(a.vars.sync).length > 0, 
                "slide" === a.vars.animation && (a.vars.animation = "swing"), a.prop = c ? "top" : "marginLeft", 
                a.args = {}, a.manualPause = !1, a.stopped = !1, a.started = !1, a.startTimeout = null, 
                a.transitions = !a.vars.video && !v && a.vars.useCSS && function() {
                    var e = document.createElement("div"), t = [ "perspectiveProperty", "WebkitPerspective", "MozPerspective", "OPerspective", "msPerspective" ];
                    for (var n in t) if (void 0 !== e.style[t[n]]) return a.pfx = t[n].replace("Perspective", "").toLowerCase(), 
                    a.prop = "-" + a.pfx + "-transform", !0;
                    return !1;
                }(), a.ensureAnimationEnd = "", "" !== a.vars.controlsContainer && (a.controlsContainer = $(a.vars.controlsContainer).length > 0 && $(a.vars.controlsContainer)), 
                "" !== a.vars.manualControls && (a.manualControls = $(a.vars.manualControls).length > 0 && $(a.vars.manualControls)), 
                "" !== a.vars.customDirectionNav && (a.customDirectionNav = 2 === $(a.vars.customDirectionNav).length && $(a.vars.customDirectionNav)), 
                a.vars.randomize && (a.slides.sort(function() {
                    return Math.round(Math.random()) - .5;
                }), a.container.empty().append(a.slides)), a.doMath(), a.setup("init"), a.vars.controlNav && m.controlNav.setup(), 
                a.vars.directionNav && m.directionNav.setup(), a.vars.keyboard && (1 === $(a.containerSelector).length || a.vars.multipleKeyboard) && $(document).bind("keyup", function(e) {
                    var t = e.keyCode;
                    if (!a.animating && (39 === t || 37 === t)) {
                        var n = 39 === t ? a.getTarget("next") : 37 === t ? a.getTarget("prev") : !1;
                        a.flexAnimate(n, a.vars.pauseOnAction);
                    }
                }), a.vars.mousewheel && a.bind("mousewheel", function(e, t, n, i) {
                    e.preventDefault();
                    var s = a.getTarget(0 > t ? "next" : "prev");
                    a.flexAnimate(s, a.vars.pauseOnAction);
                }), a.vars.pausePlay && m.pausePlay.setup(), a.vars.slideshow && a.vars.pauseInvisible && m.pauseInvisible.init(), 
                a.vars.slideshow && (a.vars.pauseOnHover && a.hover(function() {
                    a.manualPlay || a.manualPause || a.pause();
                }, function() {
                    a.manualPause || a.manualPlay || a.stopped || a.play();
                }), a.vars.pauseInvisible && m.pauseInvisible.isHidden() || (a.vars.initDelay > 0 ? a.startTimeout = setTimeout(a.play, a.vars.initDelay) : a.play())), 
                p && m.asNav.setup(), s && a.vars.touch && m.touch(), (!v || v && a.vars.smoothHeight) && $(window).bind("resize orientationchange focus", m.resize), 
                a.find("img").attr("draggable", "false"), setTimeout(function() {
                    a.vars.start(a);
                }, 200);
            },
            asNav: {
                setup: function() {
                    a.asNav = !0, a.animatingTo = Math.floor(a.currentSlide / a.move), a.currentItem = a.currentSlide, 
                    a.slides.removeClass(n + "active-slide").eq(a.currentItem).addClass(n + "active-slide"), 
                    i ? (e._slider = a, a.slides.each(function() {
                        var e = this;
                        e._gesture = new MSGesture(), e._gesture.target = e, e.addEventListener("MSPointerDown", function(e) {
                            e.preventDefault(), e.currentTarget._gesture && e.currentTarget._gesture.addPointer(e.pointerId);
                        }, !1), e.addEventListener("MSGestureTap", function(e) {
                            e.preventDefault();
                            var t = $(this), n = t.index();
                            $(a.vars.asNavFor).data("flexslider").animating || t.hasClass("active") || (a.direction = a.currentItem < n ? "next" : "prev", 
                            a.flexAnimate(n, a.vars.pauseOnAction, !1, !0, !0));
                        });
                    })) : a.slides.on(r, function(e) {
                        e.preventDefault();
                        var t = $(this), i = t.index(), s = t.offset().left - $(a).scrollLeft();
                        0 >= s && t.hasClass(n + "active-slide") ? a.flexAnimate(a.getTarget("prev"), !0) : $(a.vars.asNavFor).data("flexslider").animating || t.hasClass(n + "active-slide") || (a.direction = a.currentItem < i ? "next" : "prev", 
                        a.flexAnimate(i, a.vars.pauseOnAction, !1, !0, !0));
                    });
                }
            },
            controlNav: {
                setup: function() {
                    a.manualControls ? m.controlNav.setupManual() : m.controlNav.setupPaging();
                },
                setupPaging: function() {
                    var e = "thumbnails" === a.vars.controlNav ? "control-thumbs" : "control-paging", t = 1, i, s;
                    if (a.controlNavScaffold = $('<ol class="' + n + "control-nav " + n + e + '"></ol>'), 
                    a.pagingCount > 1) for (var l = 0; l < a.pagingCount; l++) {
                        if (s = a.slides.eq(l), i = "thumbnails" === a.vars.controlNav ? '<img src="' + s.attr("data-thumb") + '"/>' : "<a>" + t + "</a>", 
                        "thumbnails" === a.vars.controlNav && !0 === a.vars.thumbCaptions) {
                            var c = s.attr("data-thumbcaption");
                            "" !== c && void 0 !== c && (i += '<span class="' + n + 'caption">' + c + "</span>");
                        }
                        a.controlNavScaffold.append("<li>" + i + "</li>"), t++;
                    }
                    a.controlsContainer ? $(a.controlsContainer).append(a.controlNavScaffold) : a.append(a.controlNavScaffold), 
                    m.controlNav.set(), m.controlNav.active(), a.controlNavScaffold.delegate("a, img", r, function(e) {
                        if (e.preventDefault(), "" === o || o === e.type) {
                            var t = $(this), i = a.controlNav.index(t);
                            t.hasClass(n + "active") || (a.direction = i > a.currentSlide ? "next" : "prev", 
                            a.flexAnimate(i, a.vars.pauseOnAction));
                        }
                        "" === o && (o = e.type), m.setToClearWatchedEvent();
                    });
                },
                setupManual: function() {
                    a.controlNav = a.manualControls, m.controlNav.active(), a.controlNav.bind(r, function(e) {
                        if (e.preventDefault(), "" === o || o === e.type) {
                            var t = $(this), i = a.controlNav.index(t);
                            t.hasClass(n + "active") || (a.direction = i > a.currentSlide ? "next" : "prev", 
                            a.flexAnimate(i, a.vars.pauseOnAction));
                        }
                        "" === o && (o = e.type), m.setToClearWatchedEvent();
                    });
                },
                set: function() {
                    var e = "thumbnails" === a.vars.controlNav ? "img" : "a";
                    a.controlNav = $("." + n + "control-nav li " + e, a.controlsContainer ? a.controlsContainer : a);
                },
                active: function() {
                    a.controlNav.removeClass(n + "active").eq(a.animatingTo).addClass(n + "active");
                },
                update: function(e, t) {
                    a.pagingCount > 1 && "add" === e ? a.controlNavScaffold.append($("<li><a>" + a.count + "</a></li>")) : 1 === a.pagingCount ? a.controlNavScaffold.find("li").remove() : a.controlNav.eq(t).closest("li").remove(), 
                    m.controlNav.set(), a.pagingCount > 1 && a.pagingCount !== a.controlNav.length ? a.update(t, e) : m.controlNav.active();
                }
            },
            directionNav: {
                setup: function() {
                    var e = $('<ul class="' + n + 'direction-nav"><li class="' + n + 'nav-prev"><a class="' + n + 'prev" href="#">' + a.vars.prevText + '</a></li><li class="' + n + 'nav-next"><a class="' + n + 'next" href="#">' + a.vars.nextText + "</a></li></ul>");
                    a.customDirectionNav ? a.directionNav = a.customDirectionNav : a.controlsContainer ? ($(a.controlsContainer).append(e), 
                    a.directionNav = $("." + n + "direction-nav li a", a.controlsContainer)) : (a.append(e), 
                    a.directionNav = $("." + n + "direction-nav li a", a)), m.directionNav.update(), 
                    a.directionNav.bind(r, function(e) {
                        e.preventDefault();
                        var t;
                        ("" === o || o === e.type) && (t = a.getTarget($(this).hasClass(n + "next") ? "next" : "prev"), 
                        a.flexAnimate(t, a.vars.pauseOnAction)), "" === o && (o = e.type), m.setToClearWatchedEvent();
                    });
                },
                update: function() {
                    var e = n + "disabled";
                    1 === a.pagingCount ? a.directionNav.addClass(e).attr("tabindex", "-1") : a.vars.animationLoop ? a.directionNav.removeClass(e).removeAttr("tabindex") : 0 === a.animatingTo ? a.directionNav.removeClass(e).filter("." + n + "prev").addClass(e).attr("tabindex", "-1") : a.animatingTo === a.last ? a.directionNav.removeClass(e).filter("." + n + "next").addClass(e).attr("tabindex", "-1") : a.directionNav.removeClass(e).removeAttr("tabindex");
                }
            },
            pausePlay: {
                setup: function() {
                    var e = $('<div class="' + n + 'pauseplay"><a></a></div>');
                    a.controlsContainer ? (a.controlsContainer.append(e), a.pausePlay = $("." + n + "pauseplay a", a.controlsContainer)) : (a.append(e), 
                    a.pausePlay = $("." + n + "pauseplay a", a)), m.pausePlay.update(a.vars.slideshow ? n + "pause" : n + "play"), 
                    a.pausePlay.bind(r, function(e) {
                        e.preventDefault(), ("" === o || o === e.type) && ($(this).hasClass(n + "pause") ? (a.manualPause = !0, 
                        a.manualPlay = !1, a.pause()) : (a.manualPause = !1, a.manualPlay = !0, a.play())), 
                        "" === o && (o = e.type), m.setToClearWatchedEvent();
                    });
                },
                update: function(e) {
                    "play" === e ? a.pausePlay.removeClass(n + "pause").addClass(n + "play").html(a.vars.playText) : a.pausePlay.removeClass(n + "play").addClass(n + "pause").html(a.vars.pauseText);
                }
            },
            touch: function() {
                function t(t) {
                    t.stopPropagation(), a.animating ? t.preventDefault() : (a.pause(), e._gesture.addPointer(t.pointerId), 
                    w = 0, p = c ? a.h : a.w, f = Number(new Date()), l = u && d && a.animatingTo === a.last ? 0 : u && d ? a.limit - (a.itemW + a.vars.itemMargin) * a.move * a.animatingTo : u && a.currentSlide === a.last ? a.limit : u ? (a.itemW + a.vars.itemMargin) * a.move * a.currentSlide : d ? (a.last - a.currentSlide + a.cloneOffset) * p : (a.currentSlide + a.cloneOffset) * p);
                }
                function n(t) {
                    t.stopPropagation();
                    var a = t.target._slider;
                    if (a) {
                        var n = -t.translationX, i = -t.translationY;
                        return w += c ? i : n, m = w, y = c ? Math.abs(w) < Math.abs(-n) : Math.abs(w) < Math.abs(-i), 
                        t.detail === t.MSGESTURE_FLAG_INERTIA ? void setImmediate(function() {
                            e._gesture.stop();
                        }) : void ((!y || Number(new Date()) - f > 500) && (t.preventDefault(), !v && a.transitions && (a.vars.animationLoop || (m = w / (0 === a.currentSlide && 0 > w || a.currentSlide === a.last && w > 0 ? Math.abs(w) / p + 2 : 1)), 
                        a.setProps(l + m, "setTouch"))));
                    }
                }
                function s(e) {
                    e.stopPropagation();
                    var t = e.target._slider;
                    if (t) {
                        if (t.animatingTo === t.currentSlide && !y && null !== m) {
                            var a = d ? -m : m, n = t.getTarget(a > 0 ? "next" : "prev");
                            t.canAdvance(n) && (Number(new Date()) - f < 550 && Math.abs(a) > 50 || Math.abs(a) > p / 2) ? t.flexAnimate(n, t.vars.pauseOnAction) : v || t.flexAnimate(t.currentSlide, t.vars.pauseOnAction, !0);
                        }
                        r = null, o = null, m = null, l = null, w = 0;
                    }
                }
                var r, o, l, p, m, f, g, h, S, y = !1, x = 0, b = 0, w = 0;
                i ? (e.style.msTouchAction = "none", e._gesture = new MSGesture(), e._gesture.target = e, 
                e.addEventListener("MSPointerDown", t, !1), e._slider = a, e.addEventListener("MSGestureChange", n, !1), 
                e.addEventListener("MSGestureEnd", s, !1)) : (g = function(t) {
                    a.animating ? t.preventDefault() : (window.navigator.msPointerEnabled || 1 === t.touches.length) && (a.pause(), 
                    p = c ? a.h : a.w, f = Number(new Date()), x = t.touches[0].pageX, b = t.touches[0].pageY, 
                    l = u && d && a.animatingTo === a.last ? 0 : u && d ? a.limit - (a.itemW + a.vars.itemMargin) * a.move * a.animatingTo : u && a.currentSlide === a.last ? a.limit : u ? (a.itemW + a.vars.itemMargin) * a.move * a.currentSlide : d ? (a.last - a.currentSlide + a.cloneOffset) * p : (a.currentSlide + a.cloneOffset) * p, 
                    r = c ? b : x, o = c ? x : b, e.addEventListener("touchmove", h, !1), e.addEventListener("touchend", S, !1));
                }, h = function(e) {
                    x = e.touches[0].pageX, b = e.touches[0].pageY, m = c ? r - b : r - x, y = c ? Math.abs(m) < Math.abs(x - o) : Math.abs(m) < Math.abs(b - o);
                    var t = 500;
                    (!y || Number(new Date()) - f > t) && (e.preventDefault(), !v && a.transitions && (a.vars.animationLoop || (m /= 0 === a.currentSlide && 0 > m || a.currentSlide === a.last && m > 0 ? Math.abs(m) / p + 2 : 1), 
                    a.setProps(l + m, "setTouch")));
                }, S = function(t) {
                    if (e.removeEventListener("touchmove", h, !1), a.animatingTo === a.currentSlide && !y && null !== m) {
                        var n = d ? -m : m, i = a.getTarget(n > 0 ? "next" : "prev");
                        a.canAdvance(i) && (Number(new Date()) - f < 550 && Math.abs(n) > 50 || Math.abs(n) > p / 2) ? a.flexAnimate(i, a.vars.pauseOnAction) : v || a.flexAnimate(a.currentSlide, a.vars.pauseOnAction, !0);
                    }
                    e.removeEventListener("touchend", S, !1), r = null, o = null, m = null, l = null;
                }, e.addEventListener("touchstart", g, !1));
            },
            resize: function() {
                !a.animating && a.is(":visible") && (u || a.doMath(), v ? m.smoothHeight() : u ? (a.slides.width(a.computedW), 
                a.update(a.pagingCount), a.setProps()) : c ? (a.viewport.height(a.h), a.setProps(a.h, "setTotal")) : (a.vars.smoothHeight && m.smoothHeight(), 
                a.newSlides.width(a.computedW), a.setProps(a.computedW, "setTotal")));
            },
            smoothHeight: function(e) {
                if (!c || v) {
                    var t = v ? a : a.viewport;
                    e ? t.animate({
                        height: a.slides.eq(a.animatingTo).height()
                    }, e) : t.height(a.slides.eq(a.animatingTo).height());
                }
            },
            sync: function(e) {
                var t = $(a.vars.sync).data("flexslider"), n = a.animatingTo;
                switch (e) {
                  case "animate":
                    t.flexAnimate(n, a.vars.pauseOnAction, !1, !0);
                    break;

                  case "play":
                    t.playing || t.asNav || t.play();
                    break;

                  case "pause":
                    t.pause();
                }
            },
            uniqueID: function(e) {
                return e.filter("[id]").add(e.find("[id]")).each(function() {
                    var e = $(this);
                    e.attr("id", e.attr("id") + "_clone");
                }), e;
            },
            pauseInvisible: {
                visProp: null,
                init: function() {
                    var e = m.pauseInvisible.getHiddenProp();
                    if (e) {
                        var t = e.replace(/[H|h]idden/, "") + "visibilitychange";
                        document.addEventListener(t, function() {
                            m.pauseInvisible.isHidden() ? a.startTimeout ? clearTimeout(a.startTimeout) : a.pause() : a.started ? a.play() : a.vars.initDelay > 0 ? setTimeout(a.play, a.vars.initDelay) : a.play();
                        });
                    }
                },
                isHidden: function() {
                    var e = m.pauseInvisible.getHiddenProp();
                    return e ? document[e] : !1;
                },
                getHiddenProp: function() {
                    var e = [ "webkit", "moz", "ms", "o" ];
                    if ("hidden" in document) return "hidden";
                    for (var t = 0; t < e.length; t++) if (e[t] + "Hidden" in document) return e[t] + "Hidden";
                    return null;
                }
            },
            setToClearWatchedEvent: function() {
                clearTimeout(l), l = setTimeout(function() {
                    o = "";
                }, 3e3);
            }
        }, a.flexAnimate = function(e, t, i, r, o) {
            if (a.vars.animationLoop || e === a.currentSlide || (a.direction = e > a.currentSlide ? "next" : "prev"), 
            p && 1 === a.pagingCount && (a.direction = a.currentItem < e ? "next" : "prev"), 
            !a.animating && (a.canAdvance(e, o) || i) && a.is(":visible")) {
                if (p && r) {
                    var l = $(a.vars.asNavFor).data("flexslider");
                    if (a.atEnd = 0 === e || e === a.count - 1, l.flexAnimate(e, !0, !1, !0, o), a.direction = a.currentItem < e ? "next" : "prev", 
                    l.direction = a.direction, Math.ceil((e + 1) / a.visible) - 1 === a.currentSlide || 0 === e) return a.currentItem = e, 
                    a.slides.removeClass(n + "active-slide").eq(e).addClass(n + "active-slide"), !1;
                    a.currentItem = e, a.slides.removeClass(n + "active-slide").eq(e).addClass(n + "active-slide"), 
                    e = Math.floor(e / a.visible);
                }
                if (a.animating = !0, a.animatingTo = e, t && a.pause(), a.vars.before(a), a.syncExists && !o && m.sync("animate"), 
                a.vars.controlNav && m.controlNav.active(), u || a.slides.removeClass(n + "active-slide").eq(e).addClass(n + "active-slide"), 
                a.atEnd = 0 === e || e === a.last, a.vars.directionNav && m.directionNav.update(), 
                e === a.last && (a.vars.end(a), a.vars.animationLoop || a.pause()), v) s ? (a.slides.eq(a.currentSlide).css({
                    opacity: 0,
                    zIndex: 1
                }), a.slides.eq(e).css({
                    opacity: 1,
                    zIndex: 2
                }), a.wrapup(f)) : (a.slides.eq(a.currentSlide).css({
                    zIndex: 1
                }).animate({
                    opacity: 0
                }, a.vars.animationSpeed, a.vars.easing), a.slides.eq(e).css({
                    zIndex: 2
                }).animate({
                    opacity: 1
                }, a.vars.animationSpeed, a.vars.easing, a.wrapup)); else {
                    var f = c ? a.slides.filter(":first").height() : a.computedW, g, h, S;
                    u ? (g = a.vars.itemMargin, S = (a.itemW + g) * a.move * a.animatingTo, h = S > a.limit && 1 !== a.visible ? a.limit : S) : h = 0 === a.currentSlide && e === a.count - 1 && a.vars.animationLoop && "next" !== a.direction ? d ? (a.count + a.cloneOffset) * f : 0 : a.currentSlide === a.last && 0 === e && a.vars.animationLoop && "prev" !== a.direction ? d ? 0 : (a.count + 1) * f : d ? (a.count - 1 - e + a.cloneOffset) * f : (e + a.cloneOffset) * f, 
                    a.setProps(h, "", a.vars.animationSpeed), a.transitions ? (a.vars.animationLoop && a.atEnd || (a.animating = !1, 
                    a.currentSlide = a.animatingTo), a.container.unbind("webkitTransitionEnd transitionend"), 
                    a.container.bind("webkitTransitionEnd transitionend", function() {
                        clearTimeout(a.ensureAnimationEnd), a.wrapup(f);
                    }), clearTimeout(a.ensureAnimationEnd), a.ensureAnimationEnd = setTimeout(function() {
                        a.wrapup(f);
                    }, a.vars.animationSpeed + 100)) : a.container.animate(a.args, a.vars.animationSpeed, a.vars.easing, function() {
                        a.wrapup(f);
                    });
                }
                a.vars.smoothHeight && m.smoothHeight(a.vars.animationSpeed);
            }
        }, a.wrapup = function(e) {
            v || u || (0 === a.currentSlide && a.animatingTo === a.last && a.vars.animationLoop ? a.setProps(e, "jumpEnd") : a.currentSlide === a.last && 0 === a.animatingTo && a.vars.animationLoop && a.setProps(e, "jumpStart")), 
            a.animating = !1, a.currentSlide = a.animatingTo, a.vars.after(a);
        }, a.animateSlides = function() {
            !a.animating && f && a.flexAnimate(a.getTarget("next"));
        }, a.pause = function() {
            clearInterval(a.animatedSlides), a.animatedSlides = null, a.playing = !1, a.vars.pausePlay && m.pausePlay.update("play"), 
            a.syncExists && m.sync("pause");
        }, a.play = function() {
            a.playing && clearInterval(a.animatedSlides), a.animatedSlides = a.animatedSlides || setInterval(a.animateSlides, a.vars.slideshowSpeed), 
            a.started = a.playing = !0, a.vars.pausePlay && m.pausePlay.update("pause"), a.syncExists && m.sync("play");
        }, a.stop = function() {
            a.pause(), a.stopped = !0;
        }, a.canAdvance = function(e, t) {
            var n = p ? a.pagingCount - 1 : a.last;
            return t ? !0 : p && a.currentItem === a.count - 1 && 0 === e && "prev" === a.direction ? !0 : p && 0 === a.currentItem && e === a.pagingCount - 1 && "next" !== a.direction ? !1 : e !== a.currentSlide || p ? a.vars.animationLoop ? !0 : a.atEnd && 0 === a.currentSlide && e === n && "next" !== a.direction ? !1 : a.atEnd && a.currentSlide === n && 0 === e && "next" === a.direction ? !1 : !0 : !1;
        }, a.getTarget = function(e) {
            return a.direction = e, "next" === e ? a.currentSlide === a.last ? 0 : a.currentSlide + 1 : 0 === a.currentSlide ? a.last : a.currentSlide - 1;
        }, a.setProps = function(e, t, n) {
            var i = function() {
                var n = e ? e : (a.itemW + a.vars.itemMargin) * a.move * a.animatingTo, i = function() {
                    if (u) return "setTouch" === t ? e : d && a.animatingTo === a.last ? 0 : d ? a.limit - (a.itemW + a.vars.itemMargin) * a.move * a.animatingTo : a.animatingTo === a.last ? a.limit : n;
                    switch (t) {
                      case "setTotal":
                        return d ? (a.count - 1 - a.currentSlide + a.cloneOffset) * e : (a.currentSlide + a.cloneOffset) * e;

                      case "setTouch":
                        return d ? e : e;

                      case "jumpEnd":
                        return d ? e : a.count * e;

                      case "jumpStart":
                        return d ? a.count * e : e;

                      default:
                        return e;
                    }
                }();
                return -1 * i + "px";
            }();
            a.transitions && (i = c ? "translate3d(0," + i + ",0)" : "translate3d(" + i + ",0,0)", 
            n = void 0 !== n ? n / 1e3 + "s" : "0s", a.container.css("-" + a.pfx + "-transition-duration", n), 
            a.container.css("transition-duration", n)), a.args[a.prop] = i, (a.transitions || void 0 === n) && a.container.css(a.args), 
            a.container.css("transform", i);
        }, a.setup = function(e) {
            if (v) a.slides.css({
                width: "100%",
                "float": "left",
                marginRight: "-100%",
                position: "relative"
            }), "init" === e && (s ? a.slides.css({
                opacity: 0,
                display: "block",
                webkitTransition: "opacity " + a.vars.animationSpeed / 1e3 + "s ease",
                zIndex: 1
            }).eq(a.currentSlide).css({
                opacity: 1,
                zIndex: 2
            }) : 0 == a.vars.fadeFirstSlide ? a.slides.css({
                opacity: 0,
                display: "block",
                zIndex: 1
            }).eq(a.currentSlide).css({
                zIndex: 2
            }).css({
                opacity: 1
            }) : a.slides.css({
                opacity: 0,
                display: "block",
                zIndex: 1
            }).eq(a.currentSlide).css({
                zIndex: 2
            }).animate({
                opacity: 1
            }, a.vars.animationSpeed, a.vars.easing)), a.vars.smoothHeight && m.smoothHeight(); else {
                var t, i;
                "init" === e && (a.viewport = $('<div class="' + n + 'viewport"></div>').css({
                    overflow: "hidden",
                    position: "relative"
                }).appendTo(a).append(a.container), a.cloneCount = 0, a.cloneOffset = 0, d && (i = $.makeArray(a.slides).reverse(), 
                a.slides = $(i), a.container.empty().append(a.slides))), a.vars.animationLoop && !u && (a.cloneCount = 2, 
                a.cloneOffset = 1, "init" !== e && a.container.find(".clone").remove(), a.container.append(m.uniqueID(a.slides.first().clone().addClass("clone")).attr("aria-hidden", "true")).prepend(m.uniqueID(a.slides.last().clone().addClass("clone")).attr("aria-hidden", "true"))), 
                a.newSlides = $(a.vars.selector, a), t = d ? a.count - 1 - a.currentSlide + a.cloneOffset : a.currentSlide + a.cloneOffset, 
                c && !u ? (a.container.height(200 * (a.count + a.cloneCount) + "%").css("position", "absolute").width("100%"), 
                setTimeout(function() {
                    a.newSlides.css({
                        display: "block"
                    }), a.doMath(), a.viewport.height(a.h), a.setProps(t * a.h, "init");
                }, "init" === e ? 100 : 0)) : (a.container.width(200 * (a.count + a.cloneCount) + "%"), 
                a.setProps(t * a.computedW, "init"), setTimeout(function() {
                    a.doMath(), a.newSlides.css({
                        width: a.computedW,
                        "float": "left",
                        display: "block"
                    }), a.vars.smoothHeight && m.smoothHeight();
                }, "init" === e ? 100 : 0));
            }
            u || a.slides.removeClass(n + "active-slide").eq(a.currentSlide).addClass(n + "active-slide"), 
            a.vars.init(a);
        }, a.doMath = function() {
            var e = a.slides.first(), t = a.vars.itemMargin, n = a.vars.minItems, i = a.vars.maxItems;
            a.w = void 0 === a.viewport ? a.width() : a.viewport.width(), a.h = e.height(), 
            a.boxPadding = e.outerWidth() - e.width(), u ? (a.itemT = a.vars.itemWidth + t, 
            a.minW = n ? n * a.itemT : a.w, a.maxW = i ? i * a.itemT - t : a.w, a.itemW = a.minW > a.w ? (a.w - t * (n - 1)) / n : a.maxW < a.w ? (a.w - t * (i - 1)) / i : a.vars.itemWidth > a.w ? a.w : a.vars.itemWidth, 
            a.visible = Math.floor(a.w / a.itemW), a.move = a.vars.move > 0 && a.vars.move < a.visible ? a.vars.move : a.visible, 
            a.pagingCount = Math.ceil((a.count - a.visible) / a.move + 1), a.last = a.pagingCount - 1, 
            a.limit = 1 === a.pagingCount ? 0 : a.vars.itemWidth > a.w ? a.itemW * (a.count - 1) + t * (a.count - 1) : (a.itemW + t) * a.count - a.w - t) : (a.itemW = a.w, 
            a.pagingCount = a.count, a.last = a.count - 1), a.computedW = a.itemW - a.boxPadding;
        }, a.update = function(e, t) {
            a.doMath(), u || (e < a.currentSlide ? a.currentSlide += 1 : e <= a.currentSlide && 0 !== e && (a.currentSlide -= 1), 
            a.animatingTo = a.currentSlide), a.vars.controlNav && !a.manualControls && ("add" === t && !u || a.pagingCount > a.controlNav.length ? m.controlNav.update("add") : ("remove" === t && !u || a.pagingCount < a.controlNav.length) && (u && a.currentSlide > a.last && (a.currentSlide -= 1, 
            a.animatingTo -= 1), m.controlNav.update("remove", a.last))), a.vars.directionNav && m.directionNav.update();
        }, a.addSlide = function(e, t) {
            var n = $(e);
            a.count += 1, a.last = a.count - 1, c && d ? void 0 !== t ? a.slides.eq(a.count - t).after(n) : a.container.prepend(n) : void 0 !== t ? a.slides.eq(t).before(n) : a.container.append(n), 
            a.update(t, "add"), a.slides = $(a.vars.selector + ":not(.clone)", a), a.setup(), 
            a.vars.added(a);
        }, a.removeSlide = function(e) {
            var t = isNaN(e) ? a.slides.index($(e)) : e;
            a.count -= 1, a.last = a.count - 1, isNaN(e) ? $(e, a.slides).remove() : c && d ? a.slides.eq(a.last).remove() : a.slides.eq(e).remove(), 
            a.doMath(), a.update(t, "remove"), a.slides = $(a.vars.selector + ":not(.clone)", a), 
            a.setup(), a.vars.removed(a);
        }, m.init();
    }, $(window).blur(function(e) {
        focused = !1;
    }).focus(function(e) {
        focused = !0;
    }), $.flexslider.defaults = {
        namespace: "flex-",
        selector: ".slides > li",
        animation: "fade",
        easing: "swing",
        direction: "horizontal",
        reverse: !1,
        animationLoop: !0,
        smoothHeight: !1,
        startAt: 0,
        slideshow: !0,
        slideshowSpeed: 7e3,
        animationSpeed: 600,
        initDelay: 0,
        randomize: !1,
        fadeFirstSlide: !0,
        thumbCaptions: !1,
        pauseOnAction: !0,
        pauseOnHover: !1,
        pauseInvisible: !0,
        useCSS: !0,
        touch: !0,
        video: !1,
        controlNav: !0,
        directionNav: !0,
        prevText: "Previous",
        nextText: "Next",
        keyboard: !0,
        multipleKeyboard: !1,
        mousewheel: !1,
        pausePlay: !1,
        pauseText: "Pause",
        playText: "Play",
        controlsContainer: "",
        manualControls: "",
        customDirectionNav: "",
        sync: "",
        asNavFor: "",
        itemWidth: 0,
        itemMargin: 0,
        minItems: 1,
        maxItems: 0,
        move: 0,
        allowOneSlide: !0,
        start: function() {},
        before: function() {},
        after: function() {},
        end: function() {},
        added: function() {},
        removed: function() {},
        init: function() {}
    }, $.fn.flexslider = function(e) {
        if (void 0 === e && (e = {}), "object" == typeof e) return this.each(function() {
            var t = $(this), a = e.selector ? e.selector : ".slides > li", n = t.find(a);
            1 === n.length && e.allowOneSlide === !0 || 0 === n.length ? (n.fadeIn(400), e.start && e.start(t)) : void 0 === t.data("flexslider") && new $.flexslider(this, e);
        });
        var t = $(this).data("flexslider");
        switch (e) {
          case "play":
            t.play();
            break;

          case "pause":
            t.pause();
            break;

          case "stop":
            t.stop();
            break;

          case "next":
            t.flexAnimate(t.getTarget("next"), !0);
            break;

          case "prev":
          case "previous":
            t.flexAnimate(t.getTarget("prev"), !0);
            break;

          default:
            "number" == typeof e && t.flexAnimate(e, !0);
        }
    };
}(jQuery);

(function(e) {
    "function" == typeof define && define.amd ? define([ "jquery" ], e) : "object" == typeof exports ? e(require("jquery")) : e(window.jQuery || window.Zepto);
})(function(e) {
    var t, n, i, o, r, a, s, l = "Close", c = "BeforeClose", d = "AfterClose", u = "BeforeAppend", p = "MarkupParse", f = "Open", m = "Change", g = "mfp", h = "." + g, v = "mfp-ready", C = "mfp-removing", y = "mfp-prevent-close", w = function() {}, b = !!window.jQuery, I = e(window), x = function(e, n) {
        t.ev.on(g + e + h, n);
    }, k = function(t, n, i, o) {
        var r = document.createElement("div");
        return r.className = "mfp-" + t, i && (r.innerHTML = i), o ? n && n.appendChild(r) : (r = e(r), 
        n && r.appendTo(n)), r;
    }, T = function(n, i) {
        t.ev.triggerHandler(g + n, i), t.st.callbacks && (n = n.charAt(0).toLowerCase() + n.slice(1), 
        t.st.callbacks[n] && t.st.callbacks[n].apply(t, e.isArray(i) ? i : [ i ]));
    }, E = function(n) {
        return n === s && t.currTemplate.closeBtn || (t.currTemplate.closeBtn = e(t.st.closeMarkup.replace("%title%", t.st.tClose)), 
        s = n), t.currTemplate.closeBtn;
    }, _ = function() {
        e.magnificPopup.instance || (t = new w(), t.init(), e.magnificPopup.instance = t);
    }, S = function() {
        var e = document.createElement("p").style, t = [ "ms", "O", "Moz", "Webkit" ];
        if (void 0 !== e.transition) return !0;
        for (;t.length; ) if (t.pop() + "Transition" in e) return !0;
        return !1;
    };
    w.prototype = {
        constructor: w,
        init: function() {
            var n = navigator.appVersion;
            t.isIE7 = -1 !== n.indexOf("MSIE 7."), t.isIE8 = -1 !== n.indexOf("MSIE 8."), t.isLowIE = t.isIE7 || t.isIE8, 
            t.isAndroid = /android/gi.test(n), t.isIOS = /iphone|ipad|ipod/gi.test(n), t.supportsTransition = S(), 
            t.probablyMobile = t.isAndroid || t.isIOS || /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent), 
            o = e(document), t.popupsCache = {};
        },
        open: function(n) {
            i || (i = e(document.body));
            var r;
            if (n.isObj === !1) {
                t.items = n.items.toArray(), t.index = 0;
                var s, l = n.items;
                for (r = 0; l.length > r; r++) if (s = l[r], s.parsed && (s = s.el[0]), s === n.el[0]) {
                    t.index = r;
                    break;
                }
            } else t.items = e.isArray(n.items) ? n.items : [ n.items ], t.index = n.index || 0;
            if (t.isOpen) return t.updateItemHTML(), void 0;
            t.types = [], a = "", t.ev = n.mainEl && n.mainEl.length ? n.mainEl.eq(0) : o, n.key ? (t.popupsCache[n.key] || (t.popupsCache[n.key] = {}), 
            t.currTemplate = t.popupsCache[n.key]) : t.currTemplate = {}, t.st = e.extend(!0, {}, e.magnificPopup.defaults, n), 
            t.fixedContentPos = "auto" === t.st.fixedContentPos ? !t.probablyMobile : t.st.fixedContentPos, 
            t.st.modal && (t.st.closeOnContentClick = !1, t.st.closeOnBgClick = !1, t.st.showCloseBtn = !1, 
            t.st.enableEscapeKey = !1), t.bgOverlay || (t.bgOverlay = k("bg").on("click" + h, function() {
                t.close();
            }), t.wrap = k("wrap").attr("tabindex", -1).on("click" + h, function(e) {
                t._checkIfClose(e.target) && t.close();
            }), t.container = k("container", t.wrap)), t.contentContainer = k("content"), t.st.preloader && (t.preloader = k("preloader", t.container, t.st.tLoading));
            var c = e.magnificPopup.modules;
            for (r = 0; c.length > r; r++) {
                var d = c[r];
                d = d.charAt(0).toUpperCase() + d.slice(1), t["init" + d].call(t);
            }
            T("BeforeOpen"), t.st.showCloseBtn && (t.st.closeBtnInside ? (x(p, function(e, t, n, i) {
                n.close_replaceWith = E(i.type);
            }), a += " mfp-close-btn-in") : t.wrap.append(E())), t.st.alignTop && (a += " mfp-align-top"), 
            t.fixedContentPos ? t.wrap.css({
                overflow: t.st.overflowY,
                overflowX: "hidden",
                overflowY: t.st.overflowY
            }) : t.wrap.css({
                top: I.scrollTop(),
                position: "absolute"
            }), (t.st.fixedBgPos === !1 || "auto" === t.st.fixedBgPos && !t.fixedContentPos) && t.bgOverlay.css({
                height: o.height(),
                position: "absolute"
            }), t.st.enableEscapeKey && o.on("keyup" + h, function(e) {
                27 === e.keyCode && t.close();
            }), I.on("resize" + h, function() {
                t.updateSize();
            }), t.st.closeOnContentClick || (a += " mfp-auto-cursor"), a && t.wrap.addClass(a);
            var u = t.wH = I.height(), m = {};
            if (t.fixedContentPos && t._hasScrollBar(u)) {
                var g = t._getScrollbarSize();
                g && (m.marginRight = g);
            }
            t.fixedContentPos && (t.isIE7 ? e("body, html").css("overflow", "hidden") : m.overflow = "hidden");
            var C = t.st.mainClass;
            return t.isIE7 && (C += " mfp-ie7"), C && t._addClassToMFP(C), t.updateItemHTML(), 
            T("BuildControls"), e("html").css(m), t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo || i), 
            t._lastFocusedEl = document.activeElement, setTimeout(function() {
                t.content ? (t._addClassToMFP(v), t._setFocus()) : t.bgOverlay.addClass(v), o.on("focusin" + h, t._onFocusIn);
            }, 16), t.isOpen = !0, t.updateSize(u), T(f), n;
        },
        close: function() {
            t.isOpen && (T(c), t.isOpen = !1, t.st.removalDelay && !t.isLowIE && t.supportsTransition ? (t._addClassToMFP(C), 
            setTimeout(function() {
                t._close();
            }, t.st.removalDelay)) : t._close());
        },
        _close: function() {
            T(l);
            var n = C + " " + v + " ";
            if (t.bgOverlay.detach(), t.wrap.detach(), t.container.empty(), t.st.mainClass && (n += t.st.mainClass + " "), 
            t._removeClassFromMFP(n), t.fixedContentPos) {
                var i = {
                    marginRight: ""
                };
                t.isIE7 ? e("body, html").css("overflow", "") : i.overflow = "", e("html").css(i);
            }
            o.off("keyup" + h + " focusin" + h), t.ev.off(h), t.wrap.attr("class", "mfp-wrap").removeAttr("style"), 
            t.bgOverlay.attr("class", "mfp-bg"), t.container.attr("class", "mfp-container"), 
            !t.st.showCloseBtn || t.st.closeBtnInside && t.currTemplate[t.currItem.type] !== !0 || t.currTemplate.closeBtn && t.currTemplate.closeBtn.detach(), 
            t._lastFocusedEl && e(t._lastFocusedEl).focus(), t.currItem = null, t.content = null, 
            t.currTemplate = null, t.prevHeight = 0, T(d);
        },
        updateSize: function(e) {
            if (t.isIOS) {
                var n = document.documentElement.clientWidth / window.innerWidth, i = window.innerHeight * n;
                t.wrap.css("height", i), t.wH = i;
            } else t.wH = e || I.height();
            t.fixedContentPos || t.wrap.css("height", t.wH), T("Resize");
        },
        updateItemHTML: function() {
            var n = t.items[t.index];
            t.contentContainer.detach(), t.content && t.content.detach(), n.parsed || (n = t.parseEl(t.index));
            var i = n.type;
            if (T("BeforeChange", [ t.currItem ? t.currItem.type : "", i ]), t.currItem = n, 
            !t.currTemplate[i]) {
                var o = t.st[i] ? t.st[i].markup : !1;
                T("FirstMarkupParse", o), t.currTemplate[i] = o ? e(o) : !0;
            }
            r && r !== n.type && t.container.removeClass("mfp-" + r + "-holder");
            var a = t["get" + i.charAt(0).toUpperCase() + i.slice(1)](n, t.currTemplate[i]);
            t.appendContent(a, i), n.preloaded = !0, T(m, n), r = n.type, t.container.prepend(t.contentContainer), 
            T("AfterChange");
        },
        appendContent: function(e, n) {
            t.content = e, e ? t.st.showCloseBtn && t.st.closeBtnInside && t.currTemplate[n] === !0 ? t.content.find(".mfp-close").length || t.content.append(E()) : t.content = e : t.content = "", 
            T(u), t.container.addClass("mfp-" + n + "-holder"), t.contentContainer.append(t.content);
        },
        parseEl: function(n) {
            var i, o = t.items[n];
            if (o.tagName ? o = {
                el: e(o)
            } : (i = o.type, o = {
                data: o,
                src: o.src
            }), o.el) {
                for (var r = t.types, a = 0; r.length > a; a++) if (o.el.hasClass("mfp-" + r[a])) {
                    i = r[a];
                    break;
                }
                o.src = o.el.attr("data-mfp-src"), o.src || (o.src = o.el.attr("href"));
            }
            return o.type = i || t.st.type || "inline", o.index = n, o.parsed = !0, t.items[n] = o, 
            T("ElementParse", o), t.items[n];
        },
        addGroup: function(e, n) {
            var i = function(i) {
                i.mfpEl = this, t._openClick(i, e, n);
            };
            n || (n = {});
            var o = "click.magnificPopup";
            n.mainEl = e, n.items ? (n.isObj = !0, e.off(o).on(o, i)) : (n.isObj = !1, n.delegate ? e.off(o).on(o, n.delegate, i) : (n.items = e, 
            e.off(o).on(o, i)));
        },
        _openClick: function(n, i, o) {
            var r = void 0 !== o.midClick ? o.midClick : e.magnificPopup.defaults.midClick;
            if (r || 2 !== n.which && !n.ctrlKey && !n.metaKey) {
                var a = void 0 !== o.disableOn ? o.disableOn : e.magnificPopup.defaults.disableOn;
                if (a) if (e.isFunction(a)) {
                    if (!a.call(t)) return !0;
                } else if (a > I.width()) return !0;
                n.type && (n.preventDefault(), t.isOpen && n.stopPropagation()), o.el = e(n.mfpEl), 
                o.delegate && (o.items = i.find(o.delegate)), t.open(o);
            }
        },
        updateStatus: function(e, i) {
            if (t.preloader) {
                n !== e && t.container.removeClass("mfp-s-" + n), i || "loading" !== e || (i = t.st.tLoading);
                var o = {
                    status: e,
                    text: i
                };
                T("UpdateStatus", o), e = o.status, i = o.text, t.preloader.html(i), t.preloader.find("a").on("click", function(e) {
                    e.stopImmediatePropagation();
                }), t.container.addClass("mfp-s-" + e), n = e;
            }
        },
        _checkIfClose: function(n) {
            if (!e(n).hasClass(y)) {
                var i = t.st.closeOnContentClick, o = t.st.closeOnBgClick;
                if (i && o) return !0;
                if (!t.content || e(n).hasClass("mfp-close") || t.preloader && n === t.preloader[0]) return !0;
                if (n === t.content[0] || e.contains(t.content[0], n)) {
                    if (i) return !0;
                } else if (o && e.contains(document, n)) return !0;
                return !1;
            }
        },
        _addClassToMFP: function(e) {
            t.bgOverlay.addClass(e), t.wrap.addClass(e);
        },
        _removeClassFromMFP: function(e) {
            this.bgOverlay.removeClass(e), t.wrap.removeClass(e);
        },
        _hasScrollBar: function(e) {
            return (t.isIE7 ? o.height() : document.body.scrollHeight) > (e || I.height());
        },
        _setFocus: function() {
            (t.st.focus ? t.content.find(t.st.focus).eq(0) : t.wrap).focus();
        },
        _onFocusIn: function(n) {
            return n.target === t.wrap[0] || e.contains(t.wrap[0], n.target) ? void 0 : (t._setFocus(), 
            !1);
        },
        _parseMarkup: function(t, n, i) {
            var o;
            i.data && (n = e.extend(i.data, n)), T(p, [ t, n, i ]), e.each(n, function(e, n) {
                if (void 0 === n || n === !1) return !0;
                if (o = e.split("_"), o.length > 1) {
                    var i = t.find(h + "-" + o[0]);
                    if (i.length > 0) {
                        var r = o[1];
                        "replaceWith" === r ? i[0] !== n[0] && i.replaceWith(n) : "img" === r ? i.is("img") ? i.attr("src", n) : i.replaceWith('<img src="' + n + '" class="' + i.attr("class") + '" />') : i.attr(o[1], n);
                    }
                } else t.find(h + "-" + e).html(n);
            });
        },
        _getScrollbarSize: function() {
            if (void 0 === t.scrollbarSize) {
                var e = document.createElement("div");
                e.style.cssText = "width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;", 
                document.body.appendChild(e), t.scrollbarSize = e.offsetWidth - e.clientWidth, document.body.removeChild(e);
            }
            return t.scrollbarSize;
        }
    }, e.magnificPopup = {
        instance: null,
        proto: w.prototype,
        modules: [],
        open: function(t, n) {
            return _(), t = t ? e.extend(!0, {}, t) : {}, t.isObj = !0, t.index = n || 0, this.instance.open(t);
        },
        close: function() {
            return e.magnificPopup.instance && e.magnificPopup.instance.close();
        },
        registerModule: function(t, n) {
            n.options && (e.magnificPopup.defaults[t] = n.options), e.extend(this.proto, n.proto), 
            this.modules.push(t);
        },
        defaults: {
            disableOn: 0,
            key: null,
            midClick: !1,
            mainClass: "",
            preloader: !0,
            focus: "",
            closeOnContentClick: !1,
            closeOnBgClick: !0,
            closeBtnInside: !0,
            showCloseBtn: !0,
            enableEscapeKey: !0,
            modal: !1,
            alignTop: !1,
            removalDelay: 0,
            prependTo: null,
            fixedContentPos: "auto",
            fixedBgPos: "auto",
            overflowY: "auto",
            closeMarkup: '<button title="%title%" type="button" class="mfp-close">&times;</button>',
            tClose: "Close (Esc)",
            tLoading: "Loading..."
        }
    }, e.fn.magnificPopup = function(n) {
        _();
        var i = e(this);
        if ("string" == typeof n) if ("open" === n) {
            var o, r = b ? i.data("magnificPopup") : i[0].magnificPopup, a = parseInt(arguments[1], 10) || 0;
            r.items ? o = r.items[a] : (o = i, r.delegate && (o = o.find(r.delegate)), o = o.eq(a)), 
            t._openClick({
                mfpEl: o
            }, i, r);
        } else t.isOpen && t[n].apply(t, Array.prototype.slice.call(arguments, 1)); else n = e.extend(!0, {}, n), 
        b ? i.data("magnificPopup", n) : i[0].magnificPopup = n, t.addGroup(i, n);
        return i;
    };
    var P, O, z, M = "inline", B = function() {
        z && (O.after(z.addClass(P)).detach(), z = null);
    };
    e.magnificPopup.registerModule(M, {
        options: {
            hiddenClass: "hide",
            markup: "",
            tNotFound: "Content not found"
        },
        proto: {
            initInline: function() {
                t.types.push(M), x(l + "." + M, function() {
                    B();
                });
            },
            getInline: function(n, i) {
                if (B(), n.src) {
                    var o = t.st.inline, r = e(n.src);
                    if (r.length) {
                        var a = r[0].parentNode;
                        a && a.tagName && (O || (P = o.hiddenClass, O = k(P), P = "mfp-" + P), z = r.after(O).detach().removeClass(P)), 
                        t.updateStatus("ready");
                    } else t.updateStatus("error", o.tNotFound), r = e("<div>");
                    return n.inlineElement = r, r;
                }
                return t.updateStatus("ready"), t._parseMarkup(i, {}, n), i;
            }
        }
    });
    var F, H = "ajax", L = function() {
        F && i.removeClass(F);
    }, A = function() {
        L(), t.req && t.req.abort();
    };
    e.magnificPopup.registerModule(H, {
        options: {
            settings: null,
            cursor: "mfp-ajax-cur",
            tError: '<a href="%url%">The content</a> could not be loaded.'
        },
        proto: {
            initAjax: function() {
                t.types.push(H), F = t.st.ajax.cursor, x(l + "." + H, A), x("BeforeChange." + H, A);
            },
            getAjax: function(n) {
                F && i.addClass(F), t.updateStatus("loading");
                var o = e.extend({
                    url: n.src,
                    success: function(i, o, r) {
                        var a = {
                            data: i,
                            xhr: r
                        };
                        T("ParseAjax", a), t.appendContent(e(a.data), H), n.finished = !0, L(), t._setFocus(), 
                        setTimeout(function() {
                            t.wrap.addClass(v);
                        }, 16), t.updateStatus("ready"), T("AjaxContentAdded");
                    },
                    error: function() {
                        L(), n.finished = n.loadError = !0, t.updateStatus("error", t.st.ajax.tError.replace("%url%", n.src));
                    }
                }, t.st.ajax.settings);
                return t.req = e.ajax(o), "";
            }
        }
    });
    var j, N = function(n) {
        if (n.data && void 0 !== n.data.title) return n.data.title;
        var i = t.st.image.titleSrc;
        if (i) {
            if (e.isFunction(i)) return i.call(t, n);
            if (n.el) return n.el.attr(i) || "";
        }
        return "";
    };
    e.magnificPopup.registerModule("image", {
        options: {
            markup: '<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',
            cursor: "mfp-zoom-out-cur",
            titleSrc: "title",
            verticalFit: !0,
            tError: '<a href="%url%">The image</a> could not be loaded.'
        },
        proto: {
            initImage: function() {
                var e = t.st.image, n = ".image";
                t.types.push("image"), x(f + n, function() {
                    "image" === t.currItem.type && e.cursor && i.addClass(e.cursor);
                }), x(l + n, function() {
                    e.cursor && i.removeClass(e.cursor), I.off("resize" + h);
                }), x("Resize" + n, t.resizeImage), t.isLowIE && x("AfterChange", t.resizeImage);
            },
            resizeImage: function() {
                var e = t.currItem;
                if (e && e.img && t.st.image.verticalFit) {
                    var n = 0;
                    t.isLowIE && (n = parseInt(e.img.css("padding-top"), 10) + parseInt(e.img.css("padding-bottom"), 10)), 
                    e.img.css("max-height", t.wH - n);
                }
            },
            _onImageHasSize: function(e) {
                e.img && (e.hasSize = !0, j && clearInterval(j), e.isCheckingImgSize = !1, T("ImageHasSize", e), 
                e.imgHidden && (t.content && t.content.removeClass("mfp-loading"), e.imgHidden = !1));
            },
            findImageSize: function(e) {
                var n = 0, i = e.img[0], o = function(r) {
                    j && clearInterval(j), j = setInterval(function() {
                        return i.naturalWidth > 0 ? (t._onImageHasSize(e), void 0) : (n > 200 && clearInterval(j), 
                        n++, 3 === n ? o(10) : 40 === n ? o(50) : 100 === n && o(500), void 0);
                    }, r);
                };
                o(1);
            },
            getImage: function(n, i) {
                var o = 0, r = function() {
                    n && (n.img[0].complete ? (n.img.off(".mfploader"), n === t.currItem && (t._onImageHasSize(n), 
                    t.updateStatus("ready")), n.hasSize = !0, n.loaded = !0, T("ImageLoadComplete")) : (o++, 
                    200 > o ? setTimeout(r, 100) : a()));
                }, a = function() {
                    n && (n.img.off(".mfploader"), n === t.currItem && (t._onImageHasSize(n), t.updateStatus("error", s.tError.replace("%url%", n.src))), 
                    n.hasSize = !0, n.loaded = !0, n.loadError = !0);
                }, s = t.st.image, l = i.find(".mfp-img");
                if (l.length) {
                    var c = document.createElement("img");
                    c.className = "mfp-img", n.el && n.el.find("img").length && (c.alt = n.el.find("img").attr("alt")), 
                    n.img = e(c).on("load.mfploader", r).on("error.mfploader", a), c.src = n.src, l.is("img") && (n.img = n.img.clone()), 
                    c = n.img[0], c.naturalWidth > 0 ? n.hasSize = !0 : c.width || (n.hasSize = !1);
                }
                return t._parseMarkup(i, {
                    title: N(n),
                    img_replaceWith: n.img
                }, n), t.resizeImage(), n.hasSize ? (j && clearInterval(j), n.loadError ? (i.addClass("mfp-loading"), 
                t.updateStatus("error", s.tError.replace("%url%", n.src))) : (i.removeClass("mfp-loading"), 
                t.updateStatus("ready")), i) : (t.updateStatus("loading"), n.loading = !0, n.hasSize || (n.imgHidden = !0, 
                i.addClass("mfp-loading"), t.findImageSize(n)), i);
            }
        }
    });
    var W, R = function() {
        return void 0 === W && (W = void 0 !== document.createElement("p").style.MozTransform), 
        W;
    };
    e.magnificPopup.registerModule("zoom", {
        options: {
            enabled: !1,
            easing: "ease-in-out",
            duration: 300,
            opener: function(e) {
                return e.is("img") ? e : e.find("img");
            }
        },
        proto: {
            initZoom: function() {
                var e, n = t.st.zoom, i = ".zoom";
                if (n.enabled && t.supportsTransition) {
                    var o, r, a = n.duration, s = function(e) {
                        var t = e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"), i = "all " + n.duration / 1e3 + "s " + n.easing, o = {
                            position: "fixed",
                            zIndex: 9999,
                            left: 0,
                            top: 0,
                            "-webkit-backface-visibility": "hidden"
                        }, r = "transition";
                        return o["-webkit-" + r] = o["-moz-" + r] = o["-o-" + r] = o[r] = i, t.css(o), t;
                    }, d = function() {
                        t.content.css("visibility", "visible");
                    };
                    x("BuildControls" + i, function() {
                        if (t._allowZoom()) {
                            if (clearTimeout(o), t.content.css("visibility", "hidden"), e = t._getItemToZoom(), 
                            !e) return d(), void 0;
                            r = s(e), r.css(t._getOffset()), t.wrap.append(r), o = setTimeout(function() {
                                r.css(t._getOffset(!0)), o = setTimeout(function() {
                                    d(), setTimeout(function() {
                                        r.remove(), e = r = null, T("ZoomAnimationEnded");
                                    }, 16);
                                }, a);
                            }, 16);
                        }
                    }), x(c + i, function() {
                        if (t._allowZoom()) {
                            if (clearTimeout(o), t.st.removalDelay = a, !e) {
                                if (e = t._getItemToZoom(), !e) return;
                                r = s(e);
                            }
                            r.css(t._getOffset(!0)), t.wrap.append(r), t.content.css("visibility", "hidden"), 
                            setTimeout(function() {
                                r.css(t._getOffset());
                            }, 16);
                        }
                    }), x(l + i, function() {
                        t._allowZoom() && (d(), r && r.remove(), e = null);
                    });
                }
            },
            _allowZoom: function() {
                return "image" === t.currItem.type;
            },
            _getItemToZoom: function() {
                return t.currItem.hasSize ? t.currItem.img : !1;
            },
            _getOffset: function(n) {
                var i;
                i = n ? t.currItem.img : t.st.zoom.opener(t.currItem.el || t.currItem);
                var o = i.offset(), r = parseInt(i.css("padding-top"), 10), a = parseInt(i.css("padding-bottom"), 10);
                o.top -= e(window).scrollTop() - r;
                var s = {
                    width: i.width(),
                    height: (b ? i.innerHeight() : i[0].offsetHeight) - a - r
                };
                return R() ? s["-moz-transform"] = s.transform = "translate(" + o.left + "px," + o.top + "px)" : (s.left = o.left, 
                s.top = o.top), s;
            }
        }
    });
    var Z = "iframe", q = "//about:blank", D = function(e) {
        if (t.currTemplate[Z]) {
            var n = t.currTemplate[Z].find("iframe");
            n.length && (e || (n[0].src = q), t.isIE8 && n.css("display", e ? "block" : "none"));
        }
    };
    e.magnificPopup.registerModule(Z, {
        options: {
            markup: '<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',
            srcAction: "iframe_src",
            patterns: {
                youtube: {
                    index: "youtube.com",
                    id: "v=",
                    src: "//www.youtube.com/embed/%id%?autoplay=1"
                },
                vimeo: {
                    index: "vimeo.com/",
                    id: "/",
                    src: "//player.vimeo.com/video/%id%?autoplay=1"
                },
                gmaps: {
                    index: "//maps.google.",
                    src: "%id%&output=embed"
                }
            }
        },
        proto: {
            initIframe: function() {
                t.types.push(Z), x("BeforeChange", function(e, t, n) {
                    t !== n && (t === Z ? D() : n === Z && D(!0));
                }), x(l + "." + Z, function() {
                    D();
                });
            },
            getIframe: function(n, i) {
                var o = n.src, r = t.st.iframe;
                e.each(r.patterns, function() {
                    return o.indexOf(this.index) > -1 ? (this.id && (o = "string" == typeof this.id ? o.substr(o.lastIndexOf(this.id) + this.id.length, o.length) : this.id.call(this, o)), 
                    o = this.src.replace("%id%", o), !1) : void 0;
                });
                var a = {};
                return r.srcAction && (a[r.srcAction] = o), t._parseMarkup(i, a, n), t.updateStatus("ready"), 
                i;
            }
        }
    });
    var K = function(e) {
        var n = t.items.length;
        return e > n - 1 ? e - n : 0 > e ? n + e : e;
    }, Y = function(e, t, n) {
        return e.replace(/%curr%/gi, t + 1).replace(/%total%/gi, n);
    };
    e.magnificPopup.registerModule("gallery", {
        options: {
            enabled: !1,
            arrowMarkup: '<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',
            preload: [ 0, 2 ],
            navigateByImgClick: !0,
            arrows: !0,
            tPrev: "Previous (Left arrow key)",
            tNext: "Next (Right arrow key)",
            tCounter: "%curr% of %total%"
        },
        proto: {
            initGallery: function() {
                var n = t.st.gallery, i = ".mfp-gallery", r = Boolean(e.fn.mfpFastClick);
                return t.direction = !0, n && n.enabled ? (a += " mfp-gallery", x(f + i, function() {
                    n.navigateByImgClick && t.wrap.on("click" + i, ".mfp-img", function() {
                        return t.items.length > 1 ? (t.next(), !1) : void 0;
                    }), o.on("keydown" + i, function(e) {
                        37 === e.keyCode ? t.prev() : 39 === e.keyCode && t.next();
                    });
                }), x("UpdateStatus" + i, function(e, n) {
                    n.text && (n.text = Y(n.text, t.currItem.index, t.items.length));
                }), x(p + i, function(e, i, o, r) {
                    var a = t.items.length;
                    o.counter = a > 1 ? Y(n.tCounter, r.index, a) : "";
                }), x("BuildControls" + i, function() {
                    if (t.items.length > 1 && n.arrows && !t.arrowLeft) {
                        var i = n.arrowMarkup, o = t.arrowLeft = e(i.replace(/%title%/gi, n.tPrev).replace(/%dir%/gi, "left")).addClass(y), a = t.arrowRight = e(i.replace(/%title%/gi, n.tNext).replace(/%dir%/gi, "right")).addClass(y), s = r ? "mfpFastClick" : "click";
                        o[s](function() {
                            t.prev();
                        }), a[s](function() {
                            t.next();
                        }), t.isIE7 && (k("b", o[0], !1, !0), k("a", o[0], !1, !0), k("b", a[0], !1, !0), 
                        k("a", a[0], !1, !0)), t.container.append(o.add(a));
                    }
                }), x(m + i, function() {
                    t._preloadTimeout && clearTimeout(t._preloadTimeout), t._preloadTimeout = setTimeout(function() {
                        t.preloadNearbyImages(), t._preloadTimeout = null;
                    }, 16);
                }), x(l + i, function() {
                    o.off(i), t.wrap.off("click" + i), t.arrowLeft && r && t.arrowLeft.add(t.arrowRight).destroyMfpFastClick(), 
                    t.arrowRight = t.arrowLeft = null;
                }), void 0) : !1;
            },
            next: function() {
                t.direction = !0, t.index = K(t.index + 1), t.updateItemHTML();
            },
            prev: function() {
                t.direction = !1, t.index = K(t.index - 1), t.updateItemHTML();
            },
            goTo: function(e) {
                t.direction = e >= t.index, t.index = e, t.updateItemHTML();
            },
            preloadNearbyImages: function() {
                var e, n = t.st.gallery.preload, i = Math.min(n[0], t.items.length), o = Math.min(n[1], t.items.length);
                for (e = 1; (t.direction ? o : i) >= e; e++) t._preloadItem(t.index + e);
                for (e = 1; (t.direction ? i : o) >= e; e++) t._preloadItem(t.index - e);
            },
            _preloadItem: function(n) {
                if (n = K(n), !t.items[n].preloaded) {
                    var i = t.items[n];
                    i.parsed || (i = t.parseEl(n)), T("LazyLoad", i), "image" === i.type && (i.img = e('<img class="mfp-img" />').on("load.mfploader", function() {
                        i.hasSize = !0;
                    }).on("error.mfploader", function() {
                        i.hasSize = !0, i.loadError = !0, T("LazyLoadError", i);
                    }).attr("src", i.src)), i.preloaded = !0;
                }
            }
        }
    });
    var U = "retina";
    e.magnificPopup.registerModule(U, {
        options: {
            replaceSrc: function(e) {
                return e.src.replace(/\.\w+$/, function(e) {
                    return "@2x" + e;
                });
            },
            ratio: 1
        },
        proto: {
            initRetina: function() {
                if (window.devicePixelRatio > 1) {
                    var e = t.st.retina, n = e.ratio;
                    n = isNaN(n) ? n() : n, n > 1 && (x("ImageHasSize." + U, function(e, t) {
                        t.img.css({
                            "max-width": t.img[0].naturalWidth / n,
                            width: "100%"
                        });
                    }), x("ElementParse." + U, function(t, i) {
                        i.src = e.replaceSrc(i, n);
                    }));
                }
            }
        }
    }), function() {
        var t = 1e3, n = "ontouchstart" in window, i = function() {
            I.off("touchmove" + r + " touchend" + r);
        }, o = "mfpFastClick", r = "." + o;
        e.fn.mfpFastClick = function(o) {
            return e(this).each(function() {
                var a, s = e(this);
                if (n) {
                    var l, c, d, u, p, f;
                    s.on("touchstart" + r, function(e) {
                        u = !1, f = 1, p = e.originalEvent ? e.originalEvent.touches[0] : e.touches[0], 
                        c = p.clientX, d = p.clientY, I.on("touchmove" + r, function(e) {
                            p = e.originalEvent ? e.originalEvent.touches : e.touches, f = p.length, p = p[0], 
                            (Math.abs(p.clientX - c) > 10 || Math.abs(p.clientY - d) > 10) && (u = !0, i());
                        }).on("touchend" + r, function(e) {
                            i(), u || f > 1 || (a = !0, e.preventDefault(), clearTimeout(l), l = setTimeout(function() {
                                a = !1;
                            }, t), o());
                        });
                    });
                }
                s.on("click" + r, function() {
                    a || o();
                });
            });
        }, e.fn.destroyMfpFastClick = function() {
            e(this).off("touchstart" + r + " click" + r), n && I.off("touchmove" + r + " touchend" + r);
        };
    }(), _();
});

"function" !== typeof Object.create && (Object.create = function(f) {
    function g() {}
    g.prototype = f;
    return new g();
});

(function(f, g, k) {
    var l = {
        init: function(a, b) {
            this.$elem = f(b);
            this.options = f.extend({}, f.fn.owlCarousel.options, this.$elem.data(), a);
            this.userOptions = a;
            this.loadContent();
        },
        loadContent: function() {
            function a(a) {
                var d, e = "";
                if ("function" === typeof b.options.jsonSuccess) b.options.jsonSuccess.apply(this, [ a ]); else {
                    for (d in a.owl) a.owl.hasOwnProperty(d) && (e += a.owl[d].item);
                    b.$elem.html(e);
                }
                b.logIn();
            }
            var b = this, e;
            "function" === typeof b.options.beforeInit && b.options.beforeInit.apply(this, [ b.$elem ]);
            "string" === typeof b.options.jsonPath ? (e = b.options.jsonPath, f.getJSON(e, a)) : b.logIn();
        },
        logIn: function() {
            this.$elem.data("owl-originalStyles", this.$elem.attr("style"));
            this.$elem.data("owl-originalClasses", this.$elem.attr("class"));
            this.$elem.css({
                opacity: 0
            });
            this.orignalItems = this.options.items;
            this.checkBrowser();
            this.wrapperWidth = 0;
            this.checkVisible = null;
            this.setVars();
        },
        setVars: function() {
            if (0 === this.$elem.children().length) return !1;
            this.baseClass();
            this.eventTypes();
            this.$userItems = this.$elem.children();
            this.itemsAmount = this.$userItems.length;
            this.wrapItems();
            this.$owlItems = this.$elem.find(".owl-item");
            this.$owlWrapper = this.$elem.find(".owl-wrapper");
            this.playDirection = "next";
            this.prevItem = 0;
            this.prevArr = [ 0 ];
            this.currentItem = 0;
            this.customEvents();
            this.onStartup();
        },
        onStartup: function() {
            this.updateItems();
            this.calculateAll();
            this.buildControls();
            this.updateControls();
            this.response();
            this.moveEvents();
            this.stopOnHover();
            this.owlStatus();
            !1 !== this.options.transitionStyle && this.transitionTypes(this.options.transitionStyle);
            !0 === this.options.autoPlay && (this.options.autoPlay = 5e3);
            this.play();
            this.$elem.find(".owl-wrapper").css("display", "block");
            this.$elem.is(":visible") ? this.$elem.css("opacity", 1) : this.watchVisibility();
            this.onstartup = !1;
            this.eachMoveUpdate();
            "function" === typeof this.options.afterInit && this.options.afterInit.apply(this, [ this.$elem ]);
        },
        eachMoveUpdate: function() {
            !0 === this.options.lazyLoad && this.lazyLoad();
            !0 === this.options.autoHeight && this.autoHeight();
            this.onVisibleItems();
            "function" === typeof this.options.afterAction && this.options.afterAction.apply(this, [ this.$elem ]);
        },
        updateVars: function() {
            "function" === typeof this.options.beforeUpdate && this.options.beforeUpdate.apply(this, [ this.$elem ]);
            this.watchVisibility();
            this.updateItems();
            this.calculateAll();
            this.updatePosition();
            this.updateControls();
            this.eachMoveUpdate();
            "function" === typeof this.options.afterUpdate && this.options.afterUpdate.apply(this, [ this.$elem ]);
        },
        reload: function() {
            var a = this;
            g.setTimeout(function() {
                a.updateVars();
            }, 0);
        },
        watchVisibility: function() {
            var a = this;
            if (!1 === a.$elem.is(":visible")) a.$elem.css({
                opacity: 0
            }), g.clearInterval(a.autoPlayInterval), g.clearInterval(a.checkVisible); else return !1;
            a.checkVisible = g.setInterval(function() {
                a.$elem.is(":visible") && (a.reload(), a.$elem.animate({
                    opacity: 1
                }, 200), g.clearInterval(a.checkVisible));
            }, 500);
        },
        wrapItems: function() {
            this.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>');
            this.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">');
            this.wrapperOuter = this.$elem.find(".owl-wrapper-outer");
            this.$elem.css("display", "block");
        },
        baseClass: function() {
            var a = this.$elem.hasClass(this.options.baseClass), b = this.$elem.hasClass(this.options.theme);
            a || this.$elem.addClass(this.options.baseClass);
            b || this.$elem.addClass(this.options.theme);
        },
        updateItems: function() {
            var a, b;
            if (!1 === this.options.responsive) return !1;
            if (!0 === this.options.singleItem) return this.options.items = this.orignalItems = 1, 
            this.options.itemsCustom = !1, this.options.itemsDesktop = !1, this.options.itemsDesktopSmall = !1, 
            this.options.itemsTablet = !1, this.options.itemsTabletSmall = !1, this.options.itemsMobile = !1;
            a = f(this.options.responsiveBaseWidth).width();
            a > (this.options.itemsDesktop[0] || this.orignalItems) && (this.options.items = this.orignalItems);
            if (!1 !== this.options.itemsCustom) for (this.options.itemsCustom.sort(function(a, b) {
                return a[0] - b[0];
            }), b = 0; b < this.options.itemsCustom.length; b += 1) this.options.itemsCustom[b][0] <= a && (this.options.items = this.options.itemsCustom[b][1]); else a <= this.options.itemsDesktop[0] && !1 !== this.options.itemsDesktop && (this.options.items = this.options.itemsDesktop[1]), 
            a <= this.options.itemsDesktopSmall[0] && !1 !== this.options.itemsDesktopSmall && (this.options.items = this.options.itemsDesktopSmall[1]), 
            a <= this.options.itemsTablet[0] && !1 !== this.options.itemsTablet && (this.options.items = this.options.itemsTablet[1]), 
            a <= this.options.itemsTabletSmall[0] && !1 !== this.options.itemsTabletSmall && (this.options.items = this.options.itemsTabletSmall[1]), 
            a <= this.options.itemsMobile[0] && !1 !== this.options.itemsMobile && (this.options.items = this.options.itemsMobile[1]);
            this.options.items > this.itemsAmount && !0 === this.options.itemsScaleUp && (this.options.items = this.itemsAmount);
        },
        response: function() {
            var a = this, b, e;
            if (!0 !== a.options.responsive) return !1;
            e = f(g).width();
            a.resizer = function() {
                f(g).width() !== e && (!1 !== a.options.autoPlay && g.clearInterval(a.autoPlayInterval), 
                g.clearTimeout(b), b = g.setTimeout(function() {
                    e = f(g).width();
                    a.updateVars();
                }, a.options.responsiveRefreshRate));
            };
            f(g).resize(a.resizer);
        },
        updatePosition: function() {
            this.jumpTo(this.currentItem);
            !1 !== this.options.autoPlay && this.checkAp();
        },
        appendItemsSizes: function() {
            var a = this, b = 0, e = a.itemsAmount - a.options.items;
            a.$owlItems.each(function(c) {
                var d = f(this);
                d.css({
                    width: a.itemWidth
                }).data("owl-item", Number(c));
                if (0 === c % a.options.items || c === e) c > e || (b += 1);
                d.data("owl-roundPages", b);
            });
        },
        appendWrapperSizes: function() {
            this.$owlWrapper.css({
                width: this.$owlItems.length * this.itemWidth * 2,
                left: 0
            });
            this.appendItemsSizes();
        },
        calculateAll: function() {
            this.calculateWidth();
            this.appendWrapperSizes();
            this.loops();
            this.max();
        },
        calculateWidth: function() {
            this.itemWidth = Math.round(this.$elem.width() / this.options.items);
        },
        max: function() {
            var a = -1 * (this.itemsAmount * this.itemWidth - this.options.items * this.itemWidth);
            this.options.items > this.itemsAmount ? this.maximumPixels = a = this.maximumItem = 0 : (this.maximumItem = this.itemsAmount - this.options.items, 
            this.maximumPixels = a);
            return a;
        },
        min: function() {
            return 0;
        },
        loops: function() {
            var a = 0, b = 0, e, c;
            this.positionsInArray = [ 0 ];
            this.pagesInArray = [];
            for (e = 0; e < this.itemsAmount; e += 1) b += this.itemWidth, this.positionsInArray.push(-b), 
            !0 === this.options.scrollPerPage && (c = f(this.$owlItems[e]), c = c.data("owl-roundPages"), 
            c !== a && (this.pagesInArray[a] = this.positionsInArray[e], a = c));
        },
        buildControls: function() {
            if (!0 === this.options.navigation || !0 === this.options.pagination) this.owlControls = f('<div class="owl-controls"/>').toggleClass("clickable", !this.browser.isTouch).appendTo(this.$elem);
            !0 === this.options.pagination && this.buildPagination();
            !0 === this.options.navigation && this.buildButtons();
        },
        buildButtons: function() {
            var a = this, b = f('<div class="owl-buttons"/>');
            a.owlControls.append(b);
            a.buttonPrev = f("<div/>", {
                "class": "owl-prev",
                html: a.options.navigationText[0] || ""
            });
            a.buttonNext = f("<div/>", {
                "class": "owl-next",
                html: a.options.navigationText[1] || ""
            });
            b.append(a.buttonPrev).append(a.buttonNext);
            b.on("touchstart.owlControls mousedown.owlControls", 'div[class^="owl"]', function(a) {
                a.preventDefault();
            });
            b.on("touchend.owlControls mouseup.owlControls", 'div[class^="owl"]', function(b) {
                b.preventDefault();
                f(this).hasClass("owl-next") ? a.next() : a.prev();
            });
        },
        buildPagination: function() {
            var a = this;
            a.paginationWrapper = f('<div class="owl-pagination"/>');
            a.owlControls.append(a.paginationWrapper);
            a.paginationWrapper.on("touchend.owlControls mouseup.owlControls", ".owl-page", function(b) {
                b.preventDefault();
                Number(f(this).data("owl-page")) !== a.currentItem && a.goTo(Number(f(this).data("owl-page")), !0);
            });
        },
        updatePagination: function() {
            var a, b, e, c, d, g;
            if (!1 === this.options.pagination) return !1;
            this.paginationWrapper.html("");
            a = 0;
            b = this.itemsAmount - this.itemsAmount % this.options.items;
            for (c = 0; c < this.itemsAmount; c += 1) 0 === c % this.options.items && (a += 1, 
            b === c && (e = this.itemsAmount - this.options.items), d = f("<div/>", {
                "class": "owl-page"
            }), g = f("<span></span>", {
                text: !0 === this.options.paginationNumbers ? a : "",
                "class": !0 === this.options.paginationNumbers ? "owl-numbers" : ""
            }), d.append(g), d.data("owl-page", b === c ? e : c), d.data("owl-roundPages", a), 
            this.paginationWrapper.append(d));
            this.checkPagination();
        },
        checkPagination: function() {
            var a = this;
            if (!1 === a.options.pagination) return !1;
            a.paginationWrapper.find(".owl-page").each(function() {
                f(this).data("owl-roundPages") === f(a.$owlItems[a.currentItem]).data("owl-roundPages") && (a.paginationWrapper.find(".owl-page").removeClass("active"), 
                f(this).addClass("active"));
            });
        },
        checkNavigation: function() {
            if (!1 === this.options.navigation) return !1;
            !1 === this.options.rewindNav && (0 === this.currentItem && 0 === this.maximumItem ? (this.buttonPrev.addClass("disabled"), 
            this.buttonNext.addClass("disabled")) : 0 === this.currentItem && 0 !== this.maximumItem ? (this.buttonPrev.addClass("disabled"), 
            this.buttonNext.removeClass("disabled")) : this.currentItem === this.maximumItem ? (this.buttonPrev.removeClass("disabled"), 
            this.buttonNext.addClass("disabled")) : 0 !== this.currentItem && this.currentItem !== this.maximumItem && (this.buttonPrev.removeClass("disabled"), 
            this.buttonNext.removeClass("disabled")));
        },
        updateControls: function() {
            this.updatePagination();
            this.checkNavigation();
            this.owlControls && (this.options.items >= this.itemsAmount ? this.owlControls.hide() : this.owlControls.show());
        },
        destroyControls: function() {
            this.owlControls && this.owlControls.remove();
        },
        next: function(a) {
            if (this.isTransition) return !1;
            this.currentItem += !0 === this.options.scrollPerPage ? this.options.items : 1;
            if (this.currentItem > this.maximumItem + (!0 === this.options.scrollPerPage ? this.options.items - 1 : 0)) if (!0 === this.options.rewindNav) this.currentItem = 0, 
            a = "rewind"; else return this.currentItem = this.maximumItem, !1;
            this.goTo(this.currentItem, a);
        },
        prev: function(a) {
            if (this.isTransition) return !1;
            this.currentItem = !0 === this.options.scrollPerPage && 0 < this.currentItem && this.currentItem < this.options.items ? 0 : this.currentItem - (!0 === this.options.scrollPerPage ? this.options.items : 1);
            if (0 > this.currentItem) if (!0 === this.options.rewindNav) this.currentItem = this.maximumItem, 
            a = "rewind"; else return this.currentItem = 0, !1;
            this.goTo(this.currentItem, a);
        },
        goTo: function(a, b, e) {
            var c = this;
            if (c.isTransition) return !1;
            "function" === typeof c.options.beforeMove && c.options.beforeMove.apply(this, [ c.$elem ]);
            a >= c.maximumItem ? a = c.maximumItem : 0 >= a && (a = 0);
            c.currentItem = c.owl.currentItem = a;
            if (!1 !== c.options.transitionStyle && "drag" !== e && 1 === c.options.items && !0 === c.browser.support3d) return c.swapSpeed(0), 
            !0 === c.browser.support3d ? c.transition3d(c.positionsInArray[a]) : c.css2slide(c.positionsInArray[a], 1), 
            c.afterGo(), c.singleItemTransition(), !1;
            a = c.positionsInArray[a];
            !0 === c.browser.support3d ? (c.isCss3Finish = !1, !0 === b ? (c.swapSpeed("paginationSpeed"), 
            g.setTimeout(function() {
                c.isCss3Finish = !0;
            }, c.options.paginationSpeed)) : "rewind" === b ? (c.swapSpeed(c.options.rewindSpeed), 
            g.setTimeout(function() {
                c.isCss3Finish = !0;
            }, c.options.rewindSpeed)) : (c.swapSpeed("slideSpeed"), g.setTimeout(function() {
                c.isCss3Finish = !0;
            }, c.options.slideSpeed)), c.transition3d(a)) : !0 === b ? c.css2slide(a, c.options.paginationSpeed) : "rewind" === b ? c.css2slide(a, c.options.rewindSpeed) : c.css2slide(a, c.options.slideSpeed);
            c.afterGo();
        },
        jumpTo: function(a) {
            "function" === typeof this.options.beforeMove && this.options.beforeMove.apply(this, [ this.$elem ]);
            a >= this.maximumItem || -1 === a ? a = this.maximumItem : 0 >= a && (a = 0);
            this.swapSpeed(0);
            !0 === this.browser.support3d ? this.transition3d(this.positionsInArray[a]) : this.css2slide(this.positionsInArray[a], 1);
            this.currentItem = this.owl.currentItem = a;
            this.afterGo();
        },
        afterGo: function() {
            this.prevArr.push(this.currentItem);
            this.prevItem = this.owl.prevItem = this.prevArr[this.prevArr.length - 2];
            this.prevArr.shift(0);
            this.prevItem !== this.currentItem && (this.checkPagination(), this.checkNavigation(), 
            this.eachMoveUpdate(), !1 !== this.options.autoPlay && this.checkAp());
            "function" === typeof this.options.afterMove && this.prevItem !== this.currentItem && this.options.afterMove.apply(this, [ this.$elem ]);
        },
        stop: function() {
            this.apStatus = "stop";
            g.clearInterval(this.autoPlayInterval);
        },
        checkAp: function() {
            "stop" !== this.apStatus && this.play();
        },
        play: function() {
            var a = this;
            a.apStatus = "play";
            if (!1 === a.options.autoPlay) return !1;
            g.clearInterval(a.autoPlayInterval);
            a.autoPlayInterval = g.setInterval(function() {
                a.next(!0);
            }, a.options.autoPlay);
        },
        swapSpeed: function(a) {
            "slideSpeed" === a ? this.$owlWrapper.css(this.addCssSpeed(this.options.slideSpeed)) : "paginationSpeed" === a ? this.$owlWrapper.css(this.addCssSpeed(this.options.paginationSpeed)) : "string" !== typeof a && this.$owlWrapper.css(this.addCssSpeed(a));
        },
        addCssSpeed: function(a) {
            return {
                "-webkit-transition": "all " + a + "ms ease",
                "-moz-transition": "all " + a + "ms ease",
                "-o-transition": "all " + a + "ms ease",
                transition: "all " + a + "ms ease"
            };
        },
        removeTransition: function() {
            return {
                "-webkit-transition": "",
                "-moz-transition": "",
                "-o-transition": "",
                transition: ""
            };
        },
        doTranslate: function(a) {
            return {
                "-webkit-transform": "translate3d(" + a + "px, 0px, 0px)",
                "-moz-transform": "translate3d(" + a + "px, 0px, 0px)",
                "-o-transform": "translate3d(" + a + "px, 0px, 0px)",
                "-ms-transform": "translate3d(" + a + "px, 0px, 0px)",
                transform: "translate3d(" + a + "px, 0px,0px)"
            };
        },
        transition3d: function(a) {
            this.$owlWrapper.css(this.doTranslate(a));
        },
        css2move: function(a) {
            this.$owlWrapper.css({
                left: a
            });
        },
        css2slide: function(a, b) {
            var e = this;
            e.isCssFinish = !1;
            e.$owlWrapper.stop(!0, !0).animate({
                left: a
            }, {
                duration: b || e.options.slideSpeed,
                complete: function() {
                    e.isCssFinish = !0;
                }
            });
        },
        checkBrowser: function() {
            var a = k.createElement("div");
            a.style.cssText = "  -moz-transform:translate3d(0px, 0px, 0px); -ms-transform:translate3d(0px, 0px, 0px); -o-transform:translate3d(0px, 0px, 0px); -webkit-transform:translate3d(0px, 0px, 0px); transform:translate3d(0px, 0px, 0px)";
            a = a.style.cssText.match(/translate3d\(0px, 0px, 0px\)/g);
            this.browser = {
                support3d: null !== a && 1 === a.length,
                isTouch: "ontouchstart" in g || g.navigator.msMaxTouchPoints
            };
        },
        moveEvents: function() {
            if (!1 !== this.options.mouseDrag || !1 !== this.options.touchDrag) this.gestures(), 
            this.disabledEvents();
        },
        eventTypes: function() {
            var a = [ "s", "e", "x" ];
            this.ev_types = {};
            !0 === this.options.mouseDrag && !0 === this.options.touchDrag ? a = [ "touchstart.owl mousedown.owl", "touchmove.owl mousemove.owl", "touchend.owl touchcancel.owl mouseup.owl" ] : !1 === this.options.mouseDrag && !0 === this.options.touchDrag ? a = [ "touchstart.owl", "touchmove.owl", "touchend.owl touchcancel.owl" ] : !0 === this.options.mouseDrag && !1 === this.options.touchDrag && (a = [ "mousedown.owl", "mousemove.owl", "mouseup.owl" ]);
            this.ev_types.start = a[0];
            this.ev_types.move = a[1];
            this.ev_types.end = a[2];
        },
        disabledEvents: function() {
            this.$elem.on("dragstart.owl", function(a) {
                a.preventDefault();
            });
            this.$elem.on("mousedown.disableTextSelect", function(a) {
                return f(a.target).is("input, textarea, select, option");
            });
        },
        gestures: function() {
            function a(a) {
                if (void 0 !== a.touches) return {
                    x: a.touches[0].pageX,
                    y: a.touches[0].pageY
                };
                if (void 0 === a.touches) {
                    if (void 0 !== a.pageX) return {
                        x: a.pageX,
                        y: a.pageY
                    };
                    if (void 0 === a.pageX) return {
                        x: a.clientX,
                        y: a.clientY
                    };
                }
            }
            function b(a) {
                "on" === a ? (f(k).on(d.ev_types.move, e), f(k).on(d.ev_types.end, c)) : "off" === a && (f(k).off(d.ev_types.move), 
                f(k).off(d.ev_types.end));
            }
            function e(b) {
                b = b.originalEvent || b || g.event;
                d.newPosX = a(b).x - h.offsetX;
                d.newPosY = a(b).y - h.offsetY;
                d.newRelativeX = d.newPosX - h.relativePos;
                "function" === typeof d.options.startDragging && !0 !== h.dragging && 0 !== d.newRelativeX && (h.dragging = !0, 
                d.options.startDragging.apply(d, [ d.$elem ]));
                (8 < d.newRelativeX || -8 > d.newRelativeX) && !0 === d.browser.isTouch && (void 0 !== b.preventDefault ? b.preventDefault() : b.returnValue = !1, 
                h.sliding = !0);
                (10 < d.newPosY || -10 > d.newPosY) && !1 === h.sliding && f(k).off("touchmove.owl");
                d.newPosX = Math.max(Math.min(d.newPosX, d.newRelativeX / 5), d.maximumPixels + d.newRelativeX / 5);
                !0 === d.browser.support3d ? d.transition3d(d.newPosX) : d.css2move(d.newPosX);
            }
            function c(a) {
                a = a.originalEvent || a || g.event;
                var c;
                a.target = a.target || a.srcElement;
                h.dragging = !1;
                !0 !== d.browser.isTouch && d.$owlWrapper.removeClass("grabbing");
                d.dragDirection = 0 > d.newRelativeX ? d.owl.dragDirection = "left" : d.owl.dragDirection = "right";
                0 !== d.newRelativeX && (c = d.getNewPosition(), d.goTo(c, !1, "drag"), h.targetElement === a.target && !0 !== d.browser.isTouch && (f(a.target).on("click.disable", function(a) {
                    a.stopImmediatePropagation();
                    a.stopPropagation();
                    a.preventDefault();
                    f(a.target).off("click.disable");
                }), a = f._data(a.target, "events").click, c = a.pop(), a.splice(0, 0, c)));
                b("off");
            }
            var d = this, h = {
                offsetX: 0,
                offsetY: 0,
                baseElWidth: 0,
                relativePos: 0,
                position: null,
                minSwipe: null,
                maxSwipe: null,
                sliding: null,
                dargging: null,
                targetElement: null
            };
            d.isCssFinish = !0;
            d.$elem.on(d.ev_types.start, ".owl-wrapper", function(c) {
                c = c.originalEvent || c || g.event;
                var e;
                if (3 === c.which) return !1;
                if (!(d.itemsAmount <= d.options.items)) {
                    if (!1 === d.isCssFinish && !d.options.dragBeforeAnimFinish || !1 === d.isCss3Finish && !d.options.dragBeforeAnimFinish) return !1;
                    !1 !== d.options.autoPlay && g.clearInterval(d.autoPlayInterval);
                    !0 === d.browser.isTouch || d.$owlWrapper.hasClass("grabbing") || d.$owlWrapper.addClass("grabbing");
                    d.newPosX = 0;
                    d.newRelativeX = 0;
                    f(this).css(d.removeTransition());
                    e = f(this).position();
                    h.relativePos = e.left;
                    h.offsetX = a(c).x - e.left;
                    h.offsetY = a(c).y - e.top;
                    b("on");
                    h.sliding = !1;
                    h.targetElement = c.target || c.srcElement;
                }
            });
        },
        getNewPosition: function() {
            var a = this.closestItem();
            a > this.maximumItem ? a = this.currentItem = this.maximumItem : 0 <= this.newPosX && (this.currentItem = a = 0);
            return a;
        },
        closestItem: function() {
            var a = this, b = !0 === a.options.scrollPerPage ? a.pagesInArray : a.positionsInArray, e = a.newPosX, c = null;
            f.each(b, function(d, g) {
                e - a.itemWidth / 20 > b[d + 1] && e - a.itemWidth / 20 < g && "left" === a.moveDirection() ? (c = g, 
                a.currentItem = !0 === a.options.scrollPerPage ? f.inArray(c, a.positionsInArray) : d) : e + a.itemWidth / 20 < g && e + a.itemWidth / 20 > (b[d + 1] || b[d] - a.itemWidth) && "right" === a.moveDirection() && (!0 === a.options.scrollPerPage ? (c = b[d + 1] || b[b.length - 1], 
                a.currentItem = f.inArray(c, a.positionsInArray)) : (c = b[d + 1], a.currentItem = d + 1));
            });
            return a.currentItem;
        },
        moveDirection: function() {
            var a;
            0 > this.newRelativeX ? (a = "right", this.playDirection = "next") : (a = "left", 
            this.playDirection = "prev");
            return a;
        },
        customEvents: function() {
            var a = this;
            a.$elem.on("owl.next", function() {
                a.next();
            });
            a.$elem.on("owl.prev", function() {
                a.prev();
            });
            a.$elem.on("owl.play", function(b, e) {
                a.options.autoPlay = e;
                a.play();
                a.hoverStatus = "play";
            });
            a.$elem.on("owl.stop", function() {
                a.stop();
                a.hoverStatus = "stop";
            });
            a.$elem.on("owl.goTo", function(b, e) {
                a.goTo(e);
            });
            a.$elem.on("owl.jumpTo", function(b, e) {
                a.jumpTo(e);
            });
        },
        stopOnHover: function() {
            var a = this;
            !0 === a.options.stopOnHover && !0 !== a.browser.isTouch && !1 !== a.options.autoPlay && (a.$elem.on("mouseover", function() {
                a.stop();
            }), a.$elem.on("mouseout", function() {
                "stop" !== a.hoverStatus && a.play();
            }));
        },
        lazyLoad: function() {
            var a, b, e, c, d;
            if (!1 === this.options.lazyLoad) return !1;
            for (a = 0; a < this.itemsAmount; a += 1) b = f(this.$owlItems[a]), "loaded" !== b.data("owl-loaded") && (e = b.data("owl-item"), 
            c = b.find(".lazyOwl"), "string" !== typeof c.data("src") ? b.data("owl-loaded", "loaded") : (void 0 === b.data("owl-loaded") && (c.hide(), 
            b.addClass("loading").data("owl-loaded", "checked")), (d = !0 === this.options.lazyFollow ? e >= this.currentItem : !0) && e < this.currentItem + this.options.items && c.length && this.lazyPreload(b, c)));
        },
        lazyPreload: function(a, b) {
            function e() {
                a.data("owl-loaded", "loaded").removeClass("loading");
                b.removeAttr("data-src");
                "fade" === d.options.lazyEffect ? b.fadeIn(400) : b.show();
                "function" === typeof d.options.afterLazyLoad && d.options.afterLazyLoad.apply(this, [ d.$elem ]);
            }
            function c() {
                f += 1;
                d.completeImg(b.get(0)) || !0 === k ? e() : 100 >= f ? g.setTimeout(c, 100) : e();
            }
            var d = this, f = 0, k;
            "DIV" === b.prop("tagName") ? (b.css("background-image", "url(" + b.data("src") + ")"), 
            k = !0) : b[0].src = b.data("src");
            c();
        },
        autoHeight: function() {
            function a() {
                var a = f(e.$owlItems[e.currentItem]).height();
                e.wrapperOuter.css("height", a + "px");
                e.wrapperOuter.hasClass("autoHeight") || g.setTimeout(function() {
                    e.wrapperOuter.addClass("autoHeight");
                }, 0);
            }
            function b() {
                d += 1;
                e.completeImg(c.get(0)) ? a() : 100 >= d ? g.setTimeout(b, 100) : e.wrapperOuter.css("height", "");
            }
            var e = this, c = f(e.$owlItems[e.currentItem]).find("img"), d;
            void 0 !== c.get(0) ? (d = 0, b()) : a();
        },
        completeImg: function(a) {
            return !a.complete || "undefined" !== typeof a.naturalWidth && 0 === a.naturalWidth ? !1 : !0;
        },
        onVisibleItems: function() {
            var a;
            !0 === this.options.addClassActive && this.$owlItems.removeClass("active");
            this.visibleItems = [];
            for (a = this.currentItem; a < this.currentItem + this.options.items; a += 1) this.visibleItems.push(a), 
            !0 === this.options.addClassActive && f(this.$owlItems[a]).addClass("active");
            this.owl.visibleItems = this.visibleItems;
        },
        transitionTypes: function(a) {
            this.outClass = "owl-" + a + "-out";
            this.inClass = "owl-" + a + "-in";
        },
        singleItemTransition: function() {
            var a = this, b = a.outClass, e = a.inClass, c = a.$owlItems.eq(a.currentItem), d = a.$owlItems.eq(a.prevItem), f = Math.abs(a.positionsInArray[a.currentItem]) + a.positionsInArray[a.prevItem], g = Math.abs(a.positionsInArray[a.currentItem]) + a.itemWidth / 2;
            a.isTransition = !0;
            a.$owlWrapper.addClass("owl-origin").css({
                "-webkit-transform-origin": g + "px",
                "-moz-perspective-origin": g + "px",
                "perspective-origin": g + "px"
            });
            d.css({
                position: "relative",
                left: f + "px"
            }).addClass(b).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend", function() {
                a.endPrev = !0;
                d.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend");
                a.clearTransStyle(d, b);
            });
            c.addClass(e).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend", function() {
                a.endCurrent = !0;
                c.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend");
                a.clearTransStyle(c, e);
            });
        },
        clearTransStyle: function(a, b) {
            a.css({
                position: "",
                left: ""
            }).removeClass(b);
            this.endPrev && this.endCurrent && (this.$owlWrapper.removeClass("owl-origin"), 
            this.isTransition = this.endCurrent = this.endPrev = !1);
        },
        owlStatus: function() {
            this.owl = {
                userOptions: this.userOptions,
                baseElement: this.$elem,
                userItems: this.$userItems,
                owlItems: this.$owlItems,
                currentItem: this.currentItem,
                prevItem: this.prevItem,
                visibleItems: this.visibleItems,
                isTouch: this.browser.isTouch,
                browser: this.browser,
                dragDirection: this.dragDirection
            };
        },
        clearEvents: function() {
            this.$elem.off(".owl owl mousedown.disableTextSelect");
            f(k).off(".owl owl");
            f(g).off("resize", this.resizer);
        },
        unWrap: function() {
            0 !== this.$elem.children().length && (this.$owlWrapper.unwrap(), this.$userItems.unwrap().unwrap(), 
            this.owlControls && this.owlControls.remove());
            this.clearEvents();
            this.$elem.attr("style", this.$elem.data("owl-originalStyles") || "").attr("class", this.$elem.data("owl-originalClasses"));
        },
        destroy: function() {
            this.stop();
            g.clearInterval(this.checkVisible);
            this.unWrap();
            this.$elem.removeData();
        },
        reinit: function(a) {
            a = f.extend({}, this.userOptions, a);
            this.unWrap();
            this.init(a, this.$elem);
        },
        addItem: function(a, b) {
            var e;
            if (!a) return !1;
            if (0 === this.$elem.children().length) return this.$elem.append(a), this.setVars(), 
            !1;
            this.unWrap();
            e = void 0 === b || -1 === b ? -1 : b;
            e >= this.$userItems.length || -1 === e ? this.$userItems.eq(-1).after(a) : this.$userItems.eq(e).before(a);
            this.setVars();
        },
        removeItem: function(a) {
            if (0 === this.$elem.children().length) return !1;
            a = void 0 === a || -1 === a ? -1 : a;
            this.unWrap();
            this.$userItems.eq(a).remove();
            this.setVars();
        }
    };
    f.fn.owlCarousel = function(a) {
        return this.each(function() {
            if (!0 === f(this).data("owl-init")) return !1;
            f(this).data("owl-init", !0);
            var b = Object.create(l);
            b.init(a, this);
            f.data(this, "owlCarousel", b);
        });
    };
    f.fn.owlCarousel.options = {
        items: 5,
        itemsCustom: !1,
        itemsDesktop: [ 1199, 4 ],
        itemsDesktopSmall: [ 979, 3 ],
        itemsTablet: [ 768, 2 ],
        itemsTabletSmall: !1,
        itemsMobile: [ 479, 1 ],
        singleItem: !1,
        itemsScaleUp: !1,
        slideSpeed: 200,
        paginationSpeed: 800,
        rewindSpeed: 1e3,
        autoPlay: !1,
        stopOnHover: !1,
        navigation: !1,
        navigationText: [ "prev", "next" ],
        rewindNav: !0,
        scrollPerPage: !1,
        pagination: !0,
        paginationNumbers: !1,
        responsive: !0,
        responsiveRefreshRate: 200,
        responsiveBaseWidth: g,
        baseClass: "owl-carousel",
        theme: "owl-theme",
        lazyLoad: !1,
        lazyFollow: !0,
        lazyEffect: "fade",
        autoHeight: !1,
        jsonPath: !1,
        jsonSuccess: !1,
        dragBeforeAnimFinish: !0,
        mouseDrag: !0,
        touchDrag: !0,
        addClassActive: !1,
        transitionStyle: !1,
        beforeUpdate: !1,
        afterUpdate: !1,
        beforeInit: !1,
        afterInit: !1,
        beforeMove: !1,
        afterMove: !1,
        afterAction: !1,
        startDragging: !1,
        afterLazyLoad: !1
    };
})(jQuery, window, document);

(function() {
    var __indexOf = [].indexOf || function(item) {
        for (var i = 0, l = this.length; i < l; i++) {
            if (i in this && this[i] === item) return i;
        }
        return -1;
    }, __slice = [].slice;
    (function(root, factory) {
        if (typeof define === "function" && define.amd) {
            return define("waypoints", [ "jquery" ], function($) {
                return factory($, root);
            });
        } else {
            return factory(root.jQuery, root);
        }
    })(window, function($, window) {
        var $w, Context, Waypoint, allWaypoints, contextCounter, contextKey, contexts, isTouch, jQMethods, methods, resizeEvent, scrollEvent, waypointCounter, waypointKey, wp, wps;
        $w = $(window);
        isTouch = __indexOf.call(window, "ontouchstart") >= 0;
        allWaypoints = {
            horizontal: {},
            vertical: {}
        };
        contextCounter = 1;
        contexts = {};
        contextKey = "waypoints-context-id";
        resizeEvent = "resize.waypoints";
        scrollEvent = "scroll.waypoints";
        waypointCounter = 1;
        waypointKey = "waypoints-waypoint-ids";
        wp = "waypoint";
        wps = "waypoints";
        Context = function() {
            function Context($element) {
                var _this = this;
                this.$element = $element;
                this.element = $element[0];
                this.didResize = false;
                this.didScroll = false;
                this.id = "context" + contextCounter++;
                this.oldScroll = {
                    x: $element.scrollLeft(),
                    y: $element.scrollTop()
                };
                this.waypoints = {
                    horizontal: {},
                    vertical: {}
                };
                this.element[contextKey] = this.id;
                contexts[this.id] = this;
                $element.bind(scrollEvent, function() {
                    var scrollHandler;
                    if (!(_this.didScroll || isTouch)) {
                        _this.didScroll = true;
                        scrollHandler = function() {
                            _this.doScroll();
                            return _this.didScroll = false;
                        };
                        return window.setTimeout(scrollHandler, $[wps].settings.scrollThrottle);
                    }
                });
                $element.bind(resizeEvent, function() {
                    var resizeHandler;
                    if (!_this.didResize) {
                        _this.didResize = true;
                        resizeHandler = function() {
                            $[wps]("refresh");
                            return _this.didResize = false;
                        };
                        return window.setTimeout(resizeHandler, $[wps].settings.resizeThrottle);
                    }
                });
            }
            Context.prototype.doScroll = function() {
                var axes, _this = this;
                axes = {
                    horizontal: {
                        newScroll: this.$element.scrollLeft(),
                        oldScroll: this.oldScroll.x,
                        forward: "right",
                        backward: "left"
                    },
                    vertical: {
                        newScroll: this.$element.scrollTop(),
                        oldScroll: this.oldScroll.y,
                        forward: "down",
                        backward: "up"
                    }
                };
                if (isTouch && (!axes.vertical.oldScroll || !axes.vertical.newScroll)) {
                    $[wps]("refresh");
                }
                $.each(axes, function(aKey, axis) {
                    var direction, isForward, triggered;
                    triggered = [];
                    isForward = axis.newScroll > axis.oldScroll;
                    direction = isForward ? axis.forward : axis.backward;
                    $.each(_this.waypoints[aKey], function(wKey, waypoint) {
                        var _ref, _ref1;
                        if (axis.oldScroll < (_ref = waypoint.offset) && _ref <= axis.newScroll) {
                            return triggered.push(waypoint);
                        } else if (axis.newScroll < (_ref1 = waypoint.offset) && _ref1 <= axis.oldScroll) {
                            return triggered.push(waypoint);
                        }
                    });
                    triggered.sort(function(a, b) {
                        return a.offset - b.offset;
                    });
                    if (!isForward) {
                        triggered.reverse();
                    }
                    return $.each(triggered, function(i, waypoint) {
                        if (waypoint.options.continuous || i === triggered.length - 1) {
                            return waypoint.trigger([ direction ]);
                        }
                    });
                });
                return this.oldScroll = {
                    x: axes.horizontal.newScroll,
                    y: axes.vertical.newScroll
                };
            };
            Context.prototype.refresh = function() {
                var axes, cOffset, isWin, _this = this;
                isWin = $.isWindow(this.element);
                cOffset = this.$element.offset();
                this.doScroll();
                axes = {
                    horizontal: {
                        contextOffset: isWin ? 0 : cOffset.left,
                        contextScroll: isWin ? 0 : this.oldScroll.x,
                        contextDimension: this.$element.width(),
                        oldScroll: this.oldScroll.x,
                        forward: "right",
                        backward: "left",
                        offsetProp: "left"
                    },
                    vertical: {
                        contextOffset: isWin ? 0 : cOffset.top,
                        contextScroll: isWin ? 0 : this.oldScroll.y,
                        contextDimension: isWin ? $[wps]("viewportHeight") : this.$element.height(),
                        oldScroll: this.oldScroll.y,
                        forward: "down",
                        backward: "up",
                        offsetProp: "top"
                    }
                };
                return $.each(axes, function(aKey, axis) {
                    return $.each(_this.waypoints[aKey], function(i, waypoint) {
                        var adjustment, elementOffset, oldOffset, _ref, _ref1;
                        adjustment = waypoint.options.offset;
                        oldOffset = waypoint.offset;
                        elementOffset = $.isWindow(waypoint.element) ? 0 : waypoint.$element.offset()[axis.offsetProp];
                        if ($.isFunction(adjustment)) {
                            adjustment = adjustment.apply(waypoint.element);
                        } else if (typeof adjustment === "string") {
                            adjustment = parseFloat(adjustment);
                            if (waypoint.options.offset.indexOf("%") > -1) {
                                adjustment = Math.ceil(axis.contextDimension * adjustment / 100);
                            }
                        }
                        waypoint.offset = elementOffset - axis.contextOffset + axis.contextScroll - adjustment;
                        if (waypoint.options.onlyOnScroll && oldOffset != null || !waypoint.enabled) {
                            return;
                        }
                        if (oldOffset !== null && (oldOffset < (_ref = axis.oldScroll) && _ref <= waypoint.offset)) {
                            return waypoint.trigger([ axis.backward ]);
                        } else if (oldOffset !== null && (oldOffset > (_ref1 = axis.oldScroll) && _ref1 >= waypoint.offset)) {
                            return waypoint.trigger([ axis.forward ]);
                        } else if (oldOffset === null && axis.oldScroll >= waypoint.offset) {
                            return waypoint.trigger([ axis.forward ]);
                        }
                    });
                });
            };
            Context.prototype.checkEmpty = function() {
                if ($.isEmptyObject(this.waypoints.horizontal) && $.isEmptyObject(this.waypoints.vertical)) {
                    this.$element.unbind([ resizeEvent, scrollEvent ].join(" "));
                    return delete contexts[this.id];
                }
            };
            return Context;
        }();
        Waypoint = function() {
            function Waypoint($element, context, options) {
                var idList, _ref;
                if (options.offset === "bottom-in-view") {
                    options.offset = function() {
                        var contextHeight;
                        contextHeight = $[wps]("viewportHeight");
                        if (!$.isWindow(context.element)) {
                            contextHeight = context.$element.height();
                        }
                        return contextHeight - $(this).outerHeight();
                    };
                }
                this.$element = $element;
                this.element = $element[0];
                this.axis = options.horizontal ? "horizontal" : "vertical";
                this.callback = options.handler;
                this.context = context;
                this.enabled = options.enabled;
                this.id = "waypoints" + waypointCounter++;
                this.offset = null;
                this.options = options;
                context.waypoints[this.axis][this.id] = this;
                allWaypoints[this.axis][this.id] = this;
                idList = (_ref = this.element[waypointKey]) != null ? _ref : [];
                idList.push(this.id);
                this.element[waypointKey] = idList;
            }
            Waypoint.prototype.trigger = function(args) {
                if (!this.enabled) {
                    return;
                }
                if (this.callback != null) {
                    this.callback.apply(this.element, args);
                }
                if (this.options.triggerOnce) {
                    return this.destroy();
                }
            };
            Waypoint.prototype.disable = function() {
                return this.enabled = false;
            };
            Waypoint.prototype.enable = function() {
                this.context.refresh();
                return this.enabled = true;
            };
            Waypoint.prototype.destroy = function() {
                delete allWaypoints[this.axis][this.id];
                delete this.context.waypoints[this.axis][this.id];
                return this.context.checkEmpty();
            };
            Waypoint.getWaypointsByElement = function(element) {
                var all, ids;
                ids = element[waypointKey];
                if (!ids) {
                    return [];
                }
                all = $.extend({}, allWaypoints.horizontal, allWaypoints.vertical);
                return $.map(ids, function(id) {
                    return all[id];
                });
            };
            return Waypoint;
        }();
        methods = {
            init: function(f, options) {
                var _ref;
                options = $.extend({}, $.fn[wp].defaults, options);
                if ((_ref = options.handler) == null) {
                    options.handler = f;
                }
                this.each(function() {
                    var $this, context, contextElement, _ref1;
                    $this = $(this);
                    contextElement = (_ref1 = options.context) != null ? _ref1 : $.fn[wp].defaults.context;
                    if (!$.isWindow(contextElement)) {
                        contextElement = $this.closest(contextElement);
                    }
                    contextElement = $(contextElement);
                    context = contexts[contextElement[0][contextKey]];
                    if (!context) {
                        context = new Context(contextElement);
                    }
                    return new Waypoint($this, context, options);
                });
                $[wps]("refresh");
                return this;
            },
            disable: function() {
                return methods._invoke.call(this, "disable");
            },
            enable: function() {
                return methods._invoke.call(this, "enable");
            },
            destroy: function() {
                return methods._invoke.call(this, "destroy");
            },
            prev: function(axis, selector) {
                return methods._traverse.call(this, axis, selector, function(stack, index, waypoints) {
                    if (index > 0) {
                        return stack.push(waypoints[index - 1]);
                    }
                });
            },
            next: function(axis, selector) {
                return methods._traverse.call(this, axis, selector, function(stack, index, waypoints) {
                    if (index < waypoints.length - 1) {
                        return stack.push(waypoints[index + 1]);
                    }
                });
            },
            _traverse: function(axis, selector, push) {
                var stack, waypoints;
                if (axis == null) {
                    axis = "vertical";
                }
                if (selector == null) {
                    selector = window;
                }
                waypoints = jQMethods.aggregate(selector);
                stack = [];
                this.each(function() {
                    var index;
                    index = $.inArray(this, waypoints[axis]);
                    return push(stack, index, waypoints[axis]);
                });
                return this.pushStack(stack);
            },
            _invoke: function(method) {
                this.each(function() {
                    var waypoints;
                    waypoints = Waypoint.getWaypointsByElement(this);
                    return $.each(waypoints, function(i, waypoint) {
                        waypoint[method]();
                        return true;
                    });
                });
                return this;
            }
        };
        $.fn[wp] = function() {
            var args, method;
            method = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
            if (methods[method]) {
                return methods[method].apply(this, args);
            } else if ($.isFunction(method)) {
                return methods.init.apply(this, arguments);
            } else if ($.isPlainObject(method)) {
                return methods.init.apply(this, [ null, method ]);
            } else if (!method) {
                return $.error("jQuery Waypoints needs a callback function or handler option.");
            } else {
                return $.error("The " + method + " method does not exist in jQuery Waypoints.");
            }
        };
        $.fn[wp].defaults = {
            context: window,
            continuous: true,
            enabled: true,
            horizontal: false,
            offset: 0,
            triggerOnce: false
        };
        jQMethods = {
            refresh: function() {
                return $.each(contexts, function(i, context) {
                    return context.refresh();
                });
            },
            viewportHeight: function() {
                var _ref;
                return (_ref = window.innerHeight) != null ? _ref : $w.height();
            },
            aggregate: function(contextSelector) {
                var collection, waypoints, _ref;
                collection = allWaypoints;
                if (contextSelector) {
                    collection = (_ref = contexts[$(contextSelector)[0][contextKey]]) != null ? _ref.waypoints : void 0;
                }
                if (!collection) {
                    return [];
                }
                waypoints = {
                    horizontal: [],
                    vertical: []
                };
                $.each(waypoints, function(axis, arr) {
                    $.each(collection[axis], function(key, waypoint) {
                        return arr.push(waypoint);
                    });
                    arr.sort(function(a, b) {
                        return a.offset - b.offset;
                    });
                    waypoints[axis] = $.map(arr, function(waypoint) {
                        return waypoint.element;
                    });
                    return waypoints[axis] = $.unique(waypoints[axis]);
                });
                return waypoints;
            },
            above: function(contextSelector) {
                if (contextSelector == null) {
                    contextSelector = window;
                }
                return jQMethods._filter(contextSelector, "vertical", function(context, waypoint) {
                    return waypoint.offset <= context.oldScroll.y;
                });
            },
            below: function(contextSelector) {
                if (contextSelector == null) {
                    contextSelector = window;
                }
                return jQMethods._filter(contextSelector, "vertical", function(context, waypoint) {
                    return waypoint.offset > context.oldScroll.y;
                });
            },
            left: function(contextSelector) {
                if (contextSelector == null) {
                    contextSelector = window;
                }
                return jQMethods._filter(contextSelector, "horizontal", function(context, waypoint) {
                    return waypoint.offset <= context.oldScroll.x;
                });
            },
            right: function(contextSelector) {
                if (contextSelector == null) {
                    contextSelector = window;
                }
                return jQMethods._filter(contextSelector, "horizontal", function(context, waypoint) {
                    return waypoint.offset > context.oldScroll.x;
                });
            },
            enable: function() {
                return jQMethods._invoke("enable");
            },
            disable: function() {
                return jQMethods._invoke("disable");
            },
            destroy: function() {
                return jQMethods._invoke("destroy");
            },
            extendFn: function(methodName, f) {
                return methods[methodName] = f;
            },
            _invoke: function(method) {
                var waypoints;
                waypoints = $.extend({}, allWaypoints.vertical, allWaypoints.horizontal);
                return $.each(waypoints, function(key, waypoint) {
                    waypoint[method]();
                    return true;
                });
            },
            _filter: function(selector, axis, test) {
                var context, waypoints;
                context = contexts[$(selector)[0][contextKey]];
                if (!context) {
                    return [];
                }
                waypoints = [];
                $.each(context.waypoints[axis], function(i, waypoint) {
                    if (test(context, waypoint)) {
                        return waypoints.push(waypoint);
                    }
                });
                waypoints.sort(function(a, b) {
                    return a.offset - b.offset;
                });
                return $.map(waypoints, function(waypoint) {
                    return waypoint.element;
                });
            }
        };
        $[wps] = function() {
            var args, method;
            method = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
            if (jQMethods[method]) {
                return jQMethods[method].apply(null, args);
            } else {
                return jQMethods.aggregate.call(null, method);
            }
        };
        $[wps].settings = {
            resizeThrottle: 100,
            scrollThrottle: 30
        };
        return $w.on("load.waypoints", function() {
            return $[wps]("refresh");
        });
    });
}).call(this);

(function() {
    var a, b, c, d, e, f = function(a, b) {
        return function() {
            return a.apply(b, arguments);
        };
    }, g = [].indexOf || function(a) {
        for (var b = 0, c = this.length; c > b; b++) if (b in this && this[b] === a) return b;
        return -1;
    };
    b = function() {
        function a() {}
        return a.prototype.extend = function(a, b) {
            var c, d;
            for (c in b) d = b[c], null == a[c] && (a[c] = d);
            return a;
        }, a.prototype.isMobile = function(a) {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(a);
        }, a.prototype.createEvent = function(a, b, c, d) {
            var e;
            return null == b && (b = !1), null == c && (c = !1), null == d && (d = null), null != document.createEvent ? (e = document.createEvent("CustomEvent"), 
            e.initCustomEvent(a, b, c, d)) : null != document.createEventObject ? (e = document.createEventObject(), 
            e.eventType = a) : e.eventName = a, e;
        }, a.prototype.emitEvent = function(a, b) {
            return null != a.dispatchEvent ? a.dispatchEvent(b) : b in (null != a) ? a[b]() : "on" + b in (null != a) ? a["on" + b]() : void 0;
        }, a.prototype.addEvent = function(a, b, c) {
            return null != a.addEventListener ? a.addEventListener(b, c, !1) : null != a.attachEvent ? a.attachEvent("on" + b, c) : a[b] = c;
        }, a.prototype.removeEvent = function(a, b, c) {
            return null != a.removeEventListener ? a.removeEventListener(b, c, !1) : null != a.detachEvent ? a.detachEvent("on" + b, c) : delete a[b];
        }, a.prototype.innerHeight = function() {
            return "innerHeight" in window ? window.innerHeight : document.documentElement.clientHeight;
        }, a;
    }(), c = this.WeakMap || this.MozWeakMap || (c = function() {
        function a() {
            this.keys = [], this.values = [];
        }
        return a.prototype.get = function(a) {
            var b, c, d, e, f;
            for (f = this.keys, b = d = 0, e = f.length; e > d; b = ++d) if (c = f[b], c === a) return this.values[b];
        }, a.prototype.set = function(a, b) {
            var c, d, e, f, g;
            for (g = this.keys, c = e = 0, f = g.length; f > e; c = ++e) if (d = g[c], d === a) return void (this.values[c] = b);
            return this.keys.push(a), this.values.push(b);
        }, a;
    }()), a = this.MutationObserver || this.WebkitMutationObserver || this.MozMutationObserver || (a = function() {
        function a() {
            "undefined" != typeof console && null !== console && console.warn("MutationObserver is not supported by your browser."), 
            "undefined" != typeof console && null !== console && console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content.");
        }
        return a.notSupported = !0, a.prototype.observe = function() {}, a;
    }()), d = this.getComputedStyle || function(a) {
        return this.getPropertyValue = function(b) {
            var c;
            return "float" === b && (b = "styleFloat"), e.test(b) && b.replace(e, function(a, b) {
                return b.toUpperCase();
            }), (null != (c = a.currentStyle) ? c[b] : void 0) || null;
        }, this;
    }, e = /(\-([a-z]){1})/g, this.WOW = function() {
        function e(a) {
            null == a && (a = {}), this.scrollCallback = f(this.scrollCallback, this), this.scrollHandler = f(this.scrollHandler, this), 
            this.resetAnimation = f(this.resetAnimation, this), this.start = f(this.start, this), 
            this.scrolled = !0, this.config = this.util().extend(a, this.defaults), null != a.scrollContainer && (this.config.scrollContainer = document.querySelector(a.scrollContainer)), 
            this.animationNameCache = new c(), this.wowEvent = this.util().createEvent(this.config.boxClass);
        }
        return e.prototype.defaults = {
            boxClass: "wow",
            animateClass: "animated",
            offset: 0,
            mobile: !0,
            live: !0,
            callback: null,
            scrollContainer: null
        }, e.prototype.init = function() {
            var a;
            return this.element = window.document.documentElement, "interactive" === (a = document.readyState) || "complete" === a ? this.start() : this.util().addEvent(document, "DOMContentLoaded", this.start), 
            this.finished = [];
        }, e.prototype.start = function() {
            var b, c, d, e;
            if (this.stopped = !1, this.boxes = function() {
                var a, c, d, e;
                for (d = this.element.querySelectorAll("." + this.config.boxClass), e = [], a = 0, 
                c = d.length; c > a; a++) b = d[a], e.push(b);
                return e;
            }.call(this), this.all = function() {
                var a, c, d, e;
                for (d = this.boxes, e = [], a = 0, c = d.length; c > a; a++) b = d[a], e.push(b);
                return e;
            }.call(this), this.boxes.length) if (this.disabled()) this.resetStyle(); else for (e = this.boxes, 
            c = 0, d = e.length; d > c; c++) b = e[c], this.applyStyle(b, !0);
            return this.disabled() || (this.util().addEvent(this.config.scrollContainer || window, "scroll", this.scrollHandler), 
            this.util().addEvent(window, "resize", this.scrollHandler), this.interval = setInterval(this.scrollCallback, 50)), 
            this.config.live ? new a(function(a) {
                return function(b) {
                    var c, d, e, f, g;
                    for (g = [], c = 0, d = b.length; d > c; c++) f = b[c], g.push(function() {
                        var a, b, c, d;
                        for (c = f.addedNodes || [], d = [], a = 0, b = c.length; b > a; a++) e = c[a], 
                        d.push(this.doSync(e));
                        return d;
                    }.call(a));
                    return g;
                };
            }(this)).observe(document.body, {
                childList: !0,
                subtree: !0
            }) : void 0;
        }, e.prototype.stop = function() {
            return this.stopped = !0, this.util().removeEvent(this.config.scrollContainer || window, "scroll", this.scrollHandler), 
            this.util().removeEvent(window, "resize", this.scrollHandler), null != this.interval ? clearInterval(this.interval) : void 0;
        }, e.prototype.sync = function() {
            return a.notSupported ? this.doSync(this.element) : void 0;
        }, e.prototype.doSync = function(a) {
            var b, c, d, e, f;
            if (null == a && (a = this.element), 1 === a.nodeType) {
                for (a = a.parentNode || a, e = a.querySelectorAll("." + this.config.boxClass), 
                f = [], c = 0, d = e.length; d > c; c++) b = e[c], g.call(this.all, b) < 0 ? (this.boxes.push(b), 
                this.all.push(b), this.stopped || this.disabled() ? this.resetStyle() : this.applyStyle(b, !0), 
                f.push(this.scrolled = !0)) : f.push(void 0);
                return f;
            }
        }, e.prototype.show = function(a) {
            return this.applyStyle(a), a.className = a.className + " " + this.config.animateClass, 
            null != this.config.callback && this.config.callback(a), this.util().emitEvent(a, this.wowEvent), 
            this.util().addEvent(a, "animationend", this.resetAnimation), this.util().addEvent(a, "oanimationend", this.resetAnimation), 
            this.util().addEvent(a, "webkitAnimationEnd", this.resetAnimation), this.util().addEvent(a, "MSAnimationEnd", this.resetAnimation), 
            a;
        }, e.prototype.applyStyle = function(a, b) {
            var c, d, e;
            return d = a.getAttribute("data-wow-duration"), c = a.getAttribute("data-wow-delay"), 
            e = a.getAttribute("data-wow-iteration"), this.animate(function(f) {
                return function() {
                    return f.customStyle(a, b, d, c, e);
                };
            }(this));
        }, e.prototype.animate = function() {
            return "requestAnimationFrame" in window ? function(a) {
                return window.requestAnimationFrame(a);
            } : function(a) {
                return a();
            };
        }(), e.prototype.resetStyle = function() {
            var a, b, c, d, e;
            for (d = this.boxes, e = [], b = 0, c = d.length; c > b; b++) a = d[b], e.push(a.style.visibility = "visible");
            return e;
        }, e.prototype.resetAnimation = function(a) {
            var b;
            return a.type.toLowerCase().indexOf("animationend") >= 0 ? (b = a.target || a.srcElement, 
            b.className = b.className.replace(this.config.animateClass, "").trim()) : void 0;
        }, e.prototype.customStyle = function(a, b, c, d, e) {
            return b && this.cacheAnimationName(a), a.style.visibility = b ? "hidden" : "visible", 
            c && this.vendorSet(a.style, {
                animationDuration: c
            }), d && this.vendorSet(a.style, {
                animationDelay: d
            }), e && this.vendorSet(a.style, {
                animationIterationCount: e
            }), this.vendorSet(a.style, {
                animationName: b ? "none" : this.cachedAnimationName(a)
            }), a;
        }, e.prototype.vendors = [ "moz", "webkit" ], e.prototype.vendorSet = function(a, b) {
            var c, d, e, f;
            d = [];
            for (c in b) e = b[c], a["" + c] = e, d.push(function() {
                var b, d, g, h;
                for (g = this.vendors, h = [], b = 0, d = g.length; d > b; b++) f = g[b], h.push(a["" + f + c.charAt(0).toUpperCase() + c.substr(1)] = e);
                return h;
            }.call(this));
            return d;
        }, e.prototype.vendorCSS = function(a, b) {
            var c, e, f, g, h, i;
            for (h = d(a), g = h.getPropertyCSSValue(b), f = this.vendors, c = 0, e = f.length; e > c; c++) i = f[c], 
            g = g || h.getPropertyCSSValue("-" + i + "-" + b);
            return g;
        }, e.prototype.animationName = function(a) {
            var b;
            try {
                b = this.vendorCSS(a, "animation-name").cssText;
            } catch (c) {
                b = d(a).getPropertyValue("animation-name");
            }
            return "none" === b ? "" : b;
        }, e.prototype.cacheAnimationName = function(a) {
            return this.animationNameCache.set(a, this.animationName(a));
        }, e.prototype.cachedAnimationName = function(a) {
            return this.animationNameCache.get(a);
        }, e.prototype.scrollHandler = function() {
            return this.scrolled = !0;
        }, e.prototype.scrollCallback = function() {
            var a;
            return !this.scrolled || (this.scrolled = !1, this.boxes = function() {
                var b, c, d, e;
                for (d = this.boxes, e = [], b = 0, c = d.length; c > b; b++) a = d[b], a && (this.isVisible(a) ? this.show(a) : e.push(a));
                return e;
            }.call(this), this.boxes.length || this.config.live) ? void 0 : this.stop();
        }, e.prototype.offsetTop = function(a) {
            for (var b; void 0 === a.offsetTop; ) a = a.parentNode;
            for (b = a.offsetTop; a = a.offsetParent; ) b += a.offsetTop;
            return b;
        }, e.prototype.isVisible = function(a) {
            var b, c, d, e, f;
            return c = a.getAttribute("data-wow-offset") || this.config.offset, f = this.config.scrollContainer && this.config.scrollContainer.scrollTop || window.pageYOffset, 
            e = f + Math.min(this.element.clientHeight, this.util().innerHeight()) - c, d = this.offsetTop(a), 
            b = d + a.clientHeight, e >= d && b >= f;
        }, e.prototype.util = function() {
            return null != this._util ? this._util : this._util = new b();
        }, e.prototype.disabled = function() {
            return !this.config.mobile && this.util().isMobile(navigator.userAgent);
        }, e;
    }();
}).call(this);

function skipLink(el) {
    $(el).click(function(event) {
        var skipTo = "#" + this.href.split("#")[1];
        $(skipTo).attr("tabindex", -1).on("blur focusout", function() {
            $(this).removeAttr("tabindex");
        }).focus();
    });
}

$(document).ready(function() {
    skipLink(".skip-link");
});

(function($) {
    var _previousResizeWidth = -1, _updateTimeout = -1;
    var _parse = function(value) {
        return parseFloat(value) || 0;
    };
    var _rows = function(elements) {
        var tolerance = 1, $elements = $(elements), lastTop = null, rows = [];
        $elements.each(function() {
            var $that = $(this), top = $that.offset().top - _parse($that.css("margin-top")), lastRow = rows.length > 0 ? rows[rows.length - 1] : null;
            if (lastRow === null) {
                rows.push($that);
            } else {
                if (Math.floor(Math.abs(lastTop - top)) <= tolerance) {
                    rows[rows.length - 1] = lastRow.add($that);
                } else {
                    rows.push($that);
                }
            }
            lastTop = top;
        });
        return rows;
    };
    var _parseOptions = function(options) {
        var opts = {
            byRow: true,
            property: "height",
            target: null,
            remove: false
        };
        if (typeof options === "object") {
            return $.extend(opts, options);
        }
        if (typeof options === "boolean") {
            opts.byRow = options;
        } else if (options === "remove") {
            opts.remove = true;
        }
        return opts;
    };
    var matchHeight = $.fn.matchHeight = function(options) {
        var opts = _parseOptions(options);
        if (opts.remove) {
            var that = this;
            this.css(opts.property, "");
            $.each(matchHeight._groups, function(key, group) {
                group.elements = group.elements.not(that);
            });
            return this;
        }
        if (this.length <= 1 && !opts.target) {
            return this;
        }
        matchHeight._groups.push({
            elements: this,
            options: opts
        });
        matchHeight._apply(this, opts);
        return this;
    };
    matchHeight._groups = [];
    matchHeight._throttle = 80;
    matchHeight._maintainScroll = false;
    matchHeight._beforeUpdate = null;
    matchHeight._afterUpdate = null;
    matchHeight._apply = function(elements, options) {
        var opts = _parseOptions(options), $elements = $(elements), rows = [ $elements ];
        var scrollTop = $(window).scrollTop(), htmlHeight = $("html").outerHeight(true);
        var $hiddenParents = $elements.parents().filter(":hidden");
        $hiddenParents.each(function() {
            var $that = $(this);
            $that.data("style-cache", $that.attr("style"));
        });
        $hiddenParents.css("display", "block");
        if (opts.byRow && !opts.target) {
            $elements.each(function() {
                var $that = $(this), display = $that.css("display") === "inline-block" ? "inline-block" : "block";
                $that.data("style-cache", $that.attr("style"));
                $that.css({
                    display: display,
                    "padding-top": "0",
                    "padding-bottom": "0",
                    "margin-top": "0",
                    "margin-bottom": "0",
                    "border-top-width": "0",
                    "border-bottom-width": "0",
                    height: "100px"
                });
            });
            rows = _rows($elements);
            $elements.each(function() {
                var $that = $(this);
                $that.attr("style", $that.data("style-cache") || "");
            });
        }
        $.each(rows, function(key, row) {
            var $row = $(row), targetHeight = 0;
            if (!opts.target) {
                if (opts.byRow && $row.length <= 1) {
                    $row.css(opts.property, "");
                    return;
                }
                $row.each(function() {
                    var $that = $(this), display = $that.css("display") === "inline-block" ? "inline-block" : "block";
                    var css = {
                        display: display
                    };
                    css[opts.property] = "";
                    $that.css(css);
                    if ($that.outerHeight(false) > targetHeight) {
                        targetHeight = $that.outerHeight(false);
                    }
                    $that.css("display", "");
                });
            } else {
                targetHeight = opts.target.outerHeight(false);
            }
            $row.each(function() {
                var $that = $(this), verticalPadding = 0;
                if (opts.target && $that.is(opts.target)) {
                    return;
                }
                if ($that.css("box-sizing") !== "border-box") {
                    verticalPadding += _parse($that.css("border-top-width")) + _parse($that.css("border-bottom-width"));
                    verticalPadding += _parse($that.css("padding-top")) + _parse($that.css("padding-bottom"));
                }
                $that.css(opts.property, targetHeight - verticalPadding);
            });
        });
        $hiddenParents.each(function() {
            var $that = $(this);
            $that.attr("style", $that.data("style-cache") || null);
        });
        if (matchHeight._maintainScroll) {
            $(window).scrollTop(scrollTop / htmlHeight * $("html").outerHeight(true));
        }
        return this;
    };
    matchHeight._applyDataApi = function() {
        var groups = {};
        $("[data-match-height], [data-mh]").each(function() {
            var $this = $(this), groupId = $this.attr("data-mh") || $this.attr("data-match-height");
            if (groupId in groups) {
                groups[groupId] = groups[groupId].add($this);
            } else {
                groups[groupId] = $this;
            }
        });
        $.each(groups, function() {
            this.matchHeight(true);
        });
    };
    var _update = function(event) {
        if (matchHeight._beforeUpdate) {
            matchHeight._beforeUpdate(event, matchHeight._groups);
        }
        $.each(matchHeight._groups, function() {
            matchHeight._apply(this.elements, this.options);
        });
        if (matchHeight._afterUpdate) {
            matchHeight._afterUpdate(event, matchHeight._groups);
        }
    };
    matchHeight._update = function(throttle, event) {
        if (event && event.type === "resize") {
            var windowWidth = $(window).width();
            if (windowWidth === _previousResizeWidth) {
                return;
            }
            _previousResizeWidth = windowWidth;
        }
        if (!throttle) {
            _update(event);
        } else if (_updateTimeout === -1) {
            _updateTimeout = setTimeout(function() {
                _update(event);
                _updateTimeout = -1;
            }, matchHeight._throttle);
        }
    };
    $(matchHeight._applyDataApi);
    $(window).bind("load", function(event) {
        matchHeight._update(false, event);
    });
    $(window).bind("resize orientationchange", function(event) {
        matchHeight._update(true, event);
    });
})(jQuery);

(function(name, context, factory) {
    var matchMedia = window.matchMedia;
    if (typeof module !== "undefined" && module.exports) {
        module.exports = factory(matchMedia);
    } else if (typeof define === "function" && define.amd) {
        define(function() {
            return context[name] = factory(matchMedia);
        });
    } else {
        context[name] = factory(matchMedia);
    }
})("enquire", this, function(matchMedia) {
    "use strict";
    function each(collection, fn) {
        var i = 0, length = collection.length, cont;
        for (i; i < length; i++) {
            cont = fn(collection[i], i);
            if (cont === false) {
                break;
            }
        }
    }
    function isArray(target) {
        return Object.prototype.toString.apply(target) === "[object Array]";
    }
    function isFunction(target) {
        return typeof target === "function";
    }
    function QueryHandler(options) {
        this.options = options;
        !options.deferSetup && this.setup();
    }
    QueryHandler.prototype = {
        setup: function() {
            if (this.options.setup) {
                this.options.setup();
            }
            this.initialised = true;
        },
        on: function() {
            !this.initialised && this.setup();
            this.options.match && this.options.match();
        },
        off: function() {
            this.options.unmatch && this.options.unmatch();
        },
        destroy: function() {
            this.options.destroy ? this.options.destroy() : this.off();
        },
        equals: function(target) {
            return this.options === target || this.options.match === target;
        }
    };
    function MediaQuery(query, isUnconditional) {
        this.query = query;
        this.isUnconditional = isUnconditional;
        this.handlers = [];
        this.mql = matchMedia(query);
        var self = this;
        this.listener = function(mql) {
            self.mql = mql;
            self.assess();
        };
        this.mql.addListener(this.listener);
    }
    MediaQuery.prototype = {
        addHandler: function(handler) {
            var qh = new QueryHandler(handler);
            this.handlers.push(qh);
            this.matches() && qh.on();
        },
        removeHandler: function(handler) {
            var handlers = this.handlers;
            each(handlers, function(h, i) {
                if (h.equals(handler)) {
                    h.destroy();
                    return !handlers.splice(i, 1);
                }
            });
        },
        matches: function() {
            return this.mql.matches || this.isUnconditional;
        },
        clear: function() {
            each(this.handlers, function(handler) {
                handler.destroy();
            });
            this.mql.removeListener(this.listener);
            this.handlers.length = 0;
        },
        assess: function() {
            var action = this.matches() ? "on" : "off";
            each(this.handlers, function(handler) {
                handler[action]();
            });
        }
    };
    function MediaQueryDispatch() {
        if (!matchMedia) {
            throw new Error("matchMedia not present, legacy browsers require a polyfill");
        }
        this.queries = {};
        this.browserIsIncapable = !matchMedia("only all").matches;
    }
    MediaQueryDispatch.prototype = {
        register: function(q, options, shouldDegrade) {
            var queries = this.queries, isUnconditional = shouldDegrade && this.browserIsIncapable;
            if (!queries[q]) {
                queries[q] = new MediaQuery(q, isUnconditional);
            }
            if (isFunction(options)) {
                options = {
                    match: options
                };
            }
            if (!isArray(options)) {
                options = [ options ];
            }
            each(options, function(handler) {
                if (isFunction(handler)) {
                    handler = {
                        match: handler
                    };
                }
                queries[q].addHandler(handler);
            });
            return this;
        },
        unregister: function(q, handler) {
            var query = this.queries[q];
            if (query) {
                if (handler) {
                    query.removeHandler(handler);
                } else {
                    query.clear();
                    delete this.queries[q];
                }
            }
            return this;
        }
    };
    return new MediaQueryDispatch();
});

function ajaxFormsSubmit(event) {
    event.preventDefault();
    var form = $(this).closest("form");
    var formData = form.serializeArray();
    var url = form.data("ajax-form-action");
    var targetSelector = form.data("ajax-form-target");
    var targetEl = $(targetSelector);
    var update = $(".filter-update");
    targetEl.addClass("loading");
    if ($(window).width() <= 750 && !update.hasClass("anim")) {
        update.addClass("anim");
        update.fadeIn().delay(1e3).fadeOut();
        setTimeout(function() {
            update.removeClass("anim");
        }, 1e3);
    }
    form.removeClass("form-updated").addClass("form-updated");
    $(".wow").removeClass("wow");
    $.get(url, formData, function(responseData) {
        if (responseData.length > 0) {
            console.log(responseData);
            var responseEl = $(responseData).hide();
            $(targetEl).replaceWith(responseEl);
            responseEl.fadeIn();
            var drawerURL = $("[data-drawer-url]").data("drawer-url");
            initDegreeDrawer(drawerURL);
        } else {
            targetEl.html('<h2 class="monospace-heading">Sorry! No results found. Please try again.</h2>');
        }
    });
}

function initAjaxForms() {
    var targetEl = $("[data-ajax-form-action]").data("ajax-form-target");
    var degrees = $(targetEl).html();
    $(document).on("submit", "[data-ajax-form-action]", ajaxFormsSubmit);
    $(document).on("input", '[data-ajax-form-action] input:not([type="checkbox"]):not([type="radio"])', ajaxFormsSubmit);
    $(document).on("change", '[data-ajax-form-action] input[type="checkbox"]', ajaxFormsSubmit);
    $(document).on("change", '[data-ajax-form-action] input[type="radio"]', ajaxFormsSubmit);
    $(document).on("change", "[data-ajax-form-action] select", ajaxFormsSubmit);
    $("[data-ajax-form-action]").on("reset", function() {
        $(targetEl).hide();
        $(targetEl).html(degrees);
        $(targetEl).fadeIn();
        var drawerURL = $("[data-drawer-url]").data("drawer-url");
        initDegreeDrawer(drawerURL);
        if ($(".flowoverlay")) {
            $(".flowplayer").flowplayer();
            initVidPopup();
        }
    });
    if ($("[data-ajax-form-target]").length > 0) {
        $("body").append('<div class="filter-update"><p class="monospace-heading">Results Updated</p></div>');
    }
}

function initCarousel() {
    $(".gallery-container").each(function() {
        var carousel = $(this).find(".carousel");
        var slider = $(this).find(".flexslider-stage");
        carousel.flexslider({
            animation: "slide",
            controlNav: false,
            animationLoop: false,
            slideshow: false,
            itemWidth: 149,
            itemMargin: 6.6,
            touch: true,
            asNavFor: slider
        });
        slider.flexslider({
            animation: "slide",
            controlNav: false,
            customDirectionNav: $(this).find(".carousel-navigation a"),
            animationLoop: false,
            slideshow: false,
            smoothHeight: true,
            touch: true,
            sync: carousel
        });
    });
}

var options = {
    useEasing: true,
    useGrouping: true,
    separator: ",",
    decimal: "."
};

var useOnComplete = false;

var useEasing = true;

var useGrouping = true;

$("[data-count]").each(function() {
    var range = $(this).data("count").split("...");
    var duration = $(this).data("count-duration") || 2.5;
    var demo = new countUp(this, range[0], range[1], 0, duration, options);
    $(this).waypoint(function() {
        demo.start();
    }, {
        offset: "90%"
    });
});

setTimeout(function() {
    $(".panel-3").waypoint(function() {
        $(this).addClass("scrolled-to");
    }, {
        offset: "75%"
    });
}, 6e3);

function initDatepicker() {
    var pickers = [];
    $(".datepicker").each(function(index) {
        var picker = new Pikaday({
            field: $(this)[0],
            position: "bottom left"
        });
    });
}

$degrees = null;

$(window).resize(function() {
    $degreeParentWidth = $(".degree-blocks-wrap").outerWidth();
    $(".degree-drawer").css("width", $degreeParentWidth - 28 + "px");
    marginBottom = $(".degree-active").next(".degree-drawer").height();
    $(".degree-active").css("margin-bottom", marginBottom + 50 + "px");
});

function initDegreeDrawer(jsonURL) {
    var firstClick = true;
    $.getJSON(jsonURL, function(data) {
        $degrees = data;
        var blockType = $(".degree-block").closest(".degree-blocks-wrap").attr("data-block-type");
        $(".degree-block").each(function() {
            var degree_id = $(this).data("degreeId");
            if ($(this).closest(".degree-blocks-wrap").hasClass("layout-split-3")) {
                var layout_split = "4-8";
            } else {
                var layout_split = "3-9";
            }
            var $drawer = buildDegreeDrawer(degree_id, layout_split, blockType);
            $(this).after($drawer);
        });
        wow.init();
    });
    $(".degree-block").on("click", function() {
        $degreeParentWidth = $(".degree-blocks-wrap").outerWidth();
        var degree_id = $(this).data("degreeId");
        if (degree_id) {
            if ($("#degree-" + degree_id).filter(":visible").length > 0) {
                $("#degree-" + degree_id).fadeOut();
                $(this).css("margin-bottom", 0);
                $(this).removeClass("degree-active");
                $(this).closest(".degree-blocks-wrap").removeClass("open-drawer");
            } else {
                var has_sibling_drawer = $(this).parents(".open-drawer").length > 0 ? true : false, $open_drawers = $(".degree-drawer").filter(":visible"), $active_blocks = $(".degree-active");
                $open_drawers.hide();
                $(this).closest(".degree-blocks-wrap").addClass("open-drawer");
                if (has_sibling_drawer) {
                    $("#degree-" + degree_id).show(0);
                    setTimeout(function() {
                        $active_blocks.css("margin-bottom", 0);
                        $active_blocks.removeClass("degree-active");
                    }, 300);
                } else {
                    $("#degree-" + degree_id).fadeIn();
                    $active_blocks.css("margin-bottom", 0);
                    $active_blocks.removeClass("degree-active");
                }
                $(this).addClass("degree-active");
                if (firstClick) {
                    setTimeout(function() {
                        marginBottom = $(".degree-active").next(".degree-drawer").height();
                        console.log(marginBottom);
                        $(".degree-active").css("margin-bottom", marginBottom + 50 + "px");
                    }, 250);
                    firstClick = false;
                } else {
                    marginBottom = $(this).next(".degree-drawer").height();
                    $(this).css("margin-bottom", marginBottom + 50 + "px");
                }
                var spaceBottom = $(window).scrollTop() + $(window).height() - ($(this).offset().top + $(this).height());
                if (spaceBottom < 100) {
                    setTimeout(function() {
                        $("html, body").animate({
                            scrollTop: $("#degree-" + degree_id).offset().top - 300
                        }, 250);
                    }, 400);
                }
            }
        }
        $(".degree-drawer").css("width", $degreeParentWidth - 28 + "px");
        return false;
    });
}

function buildDegreeDrawer(degree_id, layout_split, blockType) {
    var degree = $degrees[degree_id];
    var $drawer, $drawer_container, $image_col, $text_col;
    var $drawer_border = '<svg class="svg-border" viewbox="0 0 100 100" preserveAspectRatio="none"><path class="wow drawSVGPath"  data-wow-delay="" data-wow-duration="2s" d="M0 0 L100 0 L100 100 L90 100" fill="none" stroke="#f6a704" stroke-width="10" vector-effect="non-scaling-stroke" /></svg>';
    $drawer = $('<div name="drawer" id="degree-' + degree_id + '" class="degree-drawer"></div>');
    $drawer_container = $('<div class="drawer-container layout-' + layout_split + '-of-12"></div>');
    if (degree.imgSrc && degree.imgSrc != "" && degree.link) {
        $image_col = $('<div class="column"><a href="' + degree.link + '"><img src="' + degree.imgSrc + '" alt="" /></a></div>');
    } else if (degree.imgSrc && degree.imgSrc != "") {
        $image_col = $('<div class="column"><img src="' + degree.imgSrc + '" alt="" /></div>');
    } else {
        $image_col = null;
    }
    $text_col = $('<div class="column"></div>');
    if (degree.degreeName && degree.link) {
        $text_col.append('<a href="' + degree.link + '" class="serif-italic-medium">' + degree.degreeName + "</a>");
    }
    if (degree.degreeDescription) {
        $text_col.append('<p class="sans-normal-small">' + degree.degreeDescription + "</p>");
    }
    if (degree.link) {
        $text_col.append('<a class="monospace-red-xsmall" href="' + degree.link + '">More about this ' + blockType + "</a>");
    }
    if (degree.linkDonate) {
        $text_col.append('<a class="monospace-red-xsmall" href="' + degree.link + '">Donate</a>');
    }
    $drawer_container.append($image_col);
    $drawer_container.append($text_col);
    $drawer_container.addClass("set-svg-border").append($drawer_border);
    $drawer.append($drawer_container);
    return $drawer;
}

function initFooterToggle() {
    $(".footer_schools-title").on("click", function() {
        if ($(".footer_schools-expand").text() == "+") {
            $(".footer_schools-expand").text("-");
        } else {
            $(".footer_schools-expand").text("+");
        }
        $(".footer_schools-list").toggleClass("footer-toggle-open");
        $(".footer_schools-list").slideToggle(200);
        return false;
    });
}

$(window).scroll(function(e) {
    var scrollPosition = $(this).scrollTop();
    $("[data-scrollable]").each(function() {
        var dataScrollMultiplier = $(this).data("scroll-speed");
        var scrollSpeed = scrollPosition * -dataScrollMultiplier;
        $(this).attr("style", "-webkit-transform: translateY(" + scrollSpeed + "px); transform: translateY(" + scrollSpeed + "px); -ms-transform: translateY(" + scrollSpeed + "px)");
    });
});

function initGallery() {
    $(".article-hero-gallery-items").magnificPopup({
        delegate: "a",
        type: "image",
        gallery: {
            enabled: true,
            preload: [ 0, 2 ]
        }
    });
    $(".icon-controls-expand").click(function() {
        $(".article-hero-gallery-items").magnificPopup("open");
    });
}

function ie9Placeholder() {
    if ($("html").hasClass("ie9")) {
        $(".search-field").val($(".search-field").attr("placeholder"));
    }
}

function initMobileSearch() {
    $(".mobile-search-trigger").on("click", function() {
        $(".mobile-search").slideToggle(200, function() {
            if ($("mobile-search").is(":visible")) $("mobile-search").css("display", "inline-block");
        });
        $subnavTrigger = $(".mobile-search-trigger");
        if ($subnavTrigger.hasClass("mobile-search-open")) {
            $subnavTrigger.removeClass("mobile-search-open");
        } else {
            $subnavTrigger.addClass("mobile-search-open");
        }
    });
}

function mobileToggle() {
    var mobileWrap = $(".site-header__mobile-wrap");
    var menuBtn = $(".mobile-toggles__menu a");
    var menuActiveClass = "mobile-toggles__menu--is-active";
    var searchActiveClass = "mobile-toggles__search--is-active";
    var mobileBreakpoint = "screen and (min-width: 950px)";
    var animationSpeed = "fast";
    enquire.register(mobileBreakpoint, {
        match: function() {
            mobileWrap.show();
        },
        unmatch: function() {
            mobileWrap.hide();
        }
    });
    menuBtn.bind("tap", function(e) {
        $(this).toggleClass(menuActiveClass);
        mobileWrap.slideToggle(animationSpeed);
    });
}

function initPeopleCarousel() {
    var slider = $(".people-slider");
    slider.owlCarousel({
        pagination: false,
        items: 5,
        itemsDesktop: [ 1100, 4 ],
        itemsDesktopSmall: [ 950, 3 ],
        itemsTablet: [ 750, 2 ],
        itemsMobile: [ 500, 2 ],
        scrollPerPage: true
    });
    $(".next").click(function() {
        slider.trigger("owl.next");
    });
    $(".prev").click(function() {
        slider.trigger("owl.prev");
    });
}

function initNewsCarousel() {
    var slider = $(".news-slider");
    slider.owlCarousel({
        pagination: false,
        items: 4,
        itemsDesktop: [ 1100, 4 ],
        itemsDesktopSmall: [ 950, 3 ],
        itemsTablet: [ 750, 3 ],
        itemsTablet: [ 650, 2 ],
        itemsMobile: [ 500, 1 ],
        scrollPerPage: true
    });
    $(".carousel-slider-next").click(function() {
        slider.trigger("owl.next");
    });
    $(".carousel-slider-prev").click(function() {
        slider.trigger("owl.prev");
    });
}

function initResponsiveElement() {
    $("[data-responsive-element-show]").each(function() {
        var showWidth = $(this).attr("data-responsive-element-show");
        if ($(window).outerWidth() > showWidth) {
            $(this).replaceWith($(this).html());
            $(".flowplayer").flowplayer();
            flowplayer(".school-hero .flowplayer", {
                clip: {
                    loop: true
                }
            });
        }
    });
    $("[data-responsive-element-hide]").each(function() {
        var hideWidth = $(this).attr("data-responsive-element-hide");
        if ($(window).outerWidth() > hideWidth) {
            $(this).remove();
        }
    });
}

function initShareRelated() {
    $(".share-link-toggle").on("click", function() {
        $("a.related-link-toggle").removeClass("link-toggle-open");
        $(this).toggleClass("link-toggle-open");
        $("ul.related-toggle-list").hide(200, function() {
            $("ul.share-toggle-list").slideToggle(200);
        });
        return false;
    });
    $(".related-link-toggle").on("click", function() {
        $("a.share-link-toggle").removeClass("link-toggle-open");
        $(this).toggleClass("link-toggle-open");
        $("ul.share-toggle-list").hide(200, function() {
            $("ul.related-toggle-list").slideToggle(200);
        });
        return false;
    });
}

function initSidebarNav() {
    $(".sidebar-trigger").on("click", function(event) {
        event.preventDefault();
        $(".sidebar-trigger span:last-child").toggleClass("icon-controls-plus");
        $(".sidebar-trigger span:last-child").toggleClass("icon-controls-minus");
        $(".mobile-sidebar-subnav").slideToggle(200, function() {
            if ($(".mobile-sidebar-subnav").is(":visible")) $(".mobile-sidebar-subnav").css("display", "inline-block");
        });
    });
    $(".filter-sidebar-trigger").on("click", function(event) {
        event.preventDefault();
        $(".filter-sidebar-trigger span:last-child").toggleClass("icon-controls-plus");
        $(".filter-sidebar-trigger span:last-child").toggleClass("icon-controls-minus");
        $(".filter-sidebar").delay(200).toggleClass("filter-open");
        $(".filter-sidebar > form").slideToggle(200, function() {
            if ($(".filter-sidebar > form").is(":visible")) $(".filter-sidebar > form").css("display", "inline-block");
        });
    });
}

function initSimpleToggle() {
    $(".simple-toggle").on("click", function(e) {
        e.preventDefault();
        if ($(this).text() == "More") {
            $(this).text("Less");
        } else if ($(this).text() == "Less") {
            $(this).text("More");
        }
        $(this).toggleClass("simple-toggle-open");
        $(this).next(".simple-toggle-content").slideToggle(200);
        return false;
    });
}

function skipLink() {
    $(".skip").click(function(event) {
        var skipTo = "#" + this.href.split("#")[1];
        $(skipTo).attr("tabindex", -1).on("blur focusout", function() {
            $(this).removeAttr("tabindex");
        }).focus();
    });
}

function initSubNav() {
    $(".subnav-trigger").on("click", function() {
        $(".mobile-subnav").slideToggle(200, function() {
            if ($("mobile-subnav").is(":visible")) $("mobile-subnav").css("display", "inline-block");
        });
        $subnavTrigger = $(".subnav-trigger");
        if ($(".subnav-trigger").text() == "More+") {
            $subnavTrigger.text("Less-");
        } else {
            $subnavTrigger.text("More+");
        }
    });
}

function initSummaryToggle() {
    $(".summary-toggle > a").on("click", function() {
        if ($(this).text() == "More+") {
            $(this).text("Less-");
        } else {
            $(this).text("More+");
        }
        $(this).toggleClass("summary-toggle-open");
        $(".summary-toggle div:not(.summary)").slideToggle(200, function() {
            if ($(this).css("display") != "none") {
                $(this).css("display", "inline");
                $(".summary-toggle > .summary").css("display", "inline-block");
            } else {
                $(".summary-toggle > .summary").css("display", "inline");
            }
        });
        return false;
    });
}

function initVidSwap(vidswap) {
    $(document).on("click", vidswap, function(e) {
        var vidLink = $(this).data("video-embed");
        var youTubeEmbed = '<iframe width="1280" height="720" src="https://www.youtube.com/embed/' + vidLink + '?rel=0&amp;controls=0&amp;showinfo=0&amp;autoplay=1" frameborder="0" allowfullscreen></iframe>';
        e.preventDefault();
        $(this).replaceWith(youTubeEmbed);
    });
}

function initVidPopup() {
    $.fn.flowoverlay = function() {
        var ACTIVE = "is-active";
        function toggle(el) {
            $("body").toggleClass("is-flowoverlayed", !!el);
            if (el) {
                el.addClass(ACTIVE).trigger("open");
            } else {
                els.filter("." + ACTIVE).removeClass(ACTIVE).trigger("close");
            }
        }
        var els = this.click(function() {
            toggle($(this));
        });
        $(document).keydown(function(e) {
            if (e.which == 27) {
                console.log("Hit Esacpe key");
                toggle();
                $("[data-video-column]").css("z-index", "1");
            }
        });
        $(".close-trigger", this).click(function(e) {
            e.stopPropagation();
            toggle();
            $("[data-video-column]").css("z-index", "1");
        });
        $(".flowoverlay", this).click(function(e) {
            e.stopPropagation();
            toggle();
            $("[data-video-column]").css("z-index", "1");
        });
        $(document).on("click", ".flowoverlay.is-active", function(e) {
            e.stopPropagation;
            if (e.target !== this) return;
            toggle();
        });
        return els;
    };
    $(function() {});
    flowplayer.conf = {
        key: "$727353813544345",
        brand: {
            text: "NYIT",
            showOnOrigin: false
        },
        logo: "../images/NYIT-LOGO-50px.png",
        swf: "//releases.flowplayer.org/6.0.4/commercial/flowplayer.swf"
    };
    $(".flowplayer").click(function(e) {
        console.log("clicked flowplayer");
        if (flowplayer.support.inlineVideo) {
            $(".flowoverlay").flowoverlay().on("close", function() {
                flowplayer($(".flowplayer", this)).unload();
            });
        }
        $("[data-video-column]").css("z-index", "1");
        $(this).closest(".column").css("z-index", "100").removeClass("animated");
        $(this).addClass("played");
    });
    $("[data-direct-link-trigger]").click(function(e) {
        e.preventDefault();
        $(this).closest(".direct-link-container").find(".direct-link").toggleClass("active");
        $(this).closest(".direct-link-container").find(".direct-link-input").select();
    });
    $(".direct-link-input").click(function(e) {
        e.preventDefault();
        $(this).select();
    });
}

wow = new WOW({
    animateClass: "animated",
    offset: 0
});

wow.init();

$(document).ready(function() {
    skipLink();
    mobileToggle();
    ie9Placeholder();
    initCarousel();
    initSubNav();
    initMobileSearch();
    initSidebarNav();
    initGallery();
    initVidPopup();
    initShareRelated();
    initSummaryToggle();
    initSimpleToggle();
    initFooterToggle();
    if ($("[data-drawer-url]").length) {
        var drawerURL = $("[data-drawer-url]").data("drawer-url");
        initDegreeDrawer(drawerURL);
    }
    initPeopleCarousel();
    initNewsCarousel();
    initVidSwap(".vidswap");
    initAjaxForms();
    initResponsiveElement();
});
